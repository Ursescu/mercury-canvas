!function(e){function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=h.p+""+e+"."+x+".hot-update.js",t.appendChild(n)}function n(e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var t=new XMLHttpRequest,n=h.p+""+x+".hot-update.json";t.open("GET",n,!0),t.timeout=1e4,t.send(null)}catch(r){return e(r)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)e(new Error("Manifest request to "+n+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)e(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(t.responseText)}catch(o){return void e(o)}e(null,r)}}}function r(e){function t(e,t){"ready"===F&&i("prepare"),C++,h.e(e,function(){function n(){C--,"prepare"===F&&(E[e]||c(e),0===C&&0===A&&f())}try{t.call(null,r)}finally{n()}})}var n=O[e];if(!n)return h;var r=function(t){return n.hot.active?O[t]?(O[t].parents.indexOf(e)<0&&O[t].parents.push(e),n.children.indexOf(t)<0&&n.children.push(t)):_=[e]:(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),_=[]),h(t)};for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(p?Object.defineProperty(r,o,function(e){return{configurable:!0,enumerable:!0,get:function(){return h[e]},set:function(t){h[e]=t}}}(o)):r[o]=h[o]);return p?Object.defineProperty(r,"e",{enumerable:!0,value:t}):r.e=t,r}function o(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(e,n){if("undefined"==typeof e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n;else t._acceptedDependencies[e]=n},decline:function(e){if("undefined"==typeof e)t._selfDeclined=!0;else if("number"==typeof e)t._declinedDependencies[e]=!0;else for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:s,apply:l,status:function(e){return e?void k.push(e):F},addStatusHandler:function(e){k.push(e)},removeStatusHandler:function(e){var t=k.indexOf(e);t>=0&&k.splice(t,1)},data:w[e]};return t}function i(e){F=e;for(var t=0;t<k.length;t++)k[t].call(null,e)}function a(e){var t=+e+""===e;return t?+e:e}function s(e,t){if("idle"!==F)throw new Error("check() is only allowed in idle status");"function"==typeof e?(b=!1,t=e):(b=e,t=t||function(e){if(e)throw e}),i("check"),n(function(e,n){if(e)return t(e);if(!n)return i("idle"),void t(null,null);S={},T={},E={};for(var r=0;r<n.c.length;r++)T[n.c[r]]=!0;m=n.h,i("prepare"),y=t,g={};var o=0;c(o),"prepare"===F&&0===C&&0===A&&f()})}function u(e,t){if(T[e]&&S[e]){S[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(g[n]=t[n]);0===--A&&0===C&&f()}}function c(e){T[e]?(S[e]=!0,A++,t(e)):E[e]=!0}function f(){i("ready");var e=y;if(y=null,e)if(b)l(b,e);else{var t=[];for(var n in g)Object.prototype.hasOwnProperty.call(g,n)&&t.push(a(n));e(null,t)}}function l(t,n){function r(e){for(var t=[e],n={},r=t.slice();r.length>0;){var i=r.pop(),e=O[i];if(e&&!e.hot._selfAccepted){if(e.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<e.parents.length;a++){var s=e.parents[a],u=O[s];if(u.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+s);t.indexOf(s)>=0||(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),o(n[s],[i])):(delete n[s],t.push(s),r.push(s)))}}}return[t,n]}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==F)throw new Error("apply() is only allowed in ready status");"function"==typeof t?(n=t,t={}):t&&"object"==typeof t?n=n||function(e){if(e)throw e}:(t={},n=n||function(e){if(e)throw e});var s={},u=[],c={};for(var f in g)if(Object.prototype.hasOwnProperty.call(g,f)){var l=a(f),d=r(l);if(!d){if(t.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+l+" is not accepted"))}if(d instanceof Error)return i("abort"),n(d);c[l]=g[l],o(u,d[0]);for(var l in d[1])Object.prototype.hasOwnProperty.call(d[1],l)&&(s[l]||(s[l]=[]),o(s[l],d[1][l]))}for(var p=[],v=0;v<u.length;v++){var l=u[v];O[l]&&O[l].hot._selfAccepted&&p.push({module:l,errorHandler:O[l].hot._selfAccepted})}i("dispose");for(var y=u.slice();y.length>0;){var l=y.pop(),b=O[l];if(b){for(var k={},A=b.hot._disposeHandlers,C=0;C<A.length;C++){var E=A[C];E(k)}w[l]=k,b.hot.active=!1,delete O[l];for(var C=0;C<b.children.length;C++){var S=O[b.children[C]];if(S){var T=S.parents.indexOf(l);T>=0&&S.parents.splice(T,1)}}}}for(var l in s)if(Object.prototype.hasOwnProperty.call(s,l))for(var b=O[l],I=s[l],C=0;C<I.length;C++){var j=I[C],T=b.children.indexOf(j);T>=0&&b.children.splice(T,1)}i("apply"),x=m;for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(e[l]=c[l]);var L=null;for(var l in s)if(Object.prototype.hasOwnProperty.call(s,l)){for(var b=O[l],I=s[l],M=[],v=0;v<I.length;v++){var j=I[v],E=b.hot._acceptedDependencies[j];M.indexOf(E)>=0||M.push(E)}for(var v=0;v<M.length;v++){var E=M[v];try{E(s)}catch(D){L||(L=D)}}}for(var v=0;v<p.length;v++){var P=p[v],l=P.module;_=[l];try{h(l)}catch(D){if("function"==typeof P.errorHandler)try{P.errorHandler(D)}catch(D){L||(L=D)}else L||(L=D)}}return L?(i("fail"),n(L)):(i("idle"),void n(null,u))}function h(t){if(O[t])return O[t].exports;var n=O[t]={exports:{},id:t,loaded:!1,hot:o(t),parents:_,children:[]};return e[t].call(n.exports,n,n.exports,r(t)),n.loaded=!0,n.exports}var d=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){u(e,t),d&&d(e,t)};var p=!1;try{Object.defineProperty({},"x",{get:function(){}}),p=!0}catch(v){}var y,g,m,b=!0,x="d1ab39787adb769637fa",w={},_=[],k=[],F="idle",A=0,C=0,E={},S={},T={},O={};return h.m=e,h.c=O,h.p="./assets/",h.h=function(){return x},r(0)(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,o){r.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1);var a=n(4),s=r(a),u=n(7),c=r(u);n(8),n(12),n(16);var f=n(24),l=r(f),h=n(25),d=r(h),p=n(26),v=r(p),y=n(27),g=n(32),m=n(42),b=r(m),x=n(68),w=n(73),_=r(w),k=n(75),F=r(k),A=n(76),C=r(A),E="info";window.blobs=[];var S=function(){function e(){o(this,e),this.URL=window.URL||window.webkitURL}return i(e,[{key:"createObjectURL",value:function(e){var t=this.URL.createObjectURL(e);return window.blobs.push(t),t}},{key:"revokeObjectURL",value:function(e){this.URL.revokeObjectURL(e),l["default"].remove(window.blobs,function(t){return t==e})}}]),e}();window.URL=new S,Number.prototype.toPi=function(){return this*Math.PI/180},Number.prototype.toDeg=function(){return this/Math.PI*180};for(var T=n(33)(window.log,{prefixes:["level"],staticPrefixes:["index"],separator:"/"}),O=["toolbar.js","tools.js","layer.js","helpers.js","worker.js","workerMaster.js"],I=0;I<O.length;I++)window.log.getLogger(O[I]).setLevel(E);window.log.setLevel(E),window.$=window.jQuery=window.jquery=s["default"],(0,c["default"])(s["default"]);var j=function(){function e(t){var n=this;o(this,e),l["default"].merge(this,new d["default"]),this.element=t,this.layersContainer=(0,s["default"])("<div>",{"class":"layersContainer"}).appendTo(this.element),this.layers={fitToWindow:[],list:[]},this.state=new F["default"],this.session=new C["default"]({mercuryCanvas:this}),this.workerMaster=new _["default"](this),this.state.menus.push(new x.Toolbar({parent:this,classes:"",fixed:"top",tools:y.topbarTools})),this.state.menus.push(new x.LayersPanel({parent:this,unfixable:!0,classes:"",fixed:"right"})),this.state.menus.push(new x.Settings({parent:this,classes:"",fixed:"left"})),(0,s["default"])("<div>",{"class":"dropText",html:"Drop to load"}).appendTo(this.element),this.base=new b["default"]({name:"base",parent:this,state:{removable:!1},options:{background:this.state.background}}),this.overlay=new b["default"]({name:"overlay",parent:this,state:{removable:!1}}),this.layers.fitToWindow.push(this.base,this.overlay),this.resize=this.resize.bind(this),(0,s["default"])(window).on("resize",l["default"].throttle(this.resize,33)),this.resize();var r={16:"shift",17:"ctrl",18:"alt"},i=function(e){return!l["default"].isUndefined(r[e])&&r[e]};(0,s["default"])(document.body).on({keydown:function(e){var t=i(e.which);t===!1||n.session.keys[t]||("alt"==t&&e.preventDefault(),n.session.keys[t]=!0,n.emit("key.down"))},keyup:function(e){var t=i(e.which);t!==!1&&n.session.keys[t]&&("alt"==t&&e.preventDefault(),n.session.keys[t]=!1,n.emit("key.up"))},mouseout:function(e){l["default"].forIn(n.state.activeTools,function(t){t.mouseLeave(e)}),n.emit("mouseout",e)},mousedown:function(e){n.emit("mousedown",e),!n.mouseDown(e)},mousemove:function(e){n.emit("mousemove",e),n.inMenu(e)||(n.session.mouse.lastEvent=e,l["default"].forIn(n.state.activeTools,function(t){"function"==typeof t.mouseMove&&t.mouseMove(e),"function"==typeof t.draw&&requestAnimationFrame(t.draw.bind(t,e))}))},mouseup:function(e){n.emit("mouseup",e),!n.mouseUp(e)},touchstart:function(e){n.mouseDown(e.originalEvent.touches[0]),n.emit("touchstart",e)},touchend:function(e){n.mouseUp(e),n.emit("touchend",e)},touchmove:function(e){l["default"].forIn(n.state.activeTools,function(t){l["default"].isFunction(t.touchMove)?t.touchMove(e):l["default"].isFunction(t.mouseMove)&&t.mouseMove(e.originalEvent.touches[0]),"function"==typeof t.draw&&requestAnimationFrame(t.draw.bind(t,e.originalEvent.touches[0]))}),n.emit("touchmove",e)},touchcancel:function(e){n.mouseUp(e),n.emit("touchend",e)}});var a=this;if(localStorage.getItem("layer")){var u=JSON.parse(localStorage.getItem("layer")),c=(0,s["default"])("<img>",{src:u.imageData});c.on("load",function(){for(var e=0;e<1;e++){var t=new b["default"]({image:c[0],parent:a,name:u.name+" "+e});t.coords.update({x:(n.base.coords.width-t.coords.width)/2,y:(n.base.coords.height-t.coords.height)/2})}})}this.on("layer.new",function(e){n.layers.list.push(e),n.session.zIndex++,n.overlay.coords.z=n.session.zIndex,n.overlay.element.css("zIndex",n.session.zIndex),n.session.zIndex=n.session.zIndex}),this.on("undo.layer.add",function(e){e.layer.remove(!0)}),this.on("redo.layer.add",function(e){e.layer.restore()}),this.on("operationRemove.layer.add",function(e){e.layer["delete"]()}),T.debug("Init complete")}return i(e,[{key:"addShortcut",value:function(e,t){var n;l["default"].isArray(e)&&(n=[],l["default"].each(e,function(e,t){n[t]=e.replace(/ \+ /gi,"+")})),l["default"].isString(e)&&e.length&&(n=e.replace(/ \+ /gi,"+")),n&&v["default"].bind(n,t)}},{key:"inMenu",value:function(e){var t=e.target.className.indexOf("menu")!=-1?(0,s["default"])(e.target):(0,s["default"])(e.target).parents(".menu");t.length||(t=(0,s["default"])(e.target).parents(".menuCollider"));var n=t.length>=1;return this.session.mouse.down?n=this.session.mouse.inMenu:this.session.mouse.inMenu=n,"mouseup"!=e.type&&"touchend"!=e.type&&"touchcancel"!=e.type||this.session.mouse.down||(n=!1),n}},{key:"mouseDown",value:function(e){if(this.session.mouse.down=!0,!this.inMenu(e))return l["default"].forIn(this.state.activeTools,function(t){t.mouseDown(e)}),!0}},{key:"mouseUp",value:function(e){if(this.session.mouse.down=!1,!this.inMenu(e))return l["default"].forIn(this.state.activeTools,function(t){t.mouseUp(e)}),!0}},{key:"resize",value:function(e){var t=document.body.clientWidth,n=document.body.clientHeight;if(e||t!=this.session.width||n!=this.session.height){var r=new g.coords({x:0,y:0,width:t,height:n});l["default"].forIn(this.state.menus,function(e){e.fixed&&("top"==e.fixed&&(r.y+=e.element.outerHeight()),"bottom"==e.fixed&&(r.height-=e.element.outerHeight()),"left"==e.fixed&&(r.x+=e.element.outerWidth()),"right"==e.fixed&&(r.width-=e.element.outerWidth()))}),r.width-=r.x,r.height-=r.y,this.layersContainer.coords=r,this.layersContainer.css({left:r.x,top:r.y,width:r.width,height:r.height}),l["default"].forIn(this.layers.fitToWindow,function(e){return e.resize({width:r.width,height:r.height})}),l["default"].forIn(this.state.menus,function(e){return e.resize({width:t,height:n,topHeight:r.y,menuHeight:n-r.height})}),this.session.width=t,this.session.height=n}}}]),e}();window.mercuryCanvas=window.MercuryCanvas=window.mc=new j((0,s["default"])("#wrapper"))},function(e,t,n){n(2)(n(3))},function(e,t){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},function(e,t){e.exports='/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    "use strict";\n    if (typeof define === \'function\' && define.amd) {\n        define(definition);\n    } else if (typeof module === \'object\' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    "use strict";\n    var noop = function() {};\n    var undefinedType = "undefined";\n\n    function realMethod(methodName) {\n        if (typeof console === undefinedType) {\n            return false; // We can\'t build a real method without a console to log to\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, \'log\');\n        } else {\n            return noop;\n        }\n    }\n\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === \'function\') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // these private functions always need `this` to be set properly\n\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n    }\n\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    var logMethods = [\n        "trace",\n        "debug",\n        "info",\n        "warn",\n        "error"\n    ];\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = "loglevel";\n      if (name) {\n        storageKey += ":" + name;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || \'silent\').toUpperCase();\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + "=" + levelName + ";";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + "=");\n                  if (location) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public API\n       *\n       */\n\n      self.levels = { "TRACE": 0, "DEBUG": 1, "INFO": 2, "WARN": 3,\n          "ERROR": 4, "SILENT": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === "string" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === "number" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return "No console available for logging";\n              }\n          } else {\n              throw "log.setLevel() called with invalid level: " + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? "WARN" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Package-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== "string" || name === "") {\n          throw new TypeError("You must supply a name when creating a logger.");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    return defaultLogger;\n}));\n'},function(e,t,n){var r,o;(function(e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};/*! jQuery v2.1.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-css/hiddenVisibleSelectors | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(t,n){"object"==i(e)&&"object"==i(e.exports)?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:void 0,function(a,s){function u(e){var t=e.length,n=X.type(e);return"function"!==n&&!X.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function c(e,t,n){if(X.isFunction(t))return X.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return X.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(oe.test(t))return X.filter(t,e,n);t=X.filter(t,e)}return X.grep(e,function(e){return B.call(t,e)>=0!==n})}function f(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t=le[e]={};return X.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function h(){$.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1),X.ready()}function d(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=X.expando+Math.random()}function p(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ge,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ye.test(n)?X.parseJSON(n):n)}catch(o){}ve.set(e,t,n)}else n=void 0;return n}function v(){return!0}function y(){return!1}function g(){try{return $.activeElement}catch(e){}}function m(e,t){return X.nodeName(e,"table")&&X.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function x(e){var t=Le.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n=0,r=e.length;r>n;n++)pe.set(e[n],"globalEval",!t||pe.get(t[n],"globalEval"))}function _(e,t){var n,r,o,i,a,s,u,c;if(1===t.nodeType){if(pe.hasData(e)&&(i=pe.access(e),a=pe.set(t,i),c=i.events)){delete a.handle,a.events={};for(o in c)for(n=0,r=c[o].length;r>n;n++)X.event.add(t,o,c[o][n])}ve.hasData(e)&&(s=ve.access(e),u=X.extend({},s),ve.set(t,u))}}function k(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&X.nodeName(e,t)?X.merge([e],n):n}function F(e,t){var n=t.nodeName.toLowerCase();"input"===n&&we.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function A(e,t){var n,r=X(t.createElement(e)).appendTo(t.body),o=a.getDefaultComputedStyle&&(n=a.getDefaultComputedStyle(r[0]))?n.display:X.css(r[0],"display");return r.detach(),o}function C(e){var t=$,n=Re[e];return n||(n=A(e,t),"none"!==n&&n||(Pe=(Pe||X("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Pe[0].contentDocument,t.write(),t.close(),n=A(e,t),Pe.detach()),Re[e]=n),n}function E(e,t,n){var r,o,i,a,s=e.style;return n=n||Be(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||X.contains(e.ownerDocument,e)||(a=X.style(e,t)),ze.test(a)&&Ne.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function S(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,o=Ye.length;o--;)if(t=Ye[o]+n,t in e)return t;return r}function O(e,t,n){var r=qe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function I(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=X.css(e,n+be[i],!0,o)),r?("content"===n&&(a-=X.css(e,"padding"+be[i],!0,o)),"margin"!==n&&(a-=X.css(e,"border"+be[i]+"Width",!0,o))):(a+=X.css(e,"padding"+be[i],!0,o),"padding"!==n&&(a+=X.css(e,"border"+be[i]+"Width",!0,o)));return a}function j(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=Be(e),a="border-box"===X.css(e,"boxSizing",!1,i);if(0>=o||null==o){if(o=E(e,t,i),(0>o||null==o)&&(o=e.style[t]),ze.test(o))return o;r=a&&(W.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+I(e,t,n||(a?"border":"content"),r,i)+"px"}function L(e,t){for(var n,r,o,i=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(i[a]=pe.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&xe(r)&&(i[a]=pe.access(r,"olddisplay",C(r.nodeName)))):(o=xe(r),"none"===n&&o||pe.set(r,"olddisplay",o?n:X.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function M(e,t,n,r){var o;if(X.isArray(t))X.each(t,function(t,o){n||et.test(e)?r(e,o):M(e+"["+("object"==("undefined"==typeof o?"undefined":i(o))?t:"")+"]",o,n,r)});else if(n||"object"!==X.type(t))r(e,t);else for(o in t)M(e+"["+o+"]",t[o],n,r)}function D(e){return X.isWindow(e)?e:9===e.nodeType&&e.defaultView}var P=[],R=P.slice,N=P.concat,z=P.push,B=P.indexOf,U={},q=U.toString,H=U.hasOwnProperty,W={},$=a.document,Y="2.1.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-css/hiddenVisibleSelectors",X=function at(e,t){return new at.fn.init(e,t)},V=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Z=/^-ms-/,K=/-([\da-z])/gi,G=function(e,t){return t.toUpperCase()};X.fn=X.prototype={jquery:Y,constructor:X,selector:"",length:0,toArray:function(){return R.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:R.call(this)},pushStack:function(e){var t=X.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return X.each(this,e,t)},map:function(e){return this.pushStack(X.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:P.sort,splice:P.splice},X.extend=X.fn.extend=function(){var e,t,n,r,o,a,s=arguments[0]||{},u=1,c=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[u]||{},u++),"object"==("undefined"==typeof s?"undefined":i(s))||X.isFunction(s)||(s={}),u===c&&(s=this,u--);c>u;u++)if(null!=(e=arguments[u]))for(t in e)n=s[t],r=e[t],s!==r&&(f&&r&&(X.isPlainObject(r)||(o=X.isArray(r)))?(o?(o=!1,a=n&&X.isArray(n)?n:[]):a=n&&X.isPlainObject(n)?n:{},s[t]=X.extend(f,a,r)):void 0!==r&&(s[t]=r));return s},X.extend({expando:"jQuery"+(Y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===X.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!X.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"===X.type(e)&&!e.nodeType&&!X.isWindow(e)&&!(e.constructor&&!H.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==("undefined"==typeof e?"undefined":i(e))||"function"==typeof e?U[q.call(e)]||"object":"undefined"==typeof e?"undefined":i(e)},globalEval:function(e){var t,n=eval;e=X.trim(e),e&&(1===e.indexOf("use strict")?(t=$.createElement("script"),t.text=e,$.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(Z,"ms-").replace(K,G)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,o=0,i=e.length,a=u(e);if(n){if(a)for(;i>o&&(r=t.apply(e[o],n),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],n),r===!1)break}else if(a)for(;i>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(V,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(u(Object(e))?X.merge(n,"string"==typeof e?[e]:e):z.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:B.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;a>i;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,n){var r,o=0,i=e.length,a=u(e),s=[];if(a)for(;i>o;o++)r=t(e[o],o,n),null!=r&&s.push(r);else for(o in e)r=t(e[o],o,n),null!=r&&s.push(r);return N.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),X.isFunction(e)?(r=R.call(arguments,2),o=function(){return e.apply(t||this,r.concat(R.call(arguments)))},o.guid=e.guid=e.guid||X.guid++,o):void 0},now:Date.now,support:W}),X.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){U["[object "+t+"]"]=t.toLowerCase()});var J,Q=a.document.documentElement,ee=Q.matches||Q.webkitMatchesSelector||Q.mozMatchesSelector||Q.oMatchesSelector||Q.msMatchesSelector,te=function(e,t){if(e===t)return J=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n?e===$||X.contains($,e)?-1:t===$||X.contains($,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1};X.extend({find:function(e,t,n,r){var o,i,a=0;if(n=n||[],t=t||$,!e||"string"!=typeof e)return n;if(1!==(i=t.nodeType)&&9!==i)return[];if(r)for(;o=r[a++];)X.find.matchesSelector(o,e)&&n.push(o);else X.merge(n,t.querySelectorAll(e));return n},unique:function(e){var t,n=[],r=0,o=0;if(J=!1,e.sort(te),J){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return e},text:function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o)return e.textContent;if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=X.text(t);return n},contains:function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!n.contains(r))},isXMLDoc:function(e){return"HTML"!==(e.ownerDocument||e).documentElement.nodeName},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),X.extend(X.find,{matches:function(e,t){return X.find(e,null,null,t)},matchesSelector:function(e,t){return ee.call(e,t)},attr:function(e,t){return e.getAttribute(t)}});var ne=X.expr.match.needsContext,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^.[^:#\[\.,]*$/;X.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?X.find.matchesSelector(r,e)?[r]:[]:X.find.matches(e,X.grep(t,function(e){return 1===e.nodeType}))},X.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(X(e).filter(function(){for(t=0;n>t;t++)if(X.contains(o[t],this))return!0}));for(t=0;n>t;t++)X.find(e,o[t],r);return r=this.pushStack(n>1?X.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&ne.test(e)?X(e):e||[],!1).length}});var ie,ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,se=X.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ae.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ie).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof X?t[0]:t,X.merge(this,X.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),re.test(n[1])&&X.isPlainObject(t))for(n in t)X.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=$.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=$,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):X.isFunction(e)?"undefined"!=typeof ie.ready?ie.ready(e):e(X):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),X.makeArray(e,this))};se.prototype=X.fn,ie=X($);var ue=/^(?:parents|prev(?:Until|All))/,ce={children:!0,contents:!0,next:!0,prev:!0};X.extend({dir:function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&X(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),X.fn.extend({has:function(e){var t=X(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(X.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=ne.test(e)||"string"!=typeof e?X(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&X.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?X.unique(i):i)},index:function(e){return e?"string"==typeof e?B.call(X(e),this[0]):B.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(X.unique(X.merge(this.get(),X(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),X.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return X.dir(e,"parentNode")},parentsUntil:function(e,t,n){return X.dir(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return X.dir(e,"nextSibling")},prevAll:function(e){return X.dir(e,"previousSibling")},nextUntil:function(e,t,n){return X.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return X.dir(e,"previousSibling",n)},siblings:function(e){return X.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return X.sibling(e.firstChild)},contents:function(e){return e.contentDocument||X.merge([],e.childNodes)}},function(e,t){X.fn[e]=function(n,r){var o=X.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=X.filter(r,o)),this.length>1&&(ce[e]||X.unique(o),ue.test(e)&&o.reverse()),this.pushStack(o)}});var fe=/\S+/g,le={};X.Callbacks=function(e){e="string"==typeof e?le[e]||l(e):X.extend({},e);var t,n,r,o,i,a,s=[],u=!e.once&&[],c=function h(c){for(t=e.memory&&c,n=!0,a=o||0,o=0,i=s.length,r=!0;s&&i>a;a++)if(s[a].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,s&&(u?u.length&&h(u.shift()):t?s=[]:f.disable())},f={add:function(){if(s){var n=s.length;!function a(t){X.each(t,function(t,n){var r=X.type(n);"function"===r?e.unique&&f.has(n)||s.push(n):n&&n.length&&"string"!==r&&a(n)})}(arguments),r?i=s.length:t&&(o=n,c(t))}return this},remove:function(){return s&&X.each(arguments,function(e,t){for(var n;(n=X.inArray(t,s,n))>-1;)s.splice(n,1),r&&(i>=n&&i--,a>=n&&a--)}),this},has:function(e){return e?X.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],i=0,this},disable:function(){return s=u=t=void 0,this},disabled:function(){return!s},lock:function(){return u=void 0,t||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!s||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},X.extend({Deferred:function(e){var t=[["resolve","done",X.Callbacks("once memory"),"resolved"],["reject","fail",X.Callbacks("once memory"),"rejected"],["notify","progress",X.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return X.Deferred(function(n){X.each(t,function(t,i){var a=X.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&X.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?X.extend(e,r):r}},o={};return r.pipe=r.then,X.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=R.call(arguments),a=i.length,s=1!==a||e&&X.isFunction(e.promise)?a:0,u=1===s?e:X.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?R.call(arguments):o,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>o;o++)i[o]&&X.isFunction(i[o].promise)?i[o].promise().done(c(o,r,i)).fail(u.reject).progress(c(o,n,t)):--s;return s||u.resolveWith(r,i),u.promise()}});var he;X.fn.ready=function(e){return X.ready.promise().done(e),this},X.extend({isReady:!1,readyWait:1,holdReady:function(e){e?X.readyWait++:X.ready(!0)},ready:function(e){(e===!0?--X.readyWait:X.isReady)||(X.isReady=!0,e!==!0&&--X.readyWait>0||(he.resolveWith($,[X]),X.fn.triggerHandler&&(X($).triggerHandler("ready"),X($).off("ready"))))}}),X.ready.promise=function(e){return he||(he=X.Deferred(),"complete"===$.readyState?setTimeout(X.ready):($.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1))),he.promise(e)},X.ready.promise();var de=X.access=function(e,t,n,r,o,i,a){var s=0,u=e.length,c=null==n;if("object"===X.type(n)){o=!0;for(s in n)X.access(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,X.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(X(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):u?t(e[0],n):i};X.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},d.uid=1,d.accepts=X.acceptData,d.prototype={key:function(e){if(!d.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=d.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,X.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,o=this.key(e),i=this.cache[o];if("string"==typeof t)i[t]=n;else if(X.isEmptyObject(i))X.extend(this.cache[o],t);else for(r in t)i[r]=t[r];return i},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,X.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=this.key(e),a=this.cache[i];if(void 0===t)this.cache[i]={};else{X.isArray(t)?r=t.concat(t.map(X.camelCase)):(o=X.camelCase(t),t in a?r=[t,o]:(r=o,r=r in a?[r]:r.match(fe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!X.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var pe=new d,ve=new d,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ge=/([A-Z])/g;X.extend({hasData:function(e){return ve.hasData(e)||pe.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,n){return pe.access(e,t,n)},_removeData:function(e,t){pe.remove(e,t)}}),X.fn.extend({data:function(e,t){var n,r,o,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(o=ve.get(a),1===a.nodeType&&!pe.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=X.camelCase(r.slice(5)),p(a,r,o[r])));pe.set(a,"hasDataAttrs",!0)}return o}return"object"==("undefined"==typeof e?"undefined":i(e))?this.each(function(){ve.set(this,e)}):de(this,function(t){var n,r=X.camelCase(e);if(a&&void 0===t){if(n=ve.get(a,e),void 0!==n)return n;if(n=ve.get(a,r),void 0!==n)return n;if(n=p(a,r,void 0),void 0!==n)return n}else this.each(function(){var n=ve.get(this,r);ve.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),X.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=pe.get(e,t),n&&(!r||X.isArray(n)?r=pe.access(e,t,X.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=X.queue(e,t),r=n.length,o=n.shift(),i=X._queueHooks(e,t),a=function(){X.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pe.get(e,n)||pe.access(e,n,{empty:X.Callbacks("once memory").add(function(){pe.remove(e,[t+"queue",n])})})}}),X.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?X.queue(this[0],e):void 0===t?this:this.each(function(){var n=X.queue(this,e,t);X._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&X.dequeue(this,e)})},dequeue:function(e){return this.each(function(){X.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=X.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=pe.get(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var me=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,be=["Top","Right","Bottom","Left"],xe=function(e,t){return e=t||e,"none"===X.css(e,"display")||!X.contains(e.ownerDocument,e)},we=/^(?:checkbox|radio)$/i;!function(){var e=$.createDocumentFragment(),t=e.appendChild($.createElement("div")),n=$.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),W.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var _e="undefined";W.focusinBubbles="onfocusin"in a;var ke=/^key/,Fe=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Ce=/^([^.]*)(?:\.(.+)|)$/;X.event={global:{},add:function(e,t,n,r,o){var a,s,u,c,f,l,h,d,p,v,y,g=pe.get(e);if(g)for(n.handler&&(a=n,n=a.handler,o=a.selector),n.guid||(n.guid=X.guid++),(c=g.events)||(c=g.events={}),(s=g.handle)||(s=g.handle=function(t){return("undefined"==typeof X?"undefined":i(X))!==_e&&X.event.triggered!==t.type?X.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],f=t.length;f--;)u=Ce.exec(t[f])||[],p=y=u[1],v=(u[2]||"").split(".").sort(),p&&(h=X.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=X.event.special[p]||{},l=X.extend({type:p,origType:y,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&X.expr.match.needsContext.test(o),namespace:v.join(".")},a),(d=c[p])||(d=c[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,r,v,s)!==!1||e.addEventListener&&e.addEventListener(p,s,!1)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),X.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,s,u,c,f,l,h,d,p,v,y=pe.hasData(e)&&pe.get(e);if(y&&(u=y.events)){for(t=(t||"").match(fe)||[""],c=t.length;c--;)if(s=Ce.exec(t[c])||[],d=v=s[1],p=(s[2]||"").split(".").sort(),d){for(l=X.event.special[d]||{},d=(r?l.delegateType:l.bindType)||d,h=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=h.length;i--;)f=h[i],!o&&v!==f.origType||n&&n.guid!==f.guid||s&&!s.test(f.namespace)||r&&r!==f.selector&&("**"!==r||!f.selector)||(h.splice(i,1),f.selector&&h.delegateCount--,l.remove&&l.remove.call(e,f));a&&!h.length&&(l.teardown&&l.teardown.call(e,p,y.handle)!==!1||X.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)X.event.remove(e,d+t[c],n,r,!0);X.isEmptyObject(u)&&(delete y.handle,pe.remove(e,"events"))}},trigger:function(e,t,n,r){var o,s,u,c,f,l,h,d=[n||$],p=H.call(e,"type")?e.type:e,v=H.call(e,"namespace")?e.namespace.split("."):[];if(s=u=n=n||$,3!==n.nodeType&&8!==n.nodeType&&!Ae.test(p+X.event.triggered)&&(p.indexOf(".")>=0&&(v=p.split("."),p=v.shift(),v.sort()),f=p.indexOf(":")<0&&"on"+p,e=e[X.expando]?e:new X.Event(p,"object"==("undefined"==typeof e?"undefined":i(e))&&e),e.isTrigger=r?2:3,e.namespace=v.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:X.makeArray(t,[e]),h=X.event.special[p]||{},r||!h.trigger||h.trigger.apply(n,t)!==!1)){if(!r&&!h.noBubble&&!X.isWindow(n)){for(c=h.delegateType||p,Ae.test(c+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(n.ownerDocument||$)&&d.push(u.defaultView||u.parentWindow||a)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||p,l=(pe.get(s,"events")||{})[e.type]&&pe.get(s,"handle"),l&&l.apply(s,t),l=f&&s[f],l&&l.apply&&X.acceptData(s)&&(e.result=l.apply(s,t),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),t)!==!1||!X.acceptData(n)||f&&X.isFunction(n[p])&&!X.isWindow(n)&&(u=n[f],u&&(n[f]=null),X.event.triggered=p,n[p](),X.event.triggered=void 0,u&&(n[f]=u)),e.result}},dispatch:function(e){e=X.event.fix(e);var t,n,r,o,i,a=[],s=R.call(arguments),u=(pe.get(this,"events")||{})[e.type]||[],c=X.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=X.event.handlers.call(this,e,u),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((X.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?X(o,this).index(u)>=0:X.find(o,this,null,[u]).length),r[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||$,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[X.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Fe.test(o)?this.mouseHooks:ke.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new X.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=$),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&X.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return X.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=X.extend(new X.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?X.event.trigger(o,null,t):X.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},X.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},X.Event=function(e,t){return this instanceof X.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?v:y):this.type=e,t&&X.extend(this,t),this.timeStamp=e&&e.timeStamp||X.now(),void(this[X.expando]=!0)):new X.Event(e,t)},X.Event.prototype={isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},X.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){X.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return(!o||o!==r&&!X.contains(r,o))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),W.focusinBubbles||X.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){X.event.simulate(t,e.target,X.event.fix(e),!0)};X.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=pe.access(r,t);o||r.addEventListener(e,n,!0),pe.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=pe.access(r,t)-1;o?pe.access(r,t,o):(r.removeEventListener(e,n,!0),pe.remove(r,t))}}}),X.fn.extend({on:function(e,t,n,r,o){var a,s;if("object"==("undefined"==typeof e?"undefined":i(e))){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=y;else if(!r)return this;return 1===o&&(a=r,r=function(e){return X().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=X.guid++)),this.each(function(){X.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,X(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==("undefined"==typeof e?"undefined":i(e))){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=y),this.each(function(){X.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){X.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?X.event.trigger(e,t,n,!0):void 0}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Se=/<([\w:]+)/,Te=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Le=/^true\/(.*)/,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,De={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.optgroup=De.option,De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,X.extend({clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),u=X.contains(e.ownerDocument,e);if(!(W.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||X.isXMLDoc(e)))for(a=k(s),i=k(e),r=0,o=i.length;o>r;r++)F(i[r],a[r]);if(t)if(n)for(i=i||k(e),a=a||k(s),r=0,o=i.length;o>r;r++)_(i[r],a[r]);else _(e,s);return a=k(s,"script"),a.length>0&&w(a,!u&&k(e,"script")),s},buildFragment:function(e,t,n,r){for(var o,i,a,s,u,c,f=t.createDocumentFragment(),l=[],h=0,d=e.length;d>h;h++)if(o=e[h],o||0===o)if("object"===X.type(o))X.merge(l,o.nodeType?[o]:o);else if(Te.test(o)){for(i=i||f.appendChild(t.createElement("div")),a=(Se.exec(o)||["",""])[1].toLowerCase(),s=De[a]||De._default,i.innerHTML=s[1]+o.replace(Ee,"<$1></$2>")+s[2],
c=s[0];c--;)i=i.lastChild;X.merge(l,i.childNodes),i=f.firstChild,i.textContent=""}else l.push(t.createTextNode(o));for(f.textContent="",h=0;o=l[h++];)if((!r||-1===X.inArray(o,r))&&(u=X.contains(o.ownerDocument,o),i=k(f.appendChild(o),"script"),u&&w(i),n))for(c=0;o=i[c++];)je.test(o.type||"")&&n.push(o);return f},cleanData:function(e){for(var t,n,r,o,i=X.event.special,a=0;void 0!==(n=e[a]);a++){if(X.acceptData(n)&&(o=n[pe.expando],o&&(t=pe.cache[o]))){if(t.events)for(r in t.events)i[r]?X.event.remove(n,r):X.removeEvent(n,r,t.handle);pe.cache[o]&&delete pe.cache[o]}delete ve.cache[n[ve.expando]]}}}),X.fn.extend({text:function(e){return de(this,function(e){return void 0===e?X.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=m(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=m(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?X.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||X.cleanData(k(n)),n.parentNode&&(t&&X.contains(n.ownerDocument,n)&&w(k(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(X.cleanData(k(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return X.clone(this,e,t)})},html:function(e){return de(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!De[(Se.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ee,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(X.cleanData(k(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,X.cleanData(k(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=N.apply([],e);var n,r,o,i,a,s,u=0,c=this.length,f=this,l=c-1,h=e[0],d=X.isFunction(h);if(d||c>1&&"string"==typeof h&&!W.checkClone&&Ie.test(h))return this.each(function(n){var r=f.eq(n);d&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(c&&(n=X.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(o=X.map(k(n,"script"),b),i=o.length;c>u;u++)a=n,u!==l&&(a=X.clone(a,!0,!0),i&&X.merge(o,k(a,"script"))),t.call(this[u],a,u);if(i)for(s=o[o.length-1].ownerDocument,X.map(o,x),u=0;i>u;u++)a=o[u],je.test(a.type||"")&&!pe.access(a,"globalEval")&&X.contains(s,a)&&(a.src?X._evalUrl&&X._evalUrl(a.src):X.globalEval(a.textContent.replace(Me,"")))}return this}}),X.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){X.fn[e]=function(e){for(var n,r=[],o=X(e),i=o.length-1,a=0;i>=a;a++)n=a===i?this:this.clone(!0),X(o[a])[t](n),z.apply(r,n.get());return this.pushStack(r)}});var Pe,Re={},Ne=/^margin/,ze=new RegExp("^("+me+")(?!px)[a-z%]+$","i"),Be=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){var e,t,n=$.documentElement,r=$.createElement("div"),o=$.createElement("div");o.style&&!function(){var i=function s(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",n.appendChild(r);var s=a.getComputedStyle(o,null);e="1%"!==s.top,t="4px"===s.width,n.removeChild(r)};o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),a.getComputedStyle&&X.extend(W,{pixelPosition:function(){return i(),e},boxSizingReliable:function(){return null==t&&i(),t},reliableMarginRight:function(){var e,t=o.appendChild($.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",n.appendChild(r),e=!parseFloat(a.getComputedStyle(t,null).marginRight),n.removeChild(r),e}})}()}(),X.swap=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o};var Ue=/^(none|table(?!-c[ea]).+)/,qe=new RegExp("^("+me+")(.*)$","i"),He=new RegExp("^([+-])=("+me+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];X.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=E(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=X.camelCase(t),c=e.style;return t=X.cssProps[u]||(X.cssProps[u]=T(c,u)),s=X.cssHooks[t]||X.cssHooks[u],void 0===n?s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:c[t]:(a="undefined"==typeof n?"undefined":i(n),"string"===a&&(o=He.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(X.css(e,t)),a="number"),void(null!=n&&n===n&&("number"!==a||X.cssNumber[u]||(n+="px"),W.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(c[t]=n))))}},css:function(e,t,n,r){var o,i,a,s=X.camelCase(t);return t=X.cssProps[s]||(X.cssProps[s]=T(e.style,s)),a=X.cssHooks[t]||X.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=E(e,t,r)),"normal"===o&&t in $e&&(o=$e[t]),""===n||n?(i=parseFloat(o),n===!0||X.isNumeric(i)?i||0:o):o}}),X.each(["height","width"],function(e,t){X.cssHooks[t]={get:function(e,n,r){return n?Ue.test(X.css(e,"display"))&&0===e.offsetWidth?X.swap(e,We,function(){return j(e,t,r)}):j(e,t,r):void 0},set:function(e,n,r){var o=r&&Be(e);return O(e,n,r?I(e,t,r,"border-box"===X.css(e,"boxSizing",!1,o),o):0)}}}),X.cssHooks.marginRight=S(W.reliableMarginRight,function(e,t){return t?X.swap(e,{display:"inline-block"},E,[e,"marginRight"]):void 0}),X.each({margin:"",padding:"",border:"Width"},function(e,t){X.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+be[r]+t]=i[r]||i[r-2]||i[0];return o}},Ne.test(e)||(X.cssHooks[e+t].set=O)}),X.fn.extend({css:function(e,t){return de(this,function(e,t,n){var r,o,i={},a=0;if(X.isArray(t)){for(r=Be(e),o=t.length;o>a;a++)i[t[a]]=X.css(e,t[a],!1,r);return i}return void 0!==n?X.style(e,t,n):X.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){xe(this)?X(this).show():X(this).hide()})}}),X.fn.delay=function(e,t){return e=X.fx?X.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=$.createElement("input"),t=$.createElement("select"),n=t.appendChild($.createElement("option"));e.type="checkbox",W.checkOn=""!==e.value,W.optSelected=n.selected,t.disabled=!0,W.optDisabled=!n.disabled,e=$.createElement("input"),e.value="t",e.type="radio",W.radioValue="t"===e.value}();var Xe,Ve,Ze=X.expr.attrHandle;X.fn.extend({attr:function(e,t){return de(this,X.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){X.removeAttr(this,e)})}}),X.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return i(e.getAttribute)===_e?X.prop(e,t,n):(1===a&&X.isXMLDoc(e)||(t=t.toLowerCase(),r=X.attrHooks[t]||(X.expr.match.bool.test(t)?Ve:Xe)),void 0===n?r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=X.find.attr(e,t),null==o?void 0:o):null!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void X.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(fe);if(i&&1===e.nodeType)for(;n=i[o++];)r=X.propFix[n]||n,X.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!W.radioValue&&"radio"===t&&X.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ve={set:function(e,t,n){return t===!1?X.removeAttr(e,n):e.setAttribute(n,n),n}},X.each(X.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ze[t]||X.find.attr;Ze[t]=function(e,t,r){var o,i;return r||(i=Ze[t],Ze[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,Ze[t]=i),o}});var Ke=/^(?:input|select|textarea|button)$/i;X.fn.extend({prop:function(e,t){return de(this,X.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[X.propFix[e]||e]})}}),X.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,o,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return i=1!==a||!X.isXMLDoc(e),i&&(t=X.propFix[t]||t,o=X.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ke.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),W.optSelected||(X.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),X.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){X.propFix[this.toLowerCase()]=this});var Ge=/[\t\r\n\f]/g;X.fn.extend({addClass:function(e){var t,n,r,o,i,a,s="string"==typeof e&&e,u=0,c=this.length;if(X.isFunction(e))return this.each(function(t){X(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ge," "):" ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=X.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,o,i,a,s=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(X.isFunction(e))return this.each(function(t){X(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ge," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");a=e?X.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n="undefined"==typeof e?"undefined":i(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(X.isFunction(e)?function(n){X(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,o=X(this),i=e.match(fe)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===_e||"boolean"===n)&&(this.className&&pe.set(this,"__className__",this.className),this.className=this.className||e===!1?"":pe.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ge," ").indexOf(t)>=0)return!0;return!1}});var Je=/\r/g;X.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=X.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,X(this).val()):e,null==o?o="":"number"==typeof o?o+="":X.isArray(o)&&(o=X.map(o,function(e){return null==e?"":e+""})),t=X.valHooks[this.type]||X.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=X.valHooks[o.type]||X.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Je,""):null==n?"":n)):void 0}}),X.extend({valHooks:{option:{get:function(e){var t=X.find.attr(e,"value");return null!=t?t:X.trim(X.text(e))}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,a=i?null:[],s=i?o+1:r.length,u=0>o?s:i?o:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==o||(W.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&X.nodeName(n.parentNode,"optgroup"))){if(t=X(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=X.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=X.inArray(r.value,i)>=0)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),X.each(["radio","checkbox"],function(){X.valHooks[this]={set:function(e,t){return X.isArray(t)?e.checked=X.inArray(X(e).val(),t)>=0:void 0}},W.checkOn||(X.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),X.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){X.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),X.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),X.fn.extend({wrapAll:function(e){var t;return X.isFunction(e)?this.each(function(t){X(this).wrapAll(e.call(this,t))}):(this[0]&&(t=X(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(X.isFunction(e)?function(t){X(this).wrapInner(e.call(this,t))}:function(){var t=X(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=X.isFunction(e);return this.each(function(n){X(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){X.nodeName(this,"body")||X(this).replaceWith(this.childNodes)}).end()}});var Qe=/%20/g,et=/\[\]$/,tt=/\r?\n/g,nt=/^(?:submit|button|image|reset|file)$/i,rt=/^(?:input|select|textarea|keygen)/i;X.param=function(e,t){var n,r=[],o=function(e,t){t=X.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=X.ajaxSettings&&X.ajaxSettings.traditional),X.isArray(e)||e.jquery&&!X.isPlainObject(e))X.each(e,function(){o(this.name,this.value)});else for(n in e)M(n,e[n],t,o);return r.join("&").replace(Qe,"+")},X.fn.extend({serialize:function(){return X.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=X.prop(this,"elements");return e?X.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!X(this).is(":disabled")&&rt.test(this.nodeName)&&!nt.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=X(this).val();return null==n?null:X.isArray(n)?X.map(n,function(e){return{name:t.name,value:e.replace(tt,"\r\n")}}):{name:t.name,value:n.replace(tt,"\r\n")}}).get()}}),X.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||$;var r=re.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=X.buildFragment([e],t,o),o&&o.length&&X(o).remove(),X.merge([],r.childNodes))};var Q=a.document.documentElement;X.offset={setOffset:function(e,t,n){var r,o,i,a,s,u,c,f=X.css(e,"position"),l=X(e),h={};"static"===f&&(e.style.position="relative"),s=l.offset(),i=X.css(e,"top"),u=X.css(e,"left"),c=("absolute"===f||"fixed"===f)&&(i+u).indexOf("auto")>-1,c?(r=l.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),X.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):l.css(h)}},X.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){X.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},a=r&&r.ownerDocument;return a?(t=a.documentElement,X.contains(t,r)?(i(r.getBoundingClientRect)!==_e&&(o=r.getBoundingClientRect()),n=D(a),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===X.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),X.nodeName(e[0],"html")||(r=e.offset()),r.top+=X.css(e[0],"borderTopWidth",!0),r.left+=X.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-X.css(n,"marginTop",!0),left:t.left-r.left-X.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!X.nodeName(e,"html")&&"static"===X.css(e,"position");)e=e.offsetParent;return e||Q})}}),X.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;X.fn[e]=function(r){return de(this,function(e,r,o){var i=D(e);return void 0===o?i?i[t]:e[r]:void(i?i.scrollTo(n?a.pageXOffset:o,n?o:a.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),X.each(["top","left"],function(e,t){X.cssHooks[t]=S(W.pixelPosition,function(e,n){return n?(n=E(e,t),ze.test(n)?X(e).position()[t]+"px":n):void 0})}),X.each({Height:"height",Width:"width"},function(e,t){X.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){X.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return de(this,function(t,n,r){var o;return X.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?X.css(t,n,a):X.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),n(6)&&(r=[],o=function(){return X}.apply(t,r),!(void 0!==o&&(e.exports=o)));var ot=a.jQuery,it=a.$;return X.noConflict=function(e){return a.$===X&&(a.$=it),e&&a.jQuery===X&&(a.jQuery=ot),X},("undefined"==typeof s?"undefined":i(s))===_e&&(a.jQuery=a.$=X),X})}).call(t,n(5)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{jQuery:!0})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e(window);e.fn.visible=function(){if(!(this.length<1)){var e=this.length>1?this.eq(0):this,n=e.get(0),r=t.width(),o=t.height(),i=n.getBoundingClientRect(),a={top:i.top<0?-i.top:0,bottom:i.bottom>o?i.bottom-o:0,left:i.left<0?-i.left:0,right:i.right>r?i.right-r:0};return a}}}},function(e,t,n){var r=n(9);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(11)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(9,function(){var t=n(9);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){t=e.exports=n(10)(),t.push([e.id,"/*! normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],t));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function i(e,t){var n=y(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var n,r,o;if(t.singleton){var i=m++;n=g||(g=s(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=h.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=l.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function f(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function l(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,i.push(u)}if(e){var c=o(e);r(c,t)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var f=0;f<u.parts.length;f++)u.parts[f]();delete d[u.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(11)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(13,function(){var t=n(13);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){t=e.exports=n(10)(),t.push([e.id,".menu{position:absolute;z-index:1000;overflow:auto;color:#fff;background:#535353;border:1px solid #424242;box-sizing:border-box}.menu.top{top:0}.menu.bottom{bottom:0}.menu.left{left:0}.menu.right{right:0}.menu .handle{position:absolute;top:0;left:0;cursor:-webkit-grab;cursor:grab;opacity:.5}.menu .handle.active,.menu .handle:active{cursor:-webkit-grabbing;cursor:grabbing}.menu .handle .fa{position:absolute}.menu.fixed .handle{display:none}.menu:not(.fixed){z-index:1001}.menu.horizontal{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.menu.horizontal.fixed{left:0;width:100%;box-shadow:0 5px 5px 5px - - rgba(0,0,0,.5),0 5px 5px 5px - rgba(0,0,0,.5)}.menu.horizontal:not(.fixed){padding-left:24px}.menu.horizontal .handle{width:20px;height:100%;margin-left:2px}.menu.horizontal .handle .fa{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.menu.horizontal>.tool{margin:0 3px}.menu.horizontal>.tool:first-of-type{margin-left:0}.menu.horizontal>.tool:last-of-type{margin-right:0}.menu.horizontal>.tool.end.first{margin-left:auto}.menu.vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.menu.vertical.fixed{top:0;height:100%;box-shadow:-5px 0 5px 5px - rgba(0,0,0,.5),5px 0 5px 5px - rgba(0,0,0,.5)}.menu.vertical:not(.fixed){padding-top:24px}.menu.vertical .handle{width:100%;height:20px;margin-top:4px}.menu.vertical .handle .fa{top:0;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.menu.vertical>.tool{margin:3px 0}.menu.vertical>.tool:first-of-type{margin-top:0}.menu.vertical>.tool:last-of-type{margin-bottom:0}.menu.vertical>.tool.end.first{margin-top:auto}.menu .tool{display:inline-block;padding:6px 4px;overflow:hidden;font-size:16px;color:#e0e0e0;cursor:pointer;border:1px solid transparent}.menu .tool:hover{border-color:#9e9e9e}.menu .tool.disabled{cursor:not-allowed;opacity:.5}.menu .tool.selected{border-color:#e0e0e0}.settings{padding:15px 15px 0;color:#424242;background:#fff}.settings .settingsParent{padding-left:20px}.settings .settingsParent h6{margin-bottom:0;margin-left:-20px;font-size:16px;font-weight:700;color:#3f51b5;text-transform:capitalize}.toolbar{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:start;align-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:5px;line-height:0}.toolbar .tool.end{-webkit-box-ordinal-group:1000;-ms-flex-order:999;order:999}.layersPanel{min-width:300px;padding-bottom:36px}.layersPanel .layersList{height:100%;overflow-x:hidden;overflow-y:scroll}.layersPanel .buttons{position:absolute;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;line-height:0;border-top:1px solid hsla(0,0%,100%,.4)}.layersPanel .buttons .tool{margin:3px}.layersPanel .buttons .trash{margin-left:auto}.buttons .layerThumbnail{display:none}.layerThumbnail{position:relative;width:100%;height:100px;margin-top:-1px;line-height:94px;border-top:1px solid hsla(0,0%,100%,.4);border-bottom:1px solid hsla(0,0%,100%,.4)}.layerThumbnail.selected{background:rgba(33,150,243,.2)}.layerThumbnail:first-of-type{margin-top:0;border-top:0}.layerThumbnail.dropOver:after{position:absolute;top:-3px;left:0;width:100%;height:1px;border-top:6px solid hsla(0,0%,100%,.4);content:''}.layerThumbnail div{display:inline-block;color:#fff}.layerThumbnail .visible{width:30px;text-align:center;vertical-align:top;cursor:pointer}.layerThumbnail .divider{position:relative;top:20%;display:inline-block;width:1px;height:60%;border-right:1px solid hsla(0,0%,100%,.4)}.layerThumbnail .thumbnail{position:relative;width:80px;height:80px;margin:10px;line-height:0;vertical-align:top}.layerThumbnail .thumbnail .image{position:absolute;top:0;left:0;width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.layerThumbnail .thumbnail .transparent{position:absolute;top:0;left:0;width:100%;height:100%;background:url("+n(14)+")}.layerThumbnail .name{margin-left:5px;vertical-align:top}#wrapper,body,html{width:100%;height:100%;padding:0;margin:0;overflow:hidden}#wrapper{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#wrapper.over:after{position:absolute;top:0;left:0;z-index:9999;width:100%;height:100%;pointer-events:none;background:rgba(100,181,246,.5);content:''}#wrapper.over .dropText{display:block}.dropText{position:absolute;top:50%;left:50%;z-index:10000;display:none;font-size:40px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.5);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.layersContainer{position:absolute;top:0;left:0;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#ffc107}.layersContainer .layer{position:absolute;top:0;left:0;z-index:0;-webkit-transform-origin:0 0;transform-origin:0 0}.layersContainer .brushCursor{position:absolute;top:0;left:0;display:none;width:10px;height:10px;border:1px solid #000;border-radius:50%;box-shadow:inset 0 0 0 1px #fff}.layersContainer .selectCursor{position:absolute;top:-10px;left:-10px;display:none;width:20px;height:20px;background:url("+n(15)+") no-repeat;background-size:contain}",""])},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEWxsbH////8JldWAAAAHElEQVR4XmNg+I+ANOTQy5pR/4z6BwZH/TPqHwDayj3fS50WugAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAF5JREFUeNrEU0EOACAIAtf/v0ynNtcsbR7y6AQEJyWhU4ZmPRGQVHuDnYRZBpEqAEgiAIwMvAY9me9ZFbwrXy2cwP/PGFr1FqLEMyt2G67kYCfFaoj8/kwTAAD//wMAdSg4B3T9aYkAAAAASUVORK5CYII=";
},function(e,t,n){var r=n(17);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(11)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(17,function(){var t=n(17);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){t=e.exports=n(10)(),t.push([e.id,"/*!\n *  Font Awesome 4.6.3 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:FontAwesome;src:url("+n(18)+");src:url("+n(19)+"?#iefix&v=4.6.3) format('embedded-opentype'),url("+n(20)+") format('woff2'),url("+n(21)+") format('woff'),url("+n(22)+") format('truetype'),url("+n(23)+'#fontawesomeregular) format(\'svg\');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scaleX(-1);transform:scaleX(-1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";-webkit-transform:scaleY(-1);transform:scaleY(-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{-webkit-filter:none;filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\F000"}.fa-music:before{content:"\\F001"}.fa-search:before{content:"\\F002"}.fa-envelope-o:before{content:"\\F003"}.fa-heart:before{content:"\\F004"}.fa-star:before{content:"\\F005"}.fa-star-o:before{content:"\\F006"}.fa-user:before{content:"\\F007"}.fa-film:before{content:"\\F008"}.fa-th-large:before{content:"\\F009"}.fa-th:before{content:"\\F00A"}.fa-th-list:before{content:"\\F00B"}.fa-check:before{content:"\\F00C"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\\F00D"}.fa-search-plus:before{content:"\\F00E"}.fa-search-minus:before{content:"\\F010"}.fa-power-off:before{content:"\\F011"}.fa-signal:before{content:"\\F012"}.fa-cog:before,.fa-gear:before{content:"\\F013"}.fa-trash-o:before{content:"\\F014"}.fa-home:before{content:"\\F015"}.fa-file-o:before{content:"\\F016"}.fa-clock-o:before{content:"\\F017"}.fa-road:before{content:"\\F018"}.fa-download:before{content:"\\F019"}.fa-arrow-circle-o-down:before{content:"\\F01A"}.fa-arrow-circle-o-up:before{content:"\\F01B"}.fa-inbox:before{content:"\\F01C"}.fa-play-circle-o:before{content:"\\F01D"}.fa-repeat:before,.fa-rotate-right:before{content:"\\F01E"}.fa-refresh:before{content:"\\F021"}.fa-list-alt:before{content:"\\F022"}.fa-lock:before{content:"\\F023"}.fa-flag:before{content:"\\F024"}.fa-headphones:before{content:"\\F025"}.fa-volume-off:before{content:"\\F026"}.fa-volume-down:before{content:"\\F027"}.fa-volume-up:before{content:"\\F028"}.fa-qrcode:before{content:"\\F029"}.fa-barcode:before{content:"\\F02A"}.fa-tag:before{content:"\\F02B"}.fa-tags:before{content:"\\F02C"}.fa-book:before{content:"\\F02D"}.fa-bookmark:before{content:"\\F02E"}.fa-print:before{content:"\\F02F"}.fa-camera:before{content:"\\F030"}.fa-font:before{content:"\\F031"}.fa-bold:before{content:"\\F032"}.fa-italic:before{content:"\\F033"}.fa-text-height:before{content:"\\F034"}.fa-text-width:before{content:"\\F035"}.fa-align-left:before{content:"\\F036"}.fa-align-center:before{content:"\\F037"}.fa-align-right:before{content:"\\F038"}.fa-align-justify:before{content:"\\F039"}.fa-list:before{content:"\\F03A"}.fa-dedent:before,.fa-outdent:before{content:"\\F03B"}.fa-indent:before{content:"\\F03C"}.fa-video-camera:before{content:"\\F03D"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\\F03E"}.fa-pencil:before{content:"\\F040"}.fa-map-marker:before{content:"\\F041"}.fa-adjust:before{content:"\\F042"}.fa-tint:before{content:"\\F043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\F044"}.fa-share-square-o:before{content:"\\F045"}.fa-check-square-o:before{content:"\\F046"}.fa-arrows:before{content:"\\F047"}.fa-step-backward:before{content:"\\F048"}.fa-fast-backward:before{content:"\\F049"}.fa-backward:before{content:"\\F04A"}.fa-play:before{content:"\\F04B"}.fa-pause:before{content:"\\F04C"}.fa-stop:before{content:"\\F04D"}.fa-forward:before{content:"\\F04E"}.fa-fast-forward:before{content:"\\F050"}.fa-step-forward:before{content:"\\F051"}.fa-eject:before{content:"\\F052"}.fa-chevron-left:before{content:"\\F053"}.fa-chevron-right:before{content:"\\F054"}.fa-plus-circle:before{content:"\\F055"}.fa-minus-circle:before{content:"\\F056"}.fa-times-circle:before{content:"\\F057"}.fa-check-circle:before{content:"\\F058"}.fa-question-circle:before{content:"\\F059"}.fa-info-circle:before{content:"\\F05A"}.fa-crosshairs:before{content:"\\F05B"}.fa-times-circle-o:before{content:"\\F05C"}.fa-check-circle-o:before{content:"\\F05D"}.fa-ban:before{content:"\\F05E"}.fa-arrow-left:before{content:"\\F060"}.fa-arrow-right:before{content:"\\F061"}.fa-arrow-up:before{content:"\\F062"}.fa-arrow-down:before{content:"\\F063"}.fa-mail-forward:before,.fa-share:before{content:"\\F064"}.fa-expand:before{content:"\\F065"}.fa-compress:before{content:"\\F066"}.fa-plus:before{content:"\\F067"}.fa-minus:before{content:"\\F068"}.fa-asterisk:before{content:"\\F069"}.fa-exclamation-circle:before{content:"\\F06A"}.fa-gift:before{content:"\\F06B"}.fa-leaf:before{content:"\\F06C"}.fa-fire:before{content:"\\F06D"}.fa-eye:before{content:"\\F06E"}.fa-eye-slash:before{content:"\\F070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\\F071"}.fa-plane:before{content:"\\F072"}.fa-calendar:before{content:"\\F073"}.fa-random:before{content:"\\F074"}.fa-comment:before{content:"\\F075"}.fa-magnet:before{content:"\\F076"}.fa-chevron-up:before{content:"\\F077"}.fa-chevron-down:before{content:"\\F078"}.fa-retweet:before{content:"\\F079"}.fa-shopping-cart:before{content:"\\F07A"}.fa-folder:before{content:"\\F07B"}.fa-folder-open:before{content:"\\F07C"}.fa-arrows-v:before{content:"\\F07D"}.fa-arrows-h:before{content:"\\F07E"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\F080"}.fa-twitter-square:before{content:"\\F081"}.fa-facebook-square:before{content:"\\F082"}.fa-camera-retro:before{content:"\\F083"}.fa-key:before{content:"\\F084"}.fa-cogs:before,.fa-gears:before{content:"\\F085"}.fa-comments:before{content:"\\F086"}.fa-thumbs-o-up:before{content:"\\F087"}.fa-thumbs-o-down:before{content:"\\F088"}.fa-star-half:before{content:"\\F089"}.fa-heart-o:before{content:"\\F08A"}.fa-sign-out:before{content:"\\F08B"}.fa-linkedin-square:before{content:"\\F08C"}.fa-thumb-tack:before{content:"\\F08D"}.fa-external-link:before{content:"\\F08E"}.fa-sign-in:before{content:"\\F090"}.fa-trophy:before{content:"\\F091"}.fa-github-square:before{content:"\\F092"}.fa-upload:before{content:"\\F093"}.fa-lemon-o:before{content:"\\F094"}.fa-phone:before{content:"\\F095"}.fa-square-o:before{content:"\\F096"}.fa-bookmark-o:before{content:"\\F097"}.fa-phone-square:before{content:"\\F098"}.fa-twitter:before{content:"\\F099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\F09A"}.fa-github:before{content:"\\F09B"}.fa-unlock:before{content:"\\F09C"}.fa-credit-card:before{content:"\\F09D"}.fa-feed:before,.fa-rss:before{content:"\\F09E"}.fa-hdd-o:before{content:"\\F0A0"}.fa-bullhorn:before{content:"\\F0A1"}.fa-bell:before{content:"\\F0F3"}.fa-certificate:before{content:"\\F0A3"}.fa-hand-o-right:before{content:"\\F0A4"}.fa-hand-o-left:before{content:"\\F0A5"}.fa-hand-o-up:before{content:"\\F0A6"}.fa-hand-o-down:before{content:"\\F0A7"}.fa-arrow-circle-left:before{content:"\\F0A8"}.fa-arrow-circle-right:before{content:"\\F0A9"}.fa-arrow-circle-up:before{content:"\\F0AA"}.fa-arrow-circle-down:before{content:"\\F0AB"}.fa-globe:before{content:"\\F0AC"}.fa-wrench:before{content:"\\F0AD"}.fa-tasks:before{content:"\\F0AE"}.fa-filter:before{content:"\\F0B0"}.fa-briefcase:before{content:"\\F0B1"}.fa-arrows-alt:before{content:"\\F0B2"}.fa-group:before,.fa-users:before{content:"\\F0C0"}.fa-chain:before,.fa-link:before{content:"\\F0C1"}.fa-cloud:before{content:"\\F0C2"}.fa-flask:before{content:"\\F0C3"}.fa-cut:before,.fa-scissors:before{content:"\\F0C4"}.fa-copy:before,.fa-files-o:before{content:"\\F0C5"}.fa-paperclip:before{content:"\\F0C6"}.fa-floppy-o:before,.fa-save:before{content:"\\F0C7"}.fa-square:before{content:"\\F0C8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\\F0C9"}.fa-list-ul:before{content:"\\F0CA"}.fa-list-ol:before{content:"\\F0CB"}.fa-strikethrough:before{content:"\\F0CC"}.fa-underline:before{content:"\\F0CD"}.fa-table:before{content:"\\F0CE"}.fa-magic:before{content:"\\F0D0"}.fa-truck:before{content:"\\F0D1"}.fa-pinterest:before{content:"\\F0D2"}.fa-pinterest-square:before{content:"\\F0D3"}.fa-google-plus-square:before{content:"\\F0D4"}.fa-google-plus:before{content:"\\F0D5"}.fa-money:before{content:"\\F0D6"}.fa-caret-down:before{content:"\\F0D7"}.fa-caret-up:before{content:"\\F0D8"}.fa-caret-left:before{content:"\\F0D9"}.fa-caret-right:before{content:"\\F0DA"}.fa-columns:before{content:"\\F0DB"}.fa-sort:before,.fa-unsorted:before{content:"\\F0DC"}.fa-sort-desc:before,.fa-sort-down:before{content:"\\F0DD"}.fa-sort-asc:before,.fa-sort-up:before{content:"\\F0DE"}.fa-envelope:before{content:"\\F0E0"}.fa-linkedin:before{content:"\\F0E1"}.fa-rotate-left:before,.fa-undo:before{content:"\\F0E2"}.fa-gavel:before,.fa-legal:before{content:"\\F0E3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\F0E4"}.fa-comment-o:before{content:"\\F0E5"}.fa-comments-o:before{content:"\\F0E6"}.fa-bolt:before,.fa-flash:before{content:"\\F0E7"}.fa-sitemap:before{content:"\\F0E8"}.fa-umbrella:before{content:"\\F0E9"}.fa-clipboard:before,.fa-paste:before{content:"\\F0EA"}.fa-lightbulb-o:before{content:"\\F0EB"}.fa-exchange:before{content:"\\F0EC"}.fa-cloud-download:before{content:"\\F0ED"}.fa-cloud-upload:before{content:"\\F0EE"}.fa-user-md:before{content:"\\F0F0"}.fa-stethoscope:before{content:"\\F0F1"}.fa-suitcase:before{content:"\\F0F2"}.fa-bell-o:before{content:"\\F0A2"}.fa-coffee:before{content:"\\F0F4"}.fa-cutlery:before{content:"\\F0F5"}.fa-file-text-o:before{content:"\\F0F6"}.fa-building-o:before{content:"\\F0F7"}.fa-hospital-o:before{content:"\\F0F8"}.fa-ambulance:before{content:"\\F0F9"}.fa-medkit:before{content:"\\F0FA"}.fa-fighter-jet:before{content:"\\F0FB"}.fa-beer:before{content:"\\F0FC"}.fa-h-square:before{content:"\\F0FD"}.fa-plus-square:before{content:"\\F0FE"}.fa-angle-double-left:before{content:"\\F100"}.fa-angle-double-right:before{content:"\\F101"}.fa-angle-double-up:before{content:"\\F102"}.fa-angle-double-down:before{content:"\\F103"}.fa-angle-left:before{content:"\\F104"}.fa-angle-right:before{content:"\\F105"}.fa-angle-up:before{content:"\\F106"}.fa-angle-down:before{content:"\\F107"}.fa-desktop:before{content:"\\F108"}.fa-laptop:before{content:"\\F109"}.fa-tablet:before{content:"\\F10A"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\F10B"}.fa-circle-o:before{content:"\\F10C"}.fa-quote-left:before{content:"\\F10D"}.fa-quote-right:before{content:"\\F10E"}.fa-spinner:before{content:"\\F110"}.fa-circle:before{content:"\\F111"}.fa-mail-reply:before,.fa-reply:before{content:"\\F112"}.fa-github-alt:before{content:"\\F113"}.fa-folder-o:before{content:"\\F114"}.fa-folder-open-o:before{content:"\\F115"}.fa-smile-o:before{content:"\\F118"}.fa-frown-o:before{content:"\\F119"}.fa-meh-o:before{content:"\\F11A"}.fa-gamepad:before{content:"\\F11B"}.fa-keyboard-o:before{content:"\\F11C"}.fa-flag-o:before{content:"\\F11D"}.fa-flag-checkered:before{content:"\\F11E"}.fa-terminal:before{content:"\\F120"}.fa-code:before{content:"\\F121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\F122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\F123"}.fa-location-arrow:before{content:"\\F124"}.fa-crop:before{content:"\\F125"}.fa-code-fork:before{content:"\\F126"}.fa-chain-broken:before,.fa-unlink:before{content:"\\F127"}.fa-question:before{content:"\\F128"}.fa-info:before{content:"\\F129"}.fa-exclamation:before{content:"\\F12A"}.fa-superscript:before{content:"\\F12B"}.fa-subscript:before{content:"\\F12C"}.fa-eraser:before{content:"\\F12D"}.fa-puzzle-piece:before{content:"\\F12E"}.fa-microphone:before{content:"\\F130"}.fa-microphone-slash:before{content:"\\F131"}.fa-shield:before{content:"\\F132"}.fa-calendar-o:before{content:"\\F133"}.fa-fire-extinguisher:before{content:"\\F134"}.fa-rocket:before{content:"\\F135"}.fa-maxcdn:before{content:"\\F136"}.fa-chevron-circle-left:before{content:"\\F137"}.fa-chevron-circle-right:before{content:"\\F138"}.fa-chevron-circle-up:before{content:"\\F139"}.fa-chevron-circle-down:before{content:"\\F13A"}.fa-html5:before{content:"\\F13B"}.fa-css3:before{content:"\\F13C"}.fa-anchor:before{content:"\\F13D"}.fa-unlock-alt:before{content:"\\F13E"}.fa-bullseye:before{content:"\\F140"}.fa-ellipsis-h:before{content:"\\F141"}.fa-ellipsis-v:before{content:"\\F142"}.fa-rss-square:before{content:"\\F143"}.fa-play-circle:before{content:"\\F144"}.fa-ticket:before{content:"\\F145"}.fa-minus-square:before{content:"\\F146"}.fa-minus-square-o:before{content:"\\F147"}.fa-level-up:before{content:"\\F148"}.fa-level-down:before{content:"\\F149"}.fa-check-square:before{content:"\\F14A"}.fa-pencil-square:before{content:"\\F14B"}.fa-external-link-square:before{content:"\\F14C"}.fa-share-square:before{content:"\\F14D"}.fa-compass:before{content:"\\F14E"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\\F150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\\F151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\\F152"}.fa-eur:before,.fa-euro:before{content:"\\F153"}.fa-gbp:before{content:"\\F154"}.fa-dollar:before,.fa-usd:before{content:"\\F155"}.fa-inr:before,.fa-rupee:before{content:"\\F156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\\F157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\\F158"}.fa-krw:before,.fa-won:before{content:"\\F159"}.fa-bitcoin:before,.fa-btc:before{content:"\\F15A"}.fa-file:before{content:"\\F15B"}.fa-file-text:before{content:"\\F15C"}.fa-sort-alpha-asc:before{content:"\\F15D"}.fa-sort-alpha-desc:before{content:"\\F15E"}.fa-sort-amount-asc:before{content:"\\F160"}.fa-sort-amount-desc:before{content:"\\F161"}.fa-sort-numeric-asc:before{content:"\\F162"}.fa-sort-numeric-desc:before{content:"\\F163"}.fa-thumbs-up:before{content:"\\F164"}.fa-thumbs-down:before{content:"\\F165"}.fa-youtube-square:before{content:"\\F166"}.fa-youtube:before{content:"\\F167"}.fa-xing:before{content:"\\F168"}.fa-xing-square:before{content:"\\F169"}.fa-youtube-play:before{content:"\\F16A"}.fa-dropbox:before{content:"\\F16B"}.fa-stack-overflow:before{content:"\\F16C"}.fa-instagram:before{content:"\\F16D"}.fa-flickr:before{content:"\\F16E"}.fa-adn:before{content:"\\F170"}.fa-bitbucket:before{content:"\\F171"}.fa-bitbucket-square:before{content:"\\F172"}.fa-tumblr:before{content:"\\F173"}.fa-tumblr-square:before{content:"\\F174"}.fa-long-arrow-down:before{content:"\\F175"}.fa-long-arrow-up:before{content:"\\F176"}.fa-long-arrow-left:before{content:"\\F177"}.fa-long-arrow-right:before{content:"\\F178"}.fa-apple:before{content:"\\F179"}.fa-windows:before{content:"\\F17A"}.fa-android:before{content:"\\F17B"}.fa-linux:before{content:"\\F17C"}.fa-dribbble:before{content:"\\F17D"}.fa-skype:before{content:"\\F17E"}.fa-foursquare:before{content:"\\F180"}.fa-trello:before{content:"\\F181"}.fa-female:before{content:"\\F182"}.fa-male:before{content:"\\F183"}.fa-gittip:before,.fa-gratipay:before{content:"\\F184"}.fa-sun-o:before{content:"\\F185"}.fa-moon-o:before{content:"\\F186"}.fa-archive:before{content:"\\F187"}.fa-bug:before{content:"\\F188"}.fa-vk:before{content:"\\F189"}.fa-weibo:before{content:"\\F18A"}.fa-renren:before{content:"\\F18B"}.fa-pagelines:before{content:"\\F18C"}.fa-stack-exchange:before{content:"\\F18D"}.fa-arrow-circle-o-right:before{content:"\\F18E"}.fa-arrow-circle-o-left:before{content:"\\F190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\\F191"}.fa-dot-circle-o:before{content:"\\F192"}.fa-wheelchair:before{content:"\\F193"}.fa-vimeo-square:before{content:"\\F194"}.fa-try:before,.fa-turkish-lira:before{content:"\\F195"}.fa-plus-square-o:before{content:"\\F196"}.fa-space-shuttle:before{content:"\\F197"}.fa-slack:before{content:"\\F198"}.fa-envelope-square:before{content:"\\F199"}.fa-wordpress:before{content:"\\F19A"}.fa-openid:before{content:"\\F19B"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\\F19C"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\\F19D"}.fa-yahoo:before{content:"\\F19E"}.fa-google:before{content:"\\F1A0"}.fa-reddit:before{content:"\\F1A1"}.fa-reddit-square:before{content:"\\F1A2"}.fa-stumbleupon-circle:before{content:"\\F1A3"}.fa-stumbleupon:before{content:"\\F1A4"}.fa-delicious:before{content:"\\F1A5"}.fa-digg:before{content:"\\F1A6"}.fa-pied-piper-pp:before{content:"\\F1A7"}.fa-pied-piper-alt:before{content:"\\F1A8"}.fa-drupal:before{content:"\\F1A9"}.fa-joomla:before{content:"\\F1AA"}.fa-language:before{content:"\\F1AB"}.fa-fax:before{content:"\\F1AC"}.fa-building:before{content:"\\F1AD"}.fa-child:before{content:"\\F1AE"}.fa-paw:before{content:"\\F1B0"}.fa-spoon:before{content:"\\F1B1"}.fa-cube:before{content:"\\F1B2"}.fa-cubes:before{content:"\\F1B3"}.fa-behance:before{content:"\\F1B4"}.fa-behance-square:before{content:"\\F1B5"}.fa-steam:before{content:"\\F1B6"}.fa-steam-square:before{content:"\\F1B7"}.fa-recycle:before{content:"\\F1B8"}.fa-automobile:before,.fa-car:before{content:"\\F1B9"}.fa-cab:before,.fa-taxi:before{content:"\\F1BA"}.fa-tree:before{content:"\\F1BB"}.fa-spotify:before{content:"\\F1BC"}.fa-deviantart:before{content:"\\F1BD"}.fa-soundcloud:before{content:"\\F1BE"}.fa-database:before{content:"\\F1C0"}.fa-file-pdf-o:before{content:"\\F1C1"}.fa-file-word-o:before{content:"\\F1C2"}.fa-file-excel-o:before{content:"\\F1C3"}.fa-file-powerpoint-o:before{content:"\\F1C4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\\F1C5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\\F1C6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\\F1C7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\F1C8"}.fa-file-code-o:before{content:"\\F1C9"}.fa-vine:before{content:"\\F1CA"}.fa-codepen:before{content:"\\F1CB"}.fa-jsfiddle:before{content:"\\F1CC"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\\F1CD"}.fa-circle-o-notch:before{content:"\\F1CE"}.fa-ra:before,.fa-rebel:before,.fa-resistance:before{content:"\\F1D0"}.fa-empire:before,.fa-ge:before{content:"\\F1D1"}.fa-git-square:before{content:"\\F1D2"}.fa-git:before{content:"\\F1D3"}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:"\\F1D4"}.fa-tencent-weibo:before{content:"\\F1D5"}.fa-qq:before{content:"\\F1D6"}.fa-wechat:before,.fa-weixin:before{content:"\\F1D7"}.fa-paper-plane:before,.fa-send:before{content:"\\F1D8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\\F1D9"}.fa-history:before{content:"\\F1DA"}.fa-circle-thin:before{content:"\\F1DB"}.fa-header:before{content:"\\F1DC"}.fa-paragraph:before{content:"\\F1DD"}.fa-sliders:before{content:"\\F1DE"}.fa-share-alt:before{content:"\\F1E0"}.fa-share-alt-square:before{content:"\\F1E1"}.fa-bomb:before{content:"\\F1E2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\\F1E3"}.fa-tty:before{content:"\\F1E4"}.fa-binoculars:before{content:"\\F1E5"}.fa-plug:before{content:"\\F1E6"}.fa-slideshare:before{content:"\\F1E7"}.fa-twitch:before{content:"\\F1E8"}.fa-yelp:before{content:"\\F1E9"}.fa-newspaper-o:before{content:"\\F1EA"}.fa-wifi:before{content:"\\F1EB"}.fa-calculator:before{content:"\\F1EC"}.fa-paypal:before{content:"\\F1ED"}.fa-google-wallet:before{content:"\\F1EE"}.fa-cc-visa:before{content:"\\F1F0"}.fa-cc-mastercard:before{content:"\\F1F1"}.fa-cc-discover:before{content:"\\F1F2"}.fa-cc-amex:before{content:"\\F1F3"}.fa-cc-paypal:before{content:"\\F1F4"}.fa-cc-stripe:before{content:"\\F1F5"}.fa-bell-slash:before{content:"\\F1F6"}.fa-bell-slash-o:before{content:"\\F1F7"}.fa-trash:before{content:"\\F1F8"}.fa-copyright:before{content:"\\F1F9"}.fa-at:before{content:"\\F1FA"}.fa-eyedropper:before{content:"\\F1FB"}.fa-paint-brush:before{content:"\\F1FC"}.fa-birthday-cake:before{content:"\\F1FD"}.fa-area-chart:before{content:"\\F1FE"}.fa-pie-chart:before{content:"\\F200"}.fa-line-chart:before{content:"\\F201"}.fa-lastfm:before{content:"\\F202"}.fa-lastfm-square:before{content:"\\F203"}.fa-toggle-off:before{content:"\\F204"}.fa-toggle-on:before{content:"\\F205"}.fa-bicycle:before{content:"\\F206"}.fa-bus:before{content:"\\F207"}.fa-ioxhost:before{content:"\\F208"}.fa-angellist:before{content:"\\F209"}.fa-cc:before{content:"\\F20A"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\\F20B"}.fa-meanpath:before{content:"\\F20C"}.fa-buysellads:before{content:"\\F20D"}.fa-connectdevelop:before{content:"\\F20E"}.fa-dashcube:before{content:"\\F210"}.fa-forumbee:before{content:"\\F211"}.fa-leanpub:before{content:"\\F212"}.fa-sellsy:before{content:"\\F213"}.fa-shirtsinbulk:before{content:"\\F214"}.fa-simplybuilt:before{content:"\\F215"}.fa-skyatlas:before{content:"\\F216"}.fa-cart-plus:before{content:"\\F217"}.fa-cart-arrow-down:before{content:"\\F218"}.fa-diamond:before{content:"\\F219"}.fa-ship:before{content:"\\F21A"}.fa-user-secret:before{content:"\\F21B"}.fa-motorcycle:before{content:"\\F21C"}.fa-street-view:before{content:"\\F21D"}.fa-heartbeat:before{content:"\\F21E"}.fa-venus:before{content:"\\F221"}.fa-mars:before{content:"\\F222"}.fa-mercury:before{content:"\\F223"}.fa-intersex:before,.fa-transgender:before{content:"\\F224"}.fa-transgender-alt:before{content:"\\F225"}.fa-venus-double:before{content:"\\F226"}.fa-mars-double:before{content:"\\F227"}.fa-venus-mars:before{content:"\\F228"}.fa-mars-stroke:before{content:"\\F229"}.fa-mars-stroke-v:before{content:"\\F22A"}.fa-mars-stroke-h:before{content:"\\F22B"}.fa-neuter:before{content:"\\F22C"}.fa-genderless:before{content:"\\F22D"}.fa-facebook-official:before{content:"\\F230"}.fa-pinterest-p:before{content:"\\F231"}.fa-whatsapp:before{content:"\\F232"}.fa-server:before{content:"\\F233"}.fa-user-plus:before{content:"\\F234"}.fa-user-times:before{content:"\\F235"}.fa-bed:before,.fa-hotel:before{content:"\\F236"}.fa-viacoin:before{content:"\\F237"}.fa-train:before{content:"\\F238"}.fa-subway:before{content:"\\F239"}.fa-medium:before{content:"\\F23A"}.fa-y-combinator:before,.fa-yc:before{content:"\\F23B"}.fa-optin-monster:before{content:"\\F23C"}.fa-opencart:before{content:"\\F23D"}.fa-expeditedssl:before{content:"\\F23E"}.fa-battery-4:before,.fa-battery-full:before{content:"\\F240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\\F241"}.fa-battery-2:before,.fa-battery-half:before{content:"\\F242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\\F243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\\F244"}.fa-mouse-pointer:before{content:"\\F245"}.fa-i-cursor:before{content:"\\F246"}.fa-object-group:before{content:"\\F247"}.fa-object-ungroup:before{content:"\\F248"}.fa-sticky-note:before{content:"\\F249"}.fa-sticky-note-o:before{content:"\\F24A"}.fa-cc-jcb:before{content:"\\F24B"}.fa-cc-diners-club:before{content:"\\F24C"}.fa-clone:before{content:"\\F24D"}.fa-balance-scale:before{content:"\\F24E"}.fa-hourglass-o:before{content:"\\F250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\\F251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\\F252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\\F253"}.fa-hourglass:before{content:"\\F254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\\F255"}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:"\\F256"}.fa-hand-scissors-o:before{content:"\\F257"}.fa-hand-lizard-o:before{content:"\\F258"}.fa-hand-spock-o:before{content:"\\F259"}.fa-hand-pointer-o:before{content:"\\F25A"}.fa-hand-peace-o:before{content:"\\F25B"}.fa-trademark:before{content:"\\F25C"}.fa-registered:before{content:"\\F25D"}.fa-creative-commons:before{content:"\\F25E"}.fa-gg:before{content:"\\F260"}.fa-gg-circle:before{content:"\\F261"}.fa-tripadvisor:before{content:"\\F262"}.fa-odnoklassniki:before{content:"\\F263"}.fa-odnoklassniki-square:before{content:"\\F264"}.fa-get-pocket:before{content:"\\F265"}.fa-wikipedia-w:before{content:"\\F266"}.fa-safari:before{content:"\\F267"}.fa-chrome:before{content:"\\F268"}.fa-firefox:before{content:"\\F269"}.fa-opera:before{content:"\\F26A"}.fa-internet-explorer:before{content:"\\F26B"}.fa-television:before,.fa-tv:before{content:"\\F26C"}.fa-contao:before{content:"\\F26D"}.fa-500px:before{content:"\\F26E"}.fa-amazon:before{content:"\\F270"}.fa-calendar-plus-o:before{content:"\\F271"}.fa-calendar-minus-o:before{content:"\\F272"}.fa-calendar-times-o:before{content:"\\F273"}.fa-calendar-check-o:before{content:"\\F274"}.fa-industry:before{content:"\\F275"}.fa-map-pin:before{content:"\\F276"}.fa-map-signs:before{content:"\\F277"}.fa-map-o:before{content:"\\F278"}.fa-map:before{content:"\\F279"}.fa-commenting:before{content:"\\F27A"}.fa-commenting-o:before{content:"\\F27B"}.fa-houzz:before{content:"\\F27C"}.fa-vimeo:before{content:"\\F27D"}.fa-black-tie:before{content:"\\F27E"}.fa-fonticons:before{content:"\\F280"}.fa-reddit-alien:before{content:"\\F281"}.fa-edge:before{content:"\\F282"}.fa-credit-card-alt:before{content:"\\F283"}.fa-codiepie:before{content:"\\F284"}.fa-modx:before{content:"\\F285"}.fa-fort-awesome:before{content:"\\F286"}.fa-usb:before{content:"\\F287"}.fa-product-hunt:before{content:"\\F288"}.fa-mixcloud:before{content:"\\F289"}.fa-scribd:before{content:"\\F28A"}.fa-pause-circle:before{content:"\\F28B"}.fa-pause-circle-o:before{content:"\\F28C"}.fa-stop-circle:before{content:"\\F28D"}.fa-stop-circle-o:before{content:"\\F28E"}.fa-shopping-bag:before{content:"\\F290"}.fa-shopping-basket:before{content:"\\F291"}.fa-hashtag:before{content:"\\F292"}.fa-bluetooth:before{content:"\\F293"}.fa-bluetooth-b:before{content:"\\F294"}.fa-percent:before{content:"\\F295"}.fa-gitlab:before{content:"\\F296"}.fa-wpbeginner:before{content:"\\F297"}.fa-wpforms:before{content:"\\F298"}.fa-envira:before{content:"\\F299"}.fa-universal-access:before{content:"\\F29A"}.fa-wheelchair-alt:before{content:"\\F29B"}.fa-question-circle-o:before{content:"\\F29C"}.fa-blind:before{content:"\\F29D"}.fa-audio-description:before{content:"\\F29E"}.fa-volume-control-phone:before{content:"\\F2A0"}.fa-braille:before{content:"\\F2A1"}.fa-assistive-listening-systems:before{content:"\\F2A2"}.fa-american-sign-language-interpreting:before,.fa-asl-interpreting:before{content:"\\F2A3"}.fa-deaf:before,.fa-deafness:before,.fa-hard-of-hearing:before{content:"\\F2A4"}.fa-glide:before{content:"\\F2A5"}.fa-glide-g:before{content:"\\F2A6"}.fa-sign-language:before,.fa-signing:before{content:"\\F2A7"}.fa-low-vision:before{content:"\\F2A8"}.fa-viadeo:before{content:"\\F2A9"}.fa-viadeo-square:before{content:"\\F2AA"}.fa-snapchat:before{content:"\\F2AB"}.fa-snapchat-ghost:before{content:"\\F2AC"}.fa-snapchat-square:before{content:"\\F2AD"}.fa-pied-piper:before{content:"\\F2AE"}.fa-first-order:before{content:"\\F2B0"}.fa-yoast:before{content:"\\F2B1"}.fa-themeisle:before{content:"\\F2B2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\\F2B3"}.fa-fa:before,.fa-font-awesome:before{content:"\\F2B4"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}',""])},function(e,t,n){e.exports=n.p+"25a32416abee198dd821b0b17a198a8f.eot"},18,function(e,t,n){e.exports=n.p+"e6cf7c6ec7c2d6f670ae9d762604cb0b.woff2"},function(e,t,n){e.exports=n.p+"c8ddf1e5e5bf3682bc7bebf30f394148.woff"},function(e,t,n){e.exports=n.p+"1dc35d25e61d819a9c357074014867ab.ttf"},function(e,t,n){e.exports=n.p+"d7c639084f684d66a1bc66855d193ed8.svg"},function(e,t,n){var r;(function(e,o){(function(){function i(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t,n,r){for(var o=-1,i=e?e.length:0;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function c(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function f(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function l(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function h(e,t){for(var n=-1,r=e?e.length:0,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function d(e,t){var n=e?e.length:0;return!!n&&_(e,t,0)>-1}function p(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function v(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function y(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function g(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function m(e,t,n,r){var o=e?e.length:0;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function b(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function x(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function w(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function _(e,t,n){if(t!==t)return U(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function k(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function F(e,t){var n=e?e.length:0;return n?E(e,t)/n:Ce}function A(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function C(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function E(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==J&&(n=n===J?i:n+i);
}return n}function S(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function T(e,t){return v(t,function(t){return[t,e[t]]})}function O(e){return function(t){return e(t)}}function I(e,t){return v(t,function(t){return e[t]})}function j(e,t){return e.has(t)}function L(e,t){for(var n=-1,r=e.length;++n<r&&_(t,e[n],0)>-1;);return n}function M(e,t){for(var n=e.length;n--&&_(t,e[n],0)>-1;);return n}function D(e){return e&&e.Object===Object?e:null}function P(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function R(e){return Tn[e]}function N(e){return On[e]}function z(e){return"\\"+jn[e]}function B(e,t){return null==e?J:e[t]}function U(e,t,n){for(var r=e.length,o=t+(n?1:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function H(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function $(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==re||(e[n]=re,i[o++]=n)}return i}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function X(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function V(e){if(!e||!kn.test(e))return e.length;for(var t=wn.lastIndex=0;wn.test(e);)t++;return t}function Z(e){return e.match(wn)}function K(e){return In[e]}function G(e){function t(e){if(ms(e)&&!gl(e)&&!(e instanceof o)){if(e instanceof r)return e;if(Tc.call(e,"__wrapped__"))return hi(e)}return new r(e)}function n(){}function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=J}function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function D(){var e=new o(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e}function Dt(){if(this.__filtered__){var e=new o(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Pt(){var e=this.__wrapped__.value(),t=this.__dir__,n=gl(e),r=t<0,o=n?e.length:0,i=Ho(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=r?s:a-1,f=this.__iteratees__,l=f.length,h=0,d=Qc(u,this.__takeCount__);if(!n||o<ee||o==u&&d==u)return Rr(e,this.__actions__);var p=[];e:for(;u--&&h<d;){c+=t;for(var v=-1,y=e[c];++v<l;){var g=f[v],m=g.iteratee,b=g.type,x=m(y);if(b==we)y=x;else if(!x){if(b==xe)continue e;break e}}p[h++]=y}return p}function Rt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nt(){this.__data__=lf?lf(null):{}}function zt(e){return this.has(e)&&delete this.__data__[e]}function Bt(e){var t=this.__data__;if(lf){var n=t[e];return n===ne?J:n}return Tc.call(t,e)?t[e]:J}function Ut(e){var t=this.__data__;return lf?t[e]!==J:Tc.call(t,e)}function qt(e,t){var n=this.__data__;return n[e]=lf&&t===J?ne:t,this}function Ht(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wt(){this.__data__=[]}function $t(e){var t=this.__data__,n=pn(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Wc.call(t,n,1),!0}function Yt(e){var t=this.__data__,n=pn(t,e);return n<0?J:t[n][1]}function Xt(e){return pn(this.__data__,e)>-1}function Vt(e,t){var n=this.__data__,r=pn(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function Zt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kt(){this.__data__={hash:new Rt,map:new(sf||Ht),string:new Rt}}function Gt(e){return Ro(this,e)["delete"](e)}function Jt(e){return Ro(this,e).get(e)}function Qt(e){return Ro(this,e).has(e)}function en(e,t){return Ro(this,e).set(e,t),this}function tn(e){var t=-1,n=e?e.length:0;for(this.__data__=new Zt;++t<n;)this.add(e[t])}function nn(e){return this.__data__.set(e,ne),this}function rn(e){return this.__data__.has(e)}function on(e){this.__data__=new Ht(e)}function an(){this.__data__=new Ht}function sn(e){return this.__data__["delete"](e)}function un(e){return this.__data__.get(e)}function cn(e){return this.__data__.has(e)}function fn(e,t){var n=this.__data__;return n instanceof Ht&&n.__data__.length==ee&&(n=this.__data__=new Zt(n.__data__)),n.set(e,t),this}function ln(e,t,n,r){return e===J||ts(e,Fc[n])&&!Tc.call(r,n)?t:e}function hn(e,t,n){(n===J||ts(e[t],n))&&("number"!=typeof t||n!==J||t in e)||(e[t]=n)}function dn(e,t,n){var r=e[t];Tc.call(e,t)&&ts(r,n)&&(n!==J||t in e)||(e[t]=n)}function pn(e,t){for(var n=e.length;n--;)if(ts(e[n][0],t))return n;return-1}function vn(e,t,n,r){return kf(e,function(e,o,i){t(r,e,n(e),i)}),r}function yn(e,t){return e&&ro(t,ru(t),e)}function gn(e,t){for(var n=-1,r=null==e,o=t.length,i=Array(o);++n<o;)i[n]=r?J:eu(e,t[n]);return i}function mn(e,t,n){return e===e&&(n!==J&&(e=e<=n?e:n),t!==J&&(e=e>=t?e:t)),e}function wn(e,t,n,r,o,i,a){var s;if(r&&(s=i?r(e,o,i,a):r(e)),s!==J)return s;if(!gs(e))return e;var u=gl(e);if(u){if(s=$o(e),!t)return no(e,s)}else{var f=qo(e),l=f==De||f==Pe;if(ml(e))return Wr(e,t);if(f==ze||f==Oe||l&&!i){if(q(e))return i?e:{};if(s=Yo(l?{}:e),!t)return oo(e,yn(s,e))}else{if(!Sn[f])return i?e:{};s=Xo(e,f,wn,t)}}a||(a=new on);var h=a.get(e);if(h)return h;if(a.set(e,s),!u)var d=n?jo(e):ru(e);return c(d||e,function(o,i){d&&(i=o,o=e[i]),dn(s,i,wn(o,t,n,r,i,e,a))}),s}function Tn(e){var t=ru(e),n=t.length;return function(r){if(null==r)return!n;for(var o=n;o--;){var i=t[o],a=e[i],s=r[i];if(s===J&&!(i in Object(r))||!a(s))return!1}return!0}}function On(e){return gs(e)?qc(e):{}}function In(e,t,n){if("function"!=typeof e)throw new _c(te);return $c(function(){e.apply(J,n)},t)}function jn(e,t,n,r){var o=-1,i=d,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=v(t,O(n))),r?(i=p,a=!1):t.length>=ee&&(i=j,a=!1,t=new tn(t));e:for(;++o<s;){var f=e[o],l=n?n(f):f;if(f=r||0!==f?f:0,a&&l===l){for(var h=c;h--;)if(t[h]===l)continue e;u.push(f)}else i(t,l,r)||u.push(f)}return u}function Dn(e,t){var n=!0;return kf(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Pn(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(s===J?a===a&&!js(a):n(a,s)))var s=a,u=i}return u}function Nn(e,t,n,r){var o=e.length;for(n=zs(n),n<0&&(n=-n>o?0:o+n),r=r===J||r>o?o:zs(r),r<0&&(r+=o),r=n>r?0:Bs(r);n<r;)e[n++]=t;return e}function zn(e,t){var n=[];return kf(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Bn(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Zo),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?Bn(s,t-1,n,r,o):y(o,s):r||(o[o.length]=s)}return o}function Hn(e,t){return e&&Af(e,t,ru)}function Wn(e,t){return e&&Cf(e,t,ru)}function $n(e,t){return h(t,function(t){return ps(e[t])})}function Yn(e,t){t=Qo(t,e)?[t]:qr(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[fi(t[n++])];return n&&n==r?e:J}function Xn(e,t,n){var r=t(e);return gl(e)?r:y(r,n(e))}function Vn(e,t){return e>t}function Zn(e,t){return null!=e&&(Tc.call(e,t)||"object"==typeof e&&t in e&&null===Bo(e))}function Kn(e,t){return null!=e&&t in Object(e)}function Gn(e,t,n){return e>=Qc(t,n)&&e<Jc(t,n)}function Jn(e,t,n){for(var r=n?p:d,o=e[0].length,i=e.length,a=i,s=Array(i),u=1/0,c=[];a--;){var f=e[a];a&&t&&(f=v(f,O(t))),u=Qc(f.length,u),s[a]=!n&&(t||o>=120&&f.length>=120)?new tn(a&&f):J}f=e[0];var l=-1,h=s[0];e:for(;++l<o&&c.length<u;){var y=f[l],g=t?t(y):y;if(y=n||0!==y?y:0,!(h?j(h,g):r(c,g,n))){for(a=i;--a;){var m=s[a];if(!(m?j(m,g):r(e[a],g,n)))continue e}h&&h.push(g),c.push(y)}}return c}function Qn(e,t,n,r){return Hn(e,function(e,o,i){t(r,n(e),o,i)}),r}function er(e,t,n){Qo(t,e)||(t=qr(t),e=ui(e,t),t=Ii(t));var r=null==e?e:e[fi(t)];return null==r?J:s(r,e,n)}function tr(e,t,n,r,o){return e===t||(null==e||null==t||!gs(e)&&!ms(t)?e!==e&&t!==t:nr(e,t,tr,n,r,o))}function nr(e,t,n,r,o,i){var a=gl(e),s=gl(t),u=Ie,c=Ie;a||(u=qo(e),u=u==Oe?ze:u),s||(c=qo(t),c=c==Oe?ze:c);var f=u==ze&&!q(e),l=c==ze&&!q(t),h=u==c;if(h&&!f)return i||(i=new on),a||Ls(e)?To(e,t,n,r,o,i):Oo(e,t,u,n,r,o,i);if(!(o&ve)){var d=f&&Tc.call(e,"__wrapped__"),p=l&&Tc.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,y=p?t.value():t;return i||(i=new on),n(v,y,r,o,i)}}return!!h&&(i||(i=new on),Io(e,t,n,r,o,i))}function rr(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){s=n[o];var u=s[0],c=e[u],f=s[1];if(a&&s[2]){if(c===J&&!(u in e))return!1}else{var l=new on;if(r)var h=r(c,f,u,e,t,l);if(!(h===J?tr(f,c,r,pe|ve,l):h))return!1}}return!0}function or(e){if(!gs(e)||ni(e))return!1;var t=ps(e)||q(e)?Mc:Tt;return t.test(li(e))}function ir(e){return"function"==typeof e?e:null==e?Yu:"object"==typeof e?gl(e)?lr(e[0],e[1]):fr(e):ec(e)}function ar(e){return Gc(Object(e))}function sr(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function ur(e,t){return e<t}function cr(e,t){var n=-1,r=os(e)?Array(e.length):[];return kf(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function fr(e){var t=No(e);return 1==t.length&&t[0][2]?ii(t[0][0],t[0][1]):function(n){return n===e||rr(n,e,t)}}function lr(e,t){return Qo(e)&&oi(t)?ii(fi(e),t):function(n){var r=eu(n,e);return r===J&&r===t?nu(n,e):tr(t,r,J,pe|ve)}}function hr(e,t,n,r,o){if(e!==t){if(!gl(t)&&!Ls(t))var i=ou(t);c(i||t,function(a,s){if(i&&(s=a,a=t[s]),gs(a))o||(o=new on),dr(e,t,s,n,hr,r,o);else{var u=r?r(e[s],a,s+"",e,t,o):J;u===J&&(u=a),hn(e,s,u)}})}}function dr(e,t,n,r,o,i,a){var s=e[n],u=t[n],c=a.get(u);if(c)return void hn(e,n,c);var f=i?i(s,u,n+"",e,t,a):J,l=f===J;l&&(f=u,gl(u)||Ls(u)?gl(s)?f=s:is(s)?f=no(s):(l=!1,f=wn(u,!0)):Es(u)||ns(u)?ns(s)?f=qs(s):!gs(s)||r&&ps(s)?(l=!1,f=wn(u,!0)):f=s:l=!1),a.set(u,f),l&&o(f,u,r,i,a),a["delete"](u),hn(e,n,f)}function pr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Go(t,n)?e[t]:J}function vr(e,t,n){var r=-1;t=v(t.length?t:[Yu],O(Po()));var o=cr(e,function(e,n,o){var i=v(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return C(o,function(e,t){return Qr(e,t,n)})}function yr(e,t){return e=Object(e),g(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function gr(e,t){for(var n=-1,r=Lo(e),o=r.length,i={};++n<o;){var a=r[n],s=e[a];t(s,a)&&(i[a]=s)}return i}function mr(e){return function(t){return null==t?J:t[e]}}function br(e){return function(t){return Yn(t,e)}}function xr(e,t,n,r){var o=r?k:_,i=-1,a=t.length,s=e;for(e===t&&(t=no(t)),n&&(s=v(e,O(n)));++i<a;)for(var u=0,c=t[i],f=n?n(c):c;(u=o(s,f,u,r))>-1;)s!==e&&Wc.call(s,u,1),Wc.call(e,u,1);return e}function wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;if(Go(o))Wc.call(e,o,1);else if(Qo(o,e))delete e[fi(o)];else{var a=qr(o),s=ui(e,a);null!=s&&delete s[fi(Ii(a))]}}}return e}function _r(e,t){return e+Xc(tf()*(t-e+1))}function kr(e,t,n,r){for(var o=-1,i=Jc(Yc((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}function Fr(e,t){var n="";if(!e||t<1||t>Fe)return n;do t%2&&(n+=e),t=Xc(t/2),t&&(e+=e);while(t);return n}function Ar(e,t,n,r){t=Qo(t,e)?[t]:qr(t);for(var o=-1,i=t.length,a=i-1,s=e;null!=s&&++o<i;){var u=fi(t[o]);if(gs(s)){var c=n;if(o!=a){var f=s[u];c=r?r(f,u,s):J,c===J&&(c=null==f?Go(t[o+1])?[]:{}:f)}dn(s,u,c)}s=s[u]}return e}function Cr(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function Er(e,t){var n;return kf(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function Sr(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&o<=Te){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!js(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Tr(e,t,Yu,n)}function Tr(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,a=t!==t,s=null===t,u=js(t),c=t===J;o<i;){var f=Xc((o+i)/2),l=n(e[f]),h=l!==J,d=null===l,p=l===l,v=js(l);if(a)var y=r||p;else y=c?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!v):!d&&!v&&(r?l<=t:l<t);y?o=f+1:i=f}return Qc(i,Se)}function Or(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!ts(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function Ir(e){return"number"==typeof e?e:js(e)?Ce:+e}function jr(e){if("string"==typeof e)return e;if(js(e))return _f?_f.call(e):"";var t=e+"";return"0"==t&&1/e==-ke?"-0":t}function Lr(e,t,n){var r=-1,o=d,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=p;else if(i>=ee){var c=t?null:Sf(e);if(c)return Y(c);a=!1,o=j,u=new tn}else u=t?[]:s;e:for(;++r<i;){var f=e[r],l=t?t(f):f;if(f=n||0!==f?f:0,a&&l===l){for(var h=u.length;h--;)if(u[h]===l)continue e;t&&u.push(l),s.push(f)}else o(u,l,n)||(u!==s&&u.push(l),s.push(f))}return s}function Mr(e,t){t=Qo(t,e)?[t]:qr(t),e=ui(e,t);var n=fi(Ii(t));return!(null!=e&&Zn(e,n))||delete e[n]}function Dr(e,t,n,r){return Ar(e,t,n(Yn(e,t)),r)}function Pr(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Cr(e,r?0:i,r?i+1:o):Cr(e,r?i+1:0,r?o:i)}function Rr(e,t){var n=e;return n instanceof o&&(n=n.value()),g(t,function(e,t){return t.func.apply(t.thisArg,y([e],t.args))},n)}function Nr(e,t,n){for(var r=-1,o=e.length;++r<o;)var i=i?y(jn(i,e[r],t,n),jn(e[r],i,t,n)):e[r];return i&&i.length?Lr(i,t,n):[]}function zr(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:J;n(a,e[r],s)}return a}function Br(e){return is(e)?e:[]}function Ur(e){return"function"==typeof e?e:Yu}function qr(e){return gl(e)?e:Mf(e)}function Hr(e,t,n){var r=e.length;return n=n===J?r:n,!t&&n>=r?e:Cr(e,t,n)}function Wr(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function $r(e){var t=new e.constructor(e.byteLength);return new Nc(t).set(new Nc(e)),t}function Yr(e,t){var n=t?$r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Xr(e,t,n){var r=t?n(W(e),!0):W(e);return g(r,i,new e.constructor)}function Vr(e){var t=new e.constructor(e.source,At.exec(e));return t.lastIndex=e.lastIndex,t}function Zr(e,t,n){var r=t?n(Y(e),!0):Y(e);return g(r,a,new e.constructor)}function Kr(e){return wf?Object(wf.call(e)):{}}function Gr(e,t){var n=t?$r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Jr(e,t){if(e!==t){var n=e!==J,r=null===e,o=e===e,i=js(e),a=t!==J,s=null===t,u=t===t,c=js(t);if(!s&&!c&&!i&&e>t||i&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!u)return-1}return 0}function Qr(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=Jr(o[r],i[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}function eo(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,u=t.length,c=Jc(i-a,0),f=Array(u+c),l=!r;++s<u;)f[s]=t[s];for(;++o<a;)(l||o<i)&&(f[n[o]]=e[o]);for(;c--;)f[s++]=e[o++];return f}function to(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,u=-1,c=t.length,f=Jc(i-s,0),l=Array(f+c),h=!r;++o<f;)l[o]=e[o];for(var d=o;++u<c;)l[d+u]=t[u];for(;++a<s;)(h||o<i)&&(l[d+n[a]]=e[o++]);return l}function no(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ro(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):e[a];dn(n,a,s)}return n}function oo(e,t){return ro(e,Uo(e),t)}function io(e,t){return function(n,r){var o=gl(n)?u:vn,i=t?t():{};return o(n,e,Po(r),i)}}function ao(e){return $a(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:J,a=o>2?n[2]:J;for(i=e.length>3&&"function"==typeof i?(o--,i):J,a&&Jo(n[0],n[1],a)&&(i=o<3?J:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}function so(e,t){return function(n,r){if(null==n)return n;if(!os(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function uo(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(n(i[u],u,i)===!1)break}return t}}function co(e,t,n){function r(){var t=this&&this!==Un&&this instanceof r?i:e;return t.apply(o?n:this,arguments)}var o=t&oe,i=ho(e);return r}function fo(e){return function(t){t=Ws(t);var n=kn.test(t)?Z(t):J,r=n?n[0]:t.charAt(0),o=n?Hr(n,1).join(""):t.slice(1);return r[e]()+o}}function lo(e){return function(t){return g(qu(_u(t).replace(bn,"")),e,"")}}function ho(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),r=e.apply(n,t);return gs(r)?r:n}}function po(e,t,n){function r(){for(var i=arguments.length,a=Array(i),u=i,c=Do(r);u--;)a[u]=arguments[u];var f=i<3&&a[0]!==c&&a[i-1]!==c?[]:$(a,c);if(i-=f.length,i<n)return Ao(e,t,go,r.placeholder,J,a,f,J,J,n-i);var l=this&&this!==Un&&this instanceof r?o:e;return s(l,this,a)}var o=ho(e);return r}function vo(e){return function(t,n,r){var o=Object(t);if(n=Po(n,3),!os(t))var i=ru(t);var a=e(i||t,function(e,t){return i&&(t=e,e=o[t]),n(e,t,o)},r);return a>-1?t[i?i[a]:a]:J}}function yo(e){return $a(function(t){t=Bn(t,1);var n=t.length,o=n,i=r.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new _c(te);if(i&&!s&&"wrapper"==Mo(a))var s=new r([],(!0))}for(o=s?o:n;++o<n;){a=t[o];var u=Mo(a),c="wrapper"==u?Tf(a):J;s=c&&ti(c[0])&&c[1]==(le|se|ce|he)&&!c[4].length&&1==c[9]?s[Mo(c[0])].apply(s,c[3]):1==a.length&&ti(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&gl(r)&&r.length>=ee)return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function go(e,t,n,r,o,i,a,s,u,c){function f(){for(var g=arguments.length,m=Array(g),b=g;b--;)m[b]=arguments[b];if(p)var x=Do(f),w=P(m,x);if(r&&(m=eo(m,r,o,p)),i&&(m=to(m,i,a,p)),g-=w,p&&g<c){var _=$(m,x);return Ao(e,t,go,f.placeholder,n,m,_,s,u,c-g)}var k=h?n:this,F=d?k[e]:e;return g=m.length,s?m=ci(m,s):v&&g>1&&m.reverse(),l&&u<g&&(m.length=u),this&&this!==Un&&this instanceof f&&(F=y||ho(F)),F.apply(k,m)}var l=t&le,h=t&oe,d=t&ie,p=t&(se|ue),v=t&de,y=d?J:ho(e);return f}function mo(e,t){return function(n,r){return Qn(n,e,t(r),{})}}function bo(e){return function(t,n){var r;if(t===J&&n===J)return 0;if(t!==J&&(r=t),n!==J){if(r===J)return n;"string"==typeof t||"string"==typeof n?(t=jr(t),n=jr(n)):(t=Ir(t),n=Ir(n)),r=e(t,n)}return r}}function xo(e){return $a(function(t){return t=1==t.length&&gl(t[0])?v(t[0],O(Po())):v(Bn(t,1,Ko),O(Po())),$a(function(n){var r=this;return e(t,function(e){return s(e,r,n)})})})}function wo(e,t){t=t===J?" ":jr(t);var n=t.length;if(n<2)return n?Fr(t,e):t;var r=Fr(t,Yc(e/V(t)));return kn.test(t)?Hr(Z(r),0,e).join(""):r.slice(0,e)}function _o(e,t,n,r){function o(){for(var t=-1,u=arguments.length,c=-1,f=r.length,l=Array(f+u),h=this&&this!==Un&&this instanceof o?a:e;++c<f;)l[c]=r[c];for(;u--;)l[c++]=arguments[++t];return s(h,i?n:this,l)}var i=t&oe,a=ho(e);return o}function ko(e){return function(t,n,r){return r&&"number"!=typeof r&&Jo(t,n,r)&&(n=r=J),t=Us(t),t=t===t?t:0,n===J?(n=t,t=0):n=Us(n)||0,r=r===J?t<n?1:-1:Us(r)||0,kr(t,n,r,e)}}function Fo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Us(t),n=Us(n)),e(t,n)}}function Ao(e,t,n,r,o,i,a,s,u,c){var f=t&se,l=f?a:J,h=f?J:a,d=f?i:J,p=f?J:i;t|=f?ce:fe,t&=~(f?fe:ce),t&ae||(t&=~(oe|ie));var v=[e,t,o,d,l,p,h,s,u,c],y=n.apply(J,v);return ti(e)&&Lf(y,v),y.placeholder=r,y}function Co(e){var t=xc[e];return function(e,n){if(e=Us(e),n=Qc(zs(n),292)){var r=(Ws(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(Ws(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function Eo(e){return function(t){var n=qo(t);return n==Re?W(t):n==qe?X(t):T(t,e(t))}}function So(e,t,n,r,o,i,a,s){var u=t&ie;if(!u&&"function"!=typeof e)throw new _c(te);var c=r?r.length:0;if(c||(t&=~(ce|fe),r=o=J),a=a===J?a:Jc(zs(a),0),s=s===J?s:zs(s),c-=o?o.length:0,t&fe){var f=r,l=o;r=o=J}var h=u?J:Tf(e),d=[e,t,n,r,o,f,l,i,a,s];if(h&&ai(d,h),e=d[0],t=d[1],n=d[2],r=d[3],o=d[4],s=d[9]=null==d[9]?u?0:e.length:Jc(d[9]-c,0),!s&&t&(se|ue)&&(t&=~(se|ue)),t&&t!=oe)p=t==se||t==ue?po(e,t,s):t!=ce&&t!=(oe|ce)||o.length?go.apply(J,d):_o(e,t,n,r);else var p=co(e,t,n);var v=h?Ef:Lf;return v(p,d)}function To(e,t,n,r,o,i){var a=o&ve,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e);if(c)return c==t;var f=-1,l=!0,h=o&pe?new tn:J;for(i.set(e,t);++f<s;){var d=e[f],p=t[f];if(r)var v=a?r(p,d,f,t,e,i):r(d,p,f,e,t,i);if(v!==J){if(v)continue;l=!1;break}if(h){if(!b(t,function(e,t){if(!h.has(t)&&(d===e||n(d,e,r,o,i)))return h.add(t)})){l=!1;break}}else if(d!==p&&!n(d,p,r,o,i)){l=!1;break}}return i["delete"](e),l}function Oo(e,t,n,r,o,i,a){switch(n){case Ve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Xe:return!(e.byteLength!=t.byteLength||!r(new Nc(e),new Nc(t)));case je:case Le:return+e==+t;case Me:return e.name==t.name&&e.message==t.message;case Ne:return e!=+e?t!=+t:e==+t;case Ue:case He:return e==t+"";case Re:var s=W;case qe:var u=i&ve;if(s||(s=Y),e.size!=t.size&&!u)return!1;var c=a.get(e);return c?c==t:(i|=pe,a.set(e,t),To(s(e),s(t),r,o,i,a));case We:if(wf)return wf.call(e)==wf.call(t)}return!1}function Io(e,t,n,r,o,i){var a=o&ve,s=ru(e),u=s.length,c=ru(t),f=c.length;if(u!=f&&!a)return!1;for(var l=u;l--;){var h=s[l];if(!(a?h in t:Zn(t,h)))return!1}var d=i.get(e);if(d)return d==t;var p=!0;i.set(e,t);for(var v=a;++l<u;){h=s[l];var y=e[h],g=t[h];if(r)var m=a?r(g,y,h,t,e,i):r(y,g,h,e,t,i);if(!(m===J?y===g||n(y,g,r,o,i):m)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var b=e.constructor,x=t.constructor;b!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(p=!1)}return i["delete"](e),p}function jo(e){return Xn(e,ru,Uo)}function Lo(e){return Xn(e,ou,If)}function Mo(e){for(var t=e.name+"",n=pf[t],r=Tc.call(pf,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Do(e){var n=Tc.call(t,"placeholder")?t:e;return n.placeholder}function Po(){var e=t.iteratee||Xu;return e=e===Xu?ir:e,arguments.length?e(arguments[0],arguments[1]):e}function Ro(e,t){var n=e.__data__;return ei(t)?n["string"==typeof t?"string":"hash"]:n.map}function No(e){for(var t=ru(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,oi(o)]}return t}function zo(e,t){var n=B(e,t);return or(n)?n:J}function Bo(e){return Vc(Object(e))}function Uo(e){return Bc(Object(e))}function qo(e){return jc.call(e)}function Ho(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Qc(t,e+a);break;case"takeRight":e=Jc(e,t-a)}}return{start:e,end:t}}function Wo(e,t,n){t=Qo(t,e)?[t]:qr(t);for(var r,o=-1,i=t.length;++o<i;){var a=fi(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var i=e?e.length:0;return!!i&&ys(i)&&Go(a,i)&&(gl(e)||Is(e)||ns(e))}function $o(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Tc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Yo(e){return"function"!=typeof e.constructor||ri(e)?{}:On(Bo(e))}function Xo(e,t,n,r){var o=e.constructor;switch(t){case Xe:return $r(e);case je:case Le:return new o((+e));case Ve:return Yr(e,r);case Ze:case Ke:case Ge:case Je:case Qe:case et:case tt:case nt:case rt:return Gr(e,r);case Re:return Xr(e,r,n);case Ne:case He:return new o(e);case Ue:return Vr(e);case qe:return Zr(e,r,n);case We:return Kr(e)}}function Vo(e){var t=e?e.length:J;return ys(t)&&(gl(e)||Is(e)||ns(e))?S(t,String):null}function Zo(e){return gl(e)||ns(e)}function Ko(e){return gl(e)&&!(2==e.length&&!ps(e[0]))}function Go(e,t){return t=null==t?Fe:t,!!t&&("number"==typeof e||It.test(e))&&e>-1&&e%1==0&&e<t}function Jo(e,t,n){if(!gs(n))return!1;var r=typeof t;return!!("number"==r?os(n)&&Go(t,n.length):"string"==r&&t in n)&&ts(n[t],e)}function Qo(e,t){if(gl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!js(e))||(vt.test(e)||!pt.test(e)||null!=t&&e in Object(t))}function ei(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ti(e){var n=Mo(e),r=t[n];if("function"!=typeof r||!(n in o.prototype))return!1;if(e===r)return!0;var i=Tf(r);return!!i&&e===i[0]}function ni(e){return!!Ec&&Ec in e}function ri(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Fc;return e===n}function oi(e){return e===e&&!gs(e)}function ii(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==J||e in Object(n)))}}function ai(e,t){var n=e[1],r=t[1],o=n|r,i=o<(oe|ie|le),a=r==le&&n==se||r==le&&n==he&&e[7].length<=t[8]||r==(le|he)&&t[7].length<=t[8]&&n==se;if(!i&&!a)return e;r&oe&&(e[2]=t[2],o|=n&oe?0:ae);var s=t[3];if(s){var u=e[3];e[3]=u?eo(u,s,t[4]):s,e[4]=u?$(e[3],re):t[4]}return s=t[5],s&&(u=e[5],e[5]=u?to(u,s,t[6]):s,e[6]=u?$(e[5],re):t[6]),s=t[7],s&&(e[7]=s),r&le&&(e[8]=null==e[8]?t[8]:Qc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function si(e,t,n,r,o,i){return gs(e)&&gs(t)&&hr(e,t,J,si,i.set(t,e)),e}function ui(e,t){return 1==t.length?e:Yn(e,Cr(t,0,-1))}function ci(e,t){for(var n=e.length,r=Qc(t.length,n),o=no(e);r--;){var i=t[r];e[r]=Go(i,n)?o[i]:J}return e}function fi(e){if("string"==typeof e||js(e))return e;var t=e+"";return"0"==t&&1/e==-ke?"-0":t}function li(e){if(null!=e){try{return Sc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function hi(e){if(e instanceof o)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function di(e,t,n){t=(n?Jo(e,t,n):t===J)?1:Jc(zs(t),0);var r=e?e.length:0;if(!r||t<1)return[];for(var o=0,i=0,a=Array(Yc(r/t));o<r;)a[i++]=Cr(e,o,o+=t);return a}function pi(e){for(var t=-1,n=e?e.length:0,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function vi(){for(var e=arguments.length,t=Array(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?y(gl(n)?no(n):[n],Bn(t,1)):[]}function yi(e,t,n){var r=e?e.length:0;return r?(t=n||t===J?1:zs(t),Cr(e,t<0?0:t,r)):[]}function gi(e,t,n){var r=e?e.length:0;return r?(t=n||t===J?1:zs(t),t=r-t,Cr(e,0,t<0?0:t)):[]}function mi(e,t){return e&&e.length?Pr(e,Po(t,3),!0,!0):[]}function bi(e,t){return e&&e.length?Pr(e,Po(t,3),!0):[]}function xi(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&Jo(e,t,n)&&(n=0,r=o),Nn(e,t,n,r)):[]}function wi(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:zs(n);return o<0&&(o=Jc(r+o,0)),w(e,Po(t,3),o)}function _i(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r-1;return n!==J&&(o=zs(n),o=n<0?Jc(r+o,0):Qc(o,r-1)),w(e,Po(t,3),o,!0)}function ki(e){var t=e?e.length:0;return t?Bn(e,1):[]}function Fi(e){var t=e?e.length:0;return t?Bn(e,ke):[]}function Ai(e,t){var n=e?e.length:0;return n?(t=t===J?1:zs(t),Bn(e,t)):[]}function Ci(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Ei(e){return e&&e.length?e[0]:J}function Si(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:zs(n);return o<0&&(o=Jc(r+o,0)),_(e,t,o)}function Ti(e){return gi(e,1)}function Oi(e,t){return e?Kc.call(e,t):""}function Ii(e){var t=e?e.length:0;return t?e[t-1]:J}function ji(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;if(n!==J&&(o=zs(n),o=(o<0?Jc(r+o,0):Qc(o,r-1))+1),t!==t)return U(e,o-1,!0);for(;o--;)if(e[o]===t)return o;return-1}function Li(e,t){return e&&e.length?pr(e,zs(t)):J}function Mi(e,t){return e&&e.length&&t&&t.length?xr(e,t):e}function Di(e,t,n){return e&&e.length&&t&&t.length?xr(e,t,Po(n)):e}function Pi(e,t,n){return e&&e.length&&t&&t.length?xr(e,t,J,n):e}function Ri(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Po(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return wr(e,o),n}function Ni(e){return e?rf.call(e):e}function zi(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Jo(e,t,n)?(t=0,n=r):(t=null==t?0:zs(t),n=n===J?r:zs(n)),Cr(e,t,n)):[]}function Bi(e,t){return Sr(e,t)}function Ui(e,t,n){return Tr(e,t,Po(n))}function qi(e,t){var n=e?e.length:0;if(n){var r=Sr(e,t);if(r<n&&ts(e[r],t))return r}return-1}function Hi(e,t){return Sr(e,t,!0)}function Wi(e,t,n){return Tr(e,t,Po(n),!0)}function $i(e,t){var n=e?e.length:0;if(n){var r=Sr(e,t,!0)-1;if(ts(e[r],t))return r}return-1}function Yi(e){return e&&e.length?Or(e):[]}function Xi(e,t){return e&&e.length?Or(e,Po(t)):[]}function Vi(e){return yi(e,1)}function Zi(e,t,n){return e&&e.length?(t=n||t===J?1:zs(t),Cr(e,0,t<0?0:t)):[]}function Ki(e,t,n){var r=e?e.length:0;return r?(t=n||t===J?1:zs(t),t=r-t,Cr(e,t<0?0:t,r)):[]}function Gi(e,t){return e&&e.length?Pr(e,Po(t,3),!1,!0):[]}function Ji(e,t){return e&&e.length?Pr(e,Po(t,3)):[]}function Qi(e){return e&&e.length?Lr(e):[]}function ea(e,t){return e&&e.length?Lr(e,Po(t)):[]}function ta(e,t){return e&&e.length?Lr(e,J,t):[]}function na(e){if(!e||!e.length)return[];var t=0;return e=h(e,function(e){if(is(e))return t=Jc(e.length,t),!0}),S(t,function(t){return v(e,mr(t))})}function ra(e,t){if(!e||!e.length)return[];var n=na(e);return null==t?n:v(n,function(e){return s(t,J,e)})}function oa(e,t){return zr(e||[],t||[],dn)}function ia(e,t){return zr(e||[],t||[],Ar)}function aa(e){var n=t(e);return n.__chain__=!0,n}function sa(e,t){return t(e),e}function ua(e,t){return t(e)}function ca(){return aa(this)}function fa(){return new r(this.value(),this.__chain__)}function la(){this.__values__===J&&(this.__values__=Rs(this.value()));var e=this.__index__>=this.__values__.length,t=e?J:this.__values__[this.__index__++];return{done:e,value:t}}function ha(){return this}function da(e){for(var t,r=this;r instanceof n;){var o=hi(r);o.__index__=0,o.__values__=J,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t}function pa(){var e=this.__wrapped__;if(e instanceof o){var t=e;return this.__actions__.length&&(t=new o(this)),t=t.reverse(),t.__actions__.push({func:ua,args:[Ni],thisArg:J}),new r(t,this.__chain__)}return this.thru(Ni)}function va(){return Rr(this.__wrapped__,this.__actions__)}function ya(e,t,n){var r=gl(e)?l:Dn;return n&&Jo(e,t,n)&&(t=J),r(e,Po(t,3))}function ga(e,t){var n=gl(e)?h:zn;return n(e,Po(t,3))}function ma(e,t){return Bn(Fa(e,t),1)}function ba(e,t){return Bn(Fa(e,t),ke)}function xa(e,t,n){return n=n===J?1:zs(n),Bn(Fa(e,t),n)}function wa(e,t){var n=gl(e)?c:kf;return n(e,Po(t,3))}function _a(e,t){var n=gl(e)?f:Ff;return n(e,Po(t,3))}function ka(e,t,n,r){e=os(e)?e:yu(e),n=n&&!r?zs(n):0;var o=e.length;return n<0&&(n=Jc(o+n,0)),Is(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&_(e,t,n)>-1}function Fa(e,t){var n=gl(e)?v:cr;return n(e,Po(t,3))}function Aa(e,t,n,r){return null==e?[]:(gl(t)||(t=null==t?[]:[t]),n=r?J:n,gl(n)||(n=null==n?[]:[n]),vr(e,t,n))}function Ca(e,t,n){var r=gl(e)?g:A,o=arguments.length<3;return r(e,Po(t,4),n,o,kf)}function Ea(e,t,n){var r=gl(e)?m:A,o=arguments.length<3;return r(e,Po(t,4),n,o,Ff)}function Sa(e,t){var n=gl(e)?h:zn;return t=Po(t,3),n(e,function(e,n,r){return!t(e,n,r)})}function Ta(e){var t=os(e)?e:yu(e),n=t.length;return n>0?t[_r(0,n-1)]:J}function Oa(e,t,n){var r=-1,o=Rs(e),i=o.length,a=i-1;for(t=(n?Jo(e,t,n):t===J)?1:mn(zs(t),0,i);++r<t;){var s=_r(r,a),u=o[s];o[s]=o[r],o[r]=u}return o.length=t,o}function Ia(e){return Oa(e,Ee)}function ja(e){if(null==e)return 0;if(os(e)){var t=e.length;return t&&Is(e)?V(e):t}if(ms(e)){var n=qo(e);if(n==Re||n==qe)return e.size}return ru(e).length}function La(e,t,n){var r=gl(e)?b:Er;return n&&Jo(e,t,n)&&(t=J),r(e,Po(t,3))}function Ma(){return mc.now()}function Da(e,t){if("function"!=typeof t)throw new _c(te);return e=zs(e),function(){if(--e<1)return t.apply(this,arguments)}}function Pa(e,t,n){return t=n?J:t,t=e&&null==t?e.length:t,So(e,le,J,J,J,J,t)}function Ra(e,t){var n;if("function"!=typeof t)throw new _c(te);return e=zs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=J),n}}function Na(e,t,n){t=n?J:t;var r=So(e,se,J,J,J,J,J,t);return r.placeholder=Na.placeholder,r}function za(e,t,n){t=n?J:t;var r=So(e,ue,J,J,J,J,J,t);return r.placeholder=za.placeholder,r}function Ba(e,t,n){function r(t){var n=h,r=d;return h=d=J,m=t,v=e.apply(r,n)}function o(e){
return m=e,y=$c(s,t),b?r(e):v}function i(e){var n=e-g,r=e-m,o=t-n;return x?Qc(o,p-r):o}function a(e){var n=e-g,r=e-m;return g===J||n>=t||n<0||x&&r>=p}function s(){var e=Ma();return a(e)?u(e):void(y=$c(s,i(e)))}function u(e){return y=J,w&&h?r(e):(h=d=J,v)}function c(){m=0,h=g=d=y=J}function f(){return y===J?v:u(Ma())}function l(){var e=Ma(),n=a(e);if(h=arguments,d=this,g=e,n){if(y===J)return o(g);if(x)return y=$c(s,t),r(g)}return y===J&&(y=$c(s,t)),v}var h,d,p,v,y,g,m=0,b=!1,x=!1,w=!0;if("function"!=typeof e)throw new _c(te);return t=Us(t)||0,gs(n)&&(b=!!n.leading,x="maxWait"in n,p=x?Jc(Us(n.maxWait)||0,t):p,w="trailing"in n?!!n.trailing:w),l.cancel=c,l.flush=f,l}function Ua(e){return So(e,de)}function qa(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new _c(te);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(qa.Cache||Zt),n}function Ha(e){if("function"!=typeof e)throw new _c(te);return function(){return!e.apply(this,arguments)}}function Wa(e){return Ra(2,e)}function $a(e,t){if("function"!=typeof e)throw new _c(te);return t=Jc(t===J?e.length-1:zs(t),0),function(){for(var n=arguments,r=-1,o=Jc(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=i,s(e,this,a)}}function Ya(e,t){if("function"!=typeof e)throw new _c(te);return t=t===J?0:Jc(zs(t),0),$a(function(n){var r=n[t],o=Hr(n,0,t);return r&&y(o,r),s(e,this,o)})}function Xa(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new _c(te);return gs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ba(e,t,{leading:r,maxWait:t,trailing:o})}function Va(e){return Pa(e,1)}function Za(e,t){return t=null==t?Yu:t,hl(t,e)}function Ka(){if(!arguments.length)return[];var e=arguments[0];return gl(e)?e:[e]}function Ga(e){return wn(e,!1,!0)}function Ja(e,t){return wn(e,!1,!0,t)}function Qa(e){return wn(e,!0,!0)}function es(e,t){return wn(e,!0,!0,t)}function ts(e,t){return e===t||e!==e&&t!==t}function ns(e){return is(e)&&Tc.call(e,"callee")&&(!Hc.call(e,"callee")||jc.call(e)==Oe)}function rs(e){return ms(e)&&jc.call(e)==Xe}function os(e){return null!=e&&ys(Of(e))&&!ps(e)}function is(e){return ms(e)&&os(e)}function as(e){return e===!0||e===!1||ms(e)&&jc.call(e)==je}function ss(e){return ms(e)&&jc.call(e)==Le}function us(e){return!!e&&1===e.nodeType&&ms(e)&&!Es(e)}function cs(e){if(os(e)&&(gl(e)||Is(e)||ps(e.splice)||ns(e)||ml(e)))return!e.length;if(ms(e)){var t=qo(e);if(t==Re||t==qe)return!e.size}for(var n in e)if(Tc.call(e,n))return!1;return!(df&&ru(e).length)}function fs(e,t){return tr(e,t)}function ls(e,t,n){n="function"==typeof n?n:J;var r=n?n(e,t):J;return r===J?tr(e,t,n):!!r}function hs(e){return!!ms(e)&&(jc.call(e)==Me||"string"==typeof e.message&&"string"==typeof e.name)}function ds(e){return"number"==typeof e&&Zc(e)}function ps(e){var t=gs(e)?jc.call(e):"";return t==De||t==Pe}function vs(e){return"number"==typeof e&&e==zs(e)}function ys(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Fe}function gs(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ms(e){return!!e&&"object"==typeof e}function bs(e){return ms(e)&&qo(e)==Re}function xs(e,t){return e===t||rr(e,t,No(t))}function ws(e,t,n){return n="function"==typeof n?n:J,rr(e,t,No(t),n)}function _s(e){return Cs(e)&&e!=+e}function ks(e){if(jf(e))throw new bc("This method is not supported with `core-js`. Try https://github.com/es-shims.");return or(e)}function Fs(e){return null===e}function As(e){return null==e}function Cs(e){return"number"==typeof e||ms(e)&&jc.call(e)==Ne}function Es(e){if(!ms(e)||jc.call(e)!=ze||q(e))return!1;var t=Bo(e);if(null===t)return!0;var n=Tc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Sc.call(n)==Ic}function Ss(e){return gs(e)&&jc.call(e)==Ue}function Ts(e){return vs(e)&&e>=-Fe&&e<=Fe}function Os(e){return ms(e)&&qo(e)==qe}function Is(e){return"string"==typeof e||!gl(e)&&ms(e)&&jc.call(e)==He}function js(e){return"symbol"==typeof e||ms(e)&&jc.call(e)==We}function Ls(e){return ms(e)&&ys(e.length)&&!!En[jc.call(e)]}function Ms(e){return e===J}function Ds(e){return ms(e)&&qo(e)==$e}function Ps(e){return ms(e)&&jc.call(e)==Ye}function Rs(e){if(!e)return[];if(os(e))return Is(e)?Z(e):no(e);if(Uc&&e[Uc])return H(e[Uc]());var t=qo(e),n=t==Re?W:t==qe?Y:yu;return n(e)}function Ns(e){if(!e)return 0===e?e:0;if(e=Us(e),e===ke||e===-ke){var t=e<0?-1:1;return t*Ae}return e===e?e:0}function zs(e){var t=Ns(e),n=t%1;return t===t?n?t-n:t:0}function Bs(e){return e?mn(zs(e),0,Ee):0}function Us(e){if("number"==typeof e)return e;if(js(e))return Ce;if(gs(e)){var t=ps(e.valueOf)?e.valueOf():e;e=gs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(bt,"");var n=St.test(e);return n||Ot.test(e)?Mn(e.slice(2),n?2:8):Et.test(e)?Ce:+e}function qs(e){return ro(e,ou(e))}function Hs(e){return mn(zs(e),-Fe,Fe)}function Ws(e){return null==e?"":jr(e)}function $s(e,t){var n=On(e);return t?yn(n,t):n}function Ys(e,t){return x(e,Po(t,3),Hn)}function Xs(e,t){return x(e,Po(t,3),Wn)}function Vs(e,t){return null==e?e:Af(e,Po(t,3),ou)}function Zs(e,t){return null==e?e:Cf(e,Po(t,3),ou)}function Ks(e,t){return e&&Hn(e,Po(t,3))}function Gs(e,t){return e&&Wn(e,Po(t,3))}function Js(e){return null==e?[]:$n(e,ru(e))}function Qs(e){return null==e?[]:$n(e,ou(e))}function eu(e,t,n){var r=null==e?J:Yn(e,t);return r===J?n:r}function tu(e,t){return null!=e&&Wo(e,t,Zn)}function nu(e,t){return null!=e&&Wo(e,t,Kn)}function ru(e){var t=ri(e);if(!t&&!os(e))return ar(e);var n=Vo(e),r=!!n,o=n||[],i=o.length;for(var a in e)!Zn(e,a)||r&&("length"==a||Go(a,i))||t&&"constructor"==a||o.push(a);return o}function ou(e){for(var t=-1,n=ri(e),r=sr(e),o=r.length,i=Vo(e),a=!!i,s=i||[],u=s.length;++t<o;){var c=r[t];a&&("length"==c||Go(c,u))||"constructor"==c&&(n||!Tc.call(e,c))||s.push(c)}return s}function iu(e,t){var n={};return t=Po(t,3),Hn(e,function(e,r,o){n[t(e,r,o)]=e}),n}function au(e,t){var n={};return t=Po(t,3),Hn(e,function(e,r,o){n[r]=t(e,r,o)}),n}function su(e,t){return t=Po(t),gr(e,function(e,n){return!t(e,n)})}function uu(e,t){return null==e?{}:gr(e,Po(t))}function cu(e,t,n){t=Qo(t,e)?[t]:qr(t);var r=-1,o=t.length;for(o||(e=J,o=1);++r<o;){var i=null==e?J:e[fi(t[r])];i===J&&(r=o,i=n),e=ps(i)?i.call(e):i}return e}function fu(e,t,n){return null==e?e:Ar(e,t,n)}function lu(e,t,n,r){return r="function"==typeof r?r:J,null==e?e:Ar(e,t,n,r)}function hu(e,t,n){var r=gl(e)||Ls(e);if(t=Po(t,4),null==n)if(r||gs(e)){var o=e.constructor;n=r?gl(e)?new o:[]:ps(o)?On(Bo(e)):{}}else n={};return(r?c:Hn)(e,function(e,r,o){return t(n,e,r,o)}),n}function du(e,t){return null==e||Mr(e,t)}function pu(e,t,n){return null==e?e:Dr(e,t,Ur(n))}function vu(e,t,n,r){return r="function"==typeof r?r:J,null==e?e:Dr(e,t,Ur(n),r)}function yu(e){return e?I(e,ru(e)):[]}function gu(e){return null==e?[]:I(e,ou(e))}function mu(e,t,n){return n===J&&(n=t,t=J),n!==J&&(n=Us(n),n=n===n?n:0),t!==J&&(t=Us(t),t=t===t?t:0),mn(Us(e),t,n)}function bu(e,t,n){return t=Us(t)||0,n===J?(n=t,t=0):n=Us(n)||0,e=Us(e),Gn(e,t,n)}function xu(e,t,n){if(n&&"boolean"!=typeof n&&Jo(e,t,n)&&(t=n=J),n===J&&("boolean"==typeof t?(n=t,t=J):"boolean"==typeof e&&(n=e,e=J)),e===J&&t===J?(e=0,t=1):(e=Us(e)||0,t===J?(t=e,e=0):t=Us(t)||0),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=tf();return Qc(e+o*(t-e+Ln("1e-"+((o+"").length-1))),t)}return _r(e,t)}function wu(e){return Wl(Ws(e).toLowerCase())}function _u(e){return e=Ws(e),e&&e.replace(jt,R).replace(xn,"")}function ku(e,t,n){e=Ws(e),t=jr(t);var r=e.length;return n=n===J?r:mn(zs(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Fu(e){return e=Ws(e),e&&ft.test(e)?e.replace(ut,N):e}function Au(e){return e=Ws(e),e&&mt.test(e)?e.replace(gt,"\\$&"):e}function Cu(e,t,n){e=Ws(e),t=zs(t);var r=t?V(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return wo(Xc(o),n)+e+wo(Yc(o),n)}function Eu(e,t,n){e=Ws(e),t=zs(t);var r=t?V(e):0;return t&&r<t?e+wo(t-r,n):e}function Su(e,t,n){e=Ws(e),t=zs(t);var r=t?V(e):0;return t&&r<t?wo(t-r,n)+e:e}function Tu(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Ws(e).replace(bt,""),ef(e,t||(Ct.test(e)?16:10))}function Ou(e,t,n){return t=(n?Jo(e,t,n):t===J)?1:zs(t),Fr(Ws(e),t)}function Iu(){var e=arguments,t=Ws(e[0]);return e.length<3?t:nf.call(t,e[1],e[2])}function ju(e,t,n){return n&&"number"!=typeof n&&Jo(e,t,n)&&(t=n=J),(n=n===J?Ee:n>>>0)?(e=Ws(e),e&&("string"==typeof t||null!=t&&!Ss(t))&&(t=jr(t),""==t&&kn.test(e))?Hr(Z(e),0,n):of.call(e,t,n)):[]}function Lu(e,t,n){return e=Ws(e),n=mn(zs(n),0,e.length),e.lastIndexOf(jr(t),n)==n}function Mu(e,n,r){var o=t.templateSettings;r&&Jo(e,n,r)&&(n=J),e=Ws(e),n=kl({},n,o,ln);var i,a,s=kl({},n.imports,o.imports,ln),u=ru(s),c=I(s,u),f=0,l=n.interpolate||Lt,h="__p += '",d=wc((n.escape||Lt).source+"|"+l.source+"|"+(l===dt?Ft:Lt).source+"|"+(n.evaluate||Lt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Cn+"]")+"\n";e.replace(d,function(t,n,r,o,s,u){return r||(r=o),h+=e.slice(f,u).replace(Mt,z),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+t.length,t}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(ot,""):h).replace(it,"$1").replace(at,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=$l(function(){return Function(u,p+"return "+h).apply(J,c)});if(y.source=h,hs(y))throw y;return y}function Du(e){return Ws(e).toLowerCase()}function Pu(e){return Ws(e).toUpperCase()}function Ru(e,t,n){if(e=Ws(e),e&&(n||t===J))return e.replace(bt,"");if(!e||!(t=jr(t)))return e;var r=Z(e),o=Z(t),i=L(r,o),a=M(r,o)+1;return Hr(r,i,a).join("")}function Nu(e,t,n){if(e=Ws(e),e&&(n||t===J))return e.replace(wt,"");if(!e||!(t=jr(t)))return e;var r=Z(e),o=M(r,Z(t))+1;return Hr(r,0,o).join("")}function zu(e,t,n){if(e=Ws(e),e&&(n||t===J))return e.replace(xt,"");if(!e||!(t=jr(t)))return e;var r=Z(e),o=L(r,Z(t));return Hr(r,o).join("")}function Bu(e,t){var n=ye,r=ge;if(gs(t)){var o="separator"in t?t.separator:o;n="length"in t?zs(t.length):n,r="omission"in t?jr(t.omission):r}e=Ws(e);var i=e.length;if(kn.test(e)){var a=Z(e);i=a.length}if(n>=i)return e;var s=n-V(r);if(s<1)return r;var u=a?Hr(a,0,s).join(""):e.slice(0,s);if(o===J)return u+r;if(a&&(s+=u.length-s),Ss(o)){if(e.slice(s).search(o)){var c,f=u;for(o.global||(o=wc(o.source,Ws(At.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var l=c.index;u=u.slice(0,l===J?s:l)}}else if(e.indexOf(jr(o),s)!=s){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+r}function Uu(e){return e=Ws(e),e&&ct.test(e)?e.replace(st,K):e}function qu(e,t,n){return e=Ws(e),t=n?J:t,t===J&&(t=Fn.test(e)?_n:_t),e.match(t)||[]}function Hu(e){var t=e?e.length:0,n=Po();return e=t?v(e,function(e){if("function"!=typeof e[1])throw new _c(te);return[n(e[0]),e[1]]}):[],$a(function(n){for(var r=-1;++r<t;){var o=e[r];if(s(o[0],this,n))return s(o[1],this,n)}})}function Wu(e){return Tn(wn(e,!0))}function $u(e){return function(){return e}}function Yu(e){return e}function Xu(e){return ir("function"==typeof e?e:wn(e,!0))}function Vu(e){return fr(wn(e,!0))}function Zu(e,t){return lr(e,wn(t,!0))}function Ku(e,t,n){var r=ru(t),o=$n(t,r);null!=n||gs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=$n(t,ru(t)));var i=!(gs(n)&&"chain"in n&&!n.chain),a=ps(e);return c(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=no(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,y([this.value()],arguments))})}),e}function Gu(){return Un._===this&&(Un._=Lc),this}function Ju(){}function Qu(e){return e=zs(e),$a(function(t){return pr(t,e)})}function ec(e){return Qo(e)?mr(fi(e)):br(e)}function tc(e){return function(t){return null==e?J:Yn(e,t)}}function nc(){return[]}function rc(){return!1}function oc(){return{}}function ic(){return""}function ac(){return!0}function sc(e,t){if(e=zs(e),e<1||e>Fe)return[];var n=Ee,r=Qc(e,Ee);t=Po(t),e-=Ee;for(var o=S(r,t);++n<e;)t(n);return o}function uc(e){return gl(e)?v(e,fi):js(e)?[e]:no(Mf(e))}function cc(e){var t=++Oc;return Ws(e)+t}function fc(e){return e&&e.length?Pn(e,Yu,Vn):J}function lc(e,t){return e&&e.length?Pn(e,Po(t),Vn):J}function hc(e){return F(e,Yu)}function dc(e,t){return F(e,Po(t))}function pc(e){return e&&e.length?Pn(e,Yu,ur):J}function vc(e,t){return e&&e.length?Pn(e,Po(t),ur):J}function yc(e){return e&&e.length?E(e,Yu):0}function gc(e,t){return e&&e.length?E(e,Po(t)):0}e=e?qn.defaults({},e,qn.pick(Un,An)):Un;var mc=e.Date,bc=e.Error,xc=e.Math,wc=e.RegExp,_c=e.TypeError,kc=e.Array.prototype,Fc=e.Object.prototype,Ac=e.String.prototype,Cc=e["__core-js_shared__"],Ec=function(){var e=/[^.]+$/.exec(Cc&&Cc.keys&&Cc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Sc=e.Function.prototype.toString,Tc=Fc.hasOwnProperty,Oc=0,Ic=Sc.call(Object),jc=Fc.toString,Lc=Un._,Mc=wc("^"+Sc.call(Tc).replace(gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dc=Rn?e.Buffer:J,Pc=e.Reflect,Rc=e.Symbol,Nc=e.Uint8Array,zc=Pc?Pc.enumerate:J,Bc=Object.getOwnPropertySymbols,Uc="symbol"==typeof(Uc=Rc&&Rc.iterator)?Uc:J,qc=Object.create,Hc=Fc.propertyIsEnumerable,Wc=kc.splice,$c=function(t,n){return e.setTimeout.call(Un,t,n)},Yc=xc.ceil,Xc=xc.floor,Vc=Object.getPrototypeOf,Zc=e.isFinite,Kc=kc.join,Gc=Object.keys,Jc=xc.max,Qc=xc.min,ef=e.parseInt,tf=xc.random,nf=Ac.replace,rf=kc.reverse,of=Ac.split,af=zo(e,"DataView"),sf=zo(e,"Map"),uf=zo(e,"Promise"),cf=zo(e,"Set"),ff=zo(e,"WeakMap"),lf=zo(Object,"create"),hf=ff&&new ff,df=!Hc.call({valueOf:1},"valueOf"),pf={},vf=li(af),yf=li(sf),gf=li(uf),mf=li(cf),bf=li(ff),xf=Rc?Rc.prototype:J,wf=xf?xf.valueOf:J,_f=xf?xf.toString:J;t.templateSettings={escape:lt,evaluate:ht,interpolate:dt,variable:"",imports:{_:t}},t.prototype=n.prototype,t.prototype.constructor=t,r.prototype=On(n.prototype),r.prototype.constructor=r,o.prototype=On(n.prototype),o.prototype.constructor=o,Rt.prototype.clear=Nt,Rt.prototype["delete"]=zt,Rt.prototype.get=Bt,Rt.prototype.has=Ut,Rt.prototype.set=qt,Ht.prototype.clear=Wt,Ht.prototype["delete"]=$t,Ht.prototype.get=Yt,Ht.prototype.has=Xt,Ht.prototype.set=Vt,Zt.prototype.clear=Kt,Zt.prototype["delete"]=Gt,Zt.prototype.get=Jt,Zt.prototype.has=Qt,Zt.prototype.set=en,tn.prototype.add=tn.prototype.push=nn,tn.prototype.has=rn,on.prototype.clear=an,on.prototype["delete"]=sn,on.prototype.get=un,on.prototype.has=cn,on.prototype.set=fn;var kf=so(Hn),Ff=so(Wn,!0),Af=uo(),Cf=uo(!0);zc&&!Hc.call({valueOf:1},"valueOf")&&(sr=function(e){return H(zc(e))});var Ef=hf?function(e,t){return hf.set(e,t),e}:Yu,Sf=cf&&1/Y(new cf([,-0]))[1]==ke?function(e){return new cf(e)}:Ju,Tf=hf?function(e){return hf.get(e)}:Ju,Of=mr("length");Bc||(Uo=nc);var If=Bc?function(e){for(var t=[];e;)y(t,Uo(e)),e=Bo(e);return t}:Uo;(af&&qo(new af(new ArrayBuffer(1)))!=Ve||sf&&qo(new sf)!=Re||uf&&qo(uf.resolve())!=Be||cf&&qo(new cf)!=qe||ff&&qo(new ff)!=$e)&&(qo=function(e){var t=jc.call(e),n=t==ze?e.constructor:J,r=n?li(n):J;if(r)switch(r){case vf:return Ve;case yf:return Re;case gf:return Be;case mf:return qe;case bf:return $e}return t});var jf=Cc?ps:rc,Lf=function(){var e=0,t=0;return function(n,r){var o=Ma(),i=be-(o-t);if(t=o,i>0){if(++e>=me)return n}else e=0;return Ef(n,r)}}(),Mf=qa(function(e){var t=[];return Ws(e).replace(yt,function(e,n,r,o){t.push(r?o.replace(kt,"$1"):n||e)}),t}),Df=$a(function(e,t){return is(e)?jn(e,Bn(t,1,is,!0)):[]}),Pf=$a(function(e,t){var n=Ii(t);return is(n)&&(n=J),is(e)?jn(e,Bn(t,1,is,!0),Po(n)):[]}),Rf=$a(function(e,t){var n=Ii(t);return is(n)&&(n=J),is(e)?jn(e,Bn(t,1,is,!0),J,n):[]}),Nf=$a(function(e){var t=v(e,Br);return t.length&&t[0]===e[0]?Jn(t):[]}),zf=$a(function(e){var t=Ii(e),n=v(e,Br);return t===Ii(n)?t=J:n.pop(),n.length&&n[0]===e[0]?Jn(n,Po(t)):[]}),Bf=$a(function(e){var t=Ii(e),n=v(e,Br);return t===Ii(n)?t=J:n.pop(),n.length&&n[0]===e[0]?Jn(n,J,t):[]}),Uf=$a(Mi),qf=$a(function(e,t){t=Bn(t,1);var n=e?e.length:0,r=gn(e,t);return wr(e,v(t,function(e){return Go(e,n)?+e:e}).sort(Jr)),r}),Hf=$a(function(e){return Lr(Bn(e,1,is,!0))}),Wf=$a(function(e){var t=Ii(e);return is(t)&&(t=J),Lr(Bn(e,1,is,!0),Po(t))}),$f=$a(function(e){var t=Ii(e);return is(t)&&(t=J),Lr(Bn(e,1,is,!0),J,t)}),Yf=$a(function(e,t){return is(e)?jn(e,t):[]}),Xf=$a(function(e){return Nr(h(e,is))}),Vf=$a(function(e){var t=Ii(e);return is(t)&&(t=J),Nr(h(e,is),Po(t))}),Zf=$a(function(e){var t=Ii(e);return is(t)&&(t=J),Nr(h(e,is),J,t)}),Kf=$a(na),Gf=$a(function(e){var t=e.length,n=t>1?e[t-1]:J;return n="function"==typeof n?(e.pop(),n):J,ra(e,n)}),Jf=$a(function(e){e=Bn(e,1);var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return gn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof o&&Go(n)?(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:ua,args:[a],thisArg:J}),new r(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(J),e})):this.thru(a)}),Qf=io(function(e,t,n){Tc.call(e,n)?++e[n]:e[n]=1}),el=vo(wi),tl=vo(_i),nl=io(function(e,t,n){Tc.call(e,n)?e[n].push(t):e[n]=[t]}),rl=$a(function(e,t,n){var r=-1,o="function"==typeof t,i=Qo(t),a=os(e)?Array(e.length):[];return kf(e,function(e){var u=o?t:i&&null!=e?e[t]:J;a[++r]=u?s(u,e,n):er(e,t,n)}),a}),ol=io(function(e,t,n){e[n]=t}),il=io(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),al=$a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Jo(e,t[0],t[1])?t=[]:n>2&&Jo(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&gl(t[0])?t[0]:Bn(t,1,Ko),vr(e,t,[])}),sl=$a(function(e,t,n){var r=oe;if(n.length){var o=$(n,Do(sl));r|=ce}return So(e,r,t,n,o)}),ul=$a(function(e,t,n){var r=oe|ie;if(n.length){var o=$(n,Do(ul));r|=ce}return So(t,r,e,n,o)}),cl=$a(function(e,t){return In(e,1,t)}),fl=$a(function(e,t,n){return In(e,Us(t)||0,n)});qa.Cache=Zt;var ll=$a(function(e,t){t=1==t.length&&gl(t[0])?v(t[0],O(Po())):v(Bn(t,1,Ko),O(Po()));var n=t.length;return $a(function(r){for(var o=-1,i=Qc(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return s(e,this,r)})}),hl=$a(function(e,t){var n=$(t,Do(hl));return So(e,ce,J,t,n)}),dl=$a(function(e,t){var n=$(t,Do(dl));return So(e,fe,J,t,n)}),pl=$a(function(e,t){return So(e,he,J,J,J,Bn(t,1))}),vl=Fo(Vn),yl=Fo(function(e,t){return e>=t}),gl=Array.isArray,ml=Dc?function(e){return e instanceof Dc}:rc,bl=Fo(ur),xl=Fo(function(e,t){return e<=t}),wl=ao(function(e,t){if(df||ri(t)||os(t))return void ro(t,ru(t),e);for(var n in t)Tc.call(t,n)&&dn(e,n,t[n])}),_l=ao(function(e,t){if(df||ri(t)||os(t))return void ro(t,ou(t),e);for(var n in t)dn(e,n,t[n])}),kl=ao(function(e,t,n,r){ro(t,ou(t),e,r)}),Fl=ao(function(e,t,n,r){ro(t,ru(t),e,r)}),Al=$a(function(e,t){return gn(e,Bn(t,1))}),Cl=$a(function(e){return e.push(J,ln),s(kl,J,e)}),El=$a(function(e){return e.push(J,si),s(jl,J,e)}),Sl=mo(function(e,t,n){e[t]=n},$u(Yu)),Tl=mo(function(e,t,n){Tc.call(e,t)?e[t].push(n):e[t]=[n]},Po),Ol=$a(er),Il=ao(function(e,t,n){hr(e,t,n)}),jl=ao(function(e,t,n,r){hr(e,t,n,r)}),Ll=$a(function(e,t){return null==e?{}:(t=v(Bn(t,1),fi),yr(e,jn(Lo(e),t)))}),Ml=$a(function(e,t){return null==e?{}:yr(e,v(Bn(t,1),fi))}),Dl=Eo(ru),Pl=Eo(ou),Rl=lo(function(e,t,n){return t=t.toLowerCase(),e+(n?wu(t):t)}),Nl=lo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),zl=lo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Bl=fo("toLowerCase"),Ul=lo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),ql=lo(function(e,t,n){return e+(n?" ":"")+Wl(t)}),Hl=lo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Wl=fo("toUpperCase"),$l=$a(function(e,t){try{return s(e,J,t)}catch(n){return hs(n)?n:new bc(n)}}),Yl=$a(function(e,t){return c(Bn(t,1),function(t){t=fi(t),e[t]=sl(e[t],e)}),e}),Xl=yo(),Vl=yo(!0),Zl=$a(function(e,t){return function(n){return er(n,e,t)}}),Kl=$a(function(e,t){return function(n){return er(e,n,t)}}),Gl=xo(v),Jl=xo(l),Ql=xo(b),eh=ko(),th=ko(!0),nh=bo(function(e,t){return e+t}),rh=Co("ceil"),oh=bo(function(e,t){return e/t}),ih=Co("floor"),ah=bo(function(e,t){return e*t}),sh=Co("round"),uh=bo(function(e,t){return e-t});return t.after=Da,t.ary=Pa,t.assign=wl,t.assignIn=_l,t.assignInWith=kl,t.assignWith=Fl,t.at=Al,t.before=Ra,t.bind=sl,t.bindAll=Yl,t.bindKey=ul,t.castArray=Ka,t.chain=aa,t.chunk=di,t.compact=pi,t.concat=vi,t.cond=Hu,t.conforms=Wu,t.constant=$u,t.countBy=Qf,t.create=$s,t.curry=Na,t.curryRight=za,t.debounce=Ba,t.defaults=Cl,t.defaultsDeep=El,t.defer=cl,t.delay=fl,t.difference=Df,t.differenceBy=Pf,t.differenceWith=Rf,t.drop=yi,t.dropRight=gi,t.dropRightWhile=mi,t.dropWhile=bi,t.fill=xi,t.filter=ga,t.flatMap=ma,t.flatMapDeep=ba,t.flatMapDepth=xa,t.flatten=ki,t.flattenDeep=Fi,t.flattenDepth=Ai,t.flip=Ua,t.flow=Xl,t.flowRight=Vl,t.fromPairs=Ci,t.functions=Js,t.functionsIn=Qs,t.groupBy=nl,t.initial=Ti,t.intersection=Nf,t.intersectionBy=zf,t.intersectionWith=Bf,t.invert=Sl,t.invertBy=Tl,t.invokeMap=rl,t.iteratee=Xu,t.keyBy=ol,t.keys=ru,t.keysIn=ou,t.map=Fa,t.mapKeys=iu,t.mapValues=au,t.matches=Vu,t.matchesProperty=Zu,t.memoize=qa,t.merge=Il,t.mergeWith=jl,t.method=Zl,t.methodOf=Kl,t.mixin=Ku,t.negate=Ha,t.nthArg=Qu,t.omit=Ll,t.omitBy=su,t.once=Wa,t.orderBy=Aa,t.over=Gl,t.overArgs=ll,t.overEvery=Jl,t.overSome=Ql,t.partial=hl,t.partialRight=dl,t.partition=il,t.pick=Ml,t.pickBy=uu,t.property=ec,t.propertyOf=tc,t.pull=Uf,t.pullAll=Mi,t.pullAllBy=Di,t.pullAllWith=Pi,t.pullAt=qf,t.range=eh,t.rangeRight=th,t.rearg=pl,t.reject=Sa,t.remove=Ri,t.rest=$a,t.reverse=Ni,t.sampleSize=Oa,t.set=fu,t.setWith=lu,t.shuffle=Ia,t.slice=zi,t.sortBy=al,t.sortedUniq=Yi,t.sortedUniqBy=Xi,t.split=ju,t.spread=Ya,t.tail=Vi,t.take=Zi,t.takeRight=Ki,t.takeRightWhile=Gi,t.takeWhile=Ji,t.tap=sa,t.throttle=Xa,t.thru=ua,t.toArray=Rs,t.toPairs=Dl,t.toPairsIn=Pl,t.toPath=uc,t.toPlainObject=qs,t.transform=hu,t.unary=Va,t.union=Hf,t.unionBy=Wf,t.unionWith=$f,t.uniq=Qi,t.uniqBy=ea,t.uniqWith=ta,t.unset=du,t.unzip=na,t.unzipWith=ra,t.update=pu,t.updateWith=vu,t.values=yu,t.valuesIn=gu,t.without=Yf,t.words=qu,t.wrap=Za,t.xor=Xf,t.xorBy=Vf,t.xorWith=Zf,t.zip=Kf,t.zipObject=oa,t.zipObjectDeep=ia,t.zipWith=Gf,t.entries=Dl,t.entriesIn=Pl,t.extend=_l,t.extendWith=kl,Ku(t,t),t.add=nh,t.attempt=$l,t.camelCase=Rl,t.capitalize=wu,t.ceil=rh,t.clamp=mu,t.clone=Ga,t.cloneDeep=Qa,t.cloneDeepWith=es,t.cloneWith=Ja,t.deburr=_u,t.divide=oh,t.endsWith=ku,t.eq=ts,t.escape=Fu,t.escapeRegExp=Au,t.every=ya,t.find=el,t.findIndex=wi,t.findKey=Ys,t.findLast=tl,t.findLastIndex=_i,t.findLastKey=Xs,t.floor=ih,t.forEach=wa,t.forEachRight=_a,t.forIn=Vs,t.forInRight=Zs,t.forOwn=Ks,t.forOwnRight=Gs,t.get=eu,t.gt=vl,t.gte=yl,t.has=tu,t.hasIn=nu,t.head=Ei,t.identity=Yu,t.includes=ka,t.indexOf=Si,t.inRange=bu,t.invoke=Ol,t.isArguments=ns,t.isArray=gl,t.isArrayBuffer=rs,t.isArrayLike=os,t.isArrayLikeObject=is,t.isBoolean=as,t.isBuffer=ml,t.isDate=ss,t.isElement=us,t.isEmpty=cs,t.isEqual=fs,t.isEqualWith=ls,t.isError=hs,t.isFinite=ds,t.isFunction=ps,t.isInteger=vs,t.isLength=ys,t.isMap=bs,t.isMatch=xs,t.isMatchWith=ws,t.isNaN=_s,t.isNative=ks,t.isNil=As,t.isNull=Fs,t.isNumber=Cs,t.isObject=gs,t.isObjectLike=ms,t.isPlainObject=Es,t.isRegExp=Ss,t.isSafeInteger=Ts,t.isSet=Os,t.isString=Is,t.isSymbol=js,t.isTypedArray=Ls,t.isUndefined=Ms,t.isWeakMap=Ds,t.isWeakSet=Ps,t.join=Oi,t.kebabCase=Nl,t.last=Ii,t.lastIndexOf=ji,t.lowerCase=zl,t.lowerFirst=Bl,t.lt=bl,t.lte=xl,t.max=fc,t.maxBy=lc,t.mean=hc,t.meanBy=dc,t.min=pc,t.minBy=vc,t.stubArray=nc,t.stubFalse=rc,t.stubObject=oc,t.stubString=ic,t.stubTrue=ac,t.multiply=ah,t.nth=Li,t.noConflict=Gu,t.noop=Ju,t.now=Ma,t.pad=Cu,t.padEnd=Eu,t.padStart=Su,t.parseInt=Tu,t.random=xu,t.reduce=Ca,t.reduceRight=Ea,t.repeat=Ou,t.replace=Iu,t.result=cu,t.round=sh,t.runInContext=G,t.sample=Ta,t.size=ja,t.snakeCase=Ul,t.some=La,t.sortedIndex=Bi,t.sortedIndexBy=Ui,t.sortedIndexOf=qi,t.sortedLastIndex=Hi,t.sortedLastIndexBy=Wi,t.sortedLastIndexOf=$i,t.startCase=ql,t.startsWith=Lu,t.subtract=uh,t.sum=yc,t.sumBy=gc,t.template=Mu,t.times=sc,t.toFinite=Ns,t.toInteger=zs,t.toLength=Bs,t.toLower=Du,t.toNumber=Us,t.toSafeInteger=Hs,t.toString=Ws,t.toUpper=Pu,t.trim=Ru,t.trimEnd=Nu,t.trimStart=zu,t.truncate=Bu,t.unescape=Uu,t.uniqueId=cc,t.upperCase=Hl,t.upperFirst=Wl,t.each=wa,t.eachRight=_a,t.first=Ei,Ku(t,function(){var e={};return Hn(t,function(n,r){Tc.call(t.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),t.VERSION=Q,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),c(["drop","take"],function(e,t){o.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new o(this);n=n===J?1:Jc(zs(n),0);var i=this.clone();return r?i.__takeCount__=Qc(n,i.__takeCount__):i.__views__.push({size:Qc(n,Ee),type:e+(i.__dir__<0?"Right":"")}),i},o.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==xe||n==_e;o.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Po(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");o.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");o.prototype[e]=function(){return this.__filtered__?new o(this):this[n](1)}}),o.prototype.compact=function(){return this.filter(Yu)},o.prototype.find=function(e){return this.filter(e).head()},o.prototype.findLast=function(e){return this.reverse().find(e)},o.prototype.invokeMap=$a(function(e,t){return"function"==typeof e?new o(this):this.map(function(n){return er(n,e,t)})}),o.prototype.reject=function(e){return e=Po(e,3),this.filter(function(t){return!e(t)})},o.prototype.slice=function(e,t){e=zs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new o(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==J&&(t=zs(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},o.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},o.prototype.toArray=function(){return this.take(Ee)},Hn(o.prototype,function(e,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n],u=a||/^find/.test(n);s&&(t.prototype[n]=function(){var n=this.__wrapped__,c=a?[1]:arguments,f=n instanceof o,l=c[0],h=f||gl(n),d=function(e){var n=s.apply(t,y([e],c));return a&&p?n[0]:n};h&&i&&"function"==typeof l&&1!=l.length&&(f=h=!1);var p=this.__chain__,v=!!this.__actions__.length,g=u&&!p,m=f&&!v;if(!u&&h){n=m?n:new o(this);var b=e.apply(n,c);return b.__actions__.push({func:ua,args:[d],thisArg:J}),new r(b,p)}return g&&m?e.apply(this,c):(b=this.thru(d),g?a?b.value()[0]:b.value():b)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var n=kc[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var t=this.value();return n.apply(gl(t)?t:[],e)}return this[r](function(t){return n.apply(gl(t)?t:[],e)})}}),Hn(o.prototype,function(e,n){var r=t[n];if(r){var o=r.name+"",i=pf[o]||(pf[o]=[]);i.push({name:n,func:r})}}),pf[go(J,ie).name]=[{name:"wrapper",func:J}],o.prototype.clone=D,o.prototype.reverse=Dt,o.prototype.value=Pt,t.prototype.at=Jf,t.prototype.chain=ca,t.prototype.commit=fa,t.prototype.next=la,t.prototype.plant=da,t.prototype.reverse=pa,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=va,Uc&&(t.prototype[Uc]=ha),t}var J,Q="4.13.1",ee=200,te="Expected a function",ne="__lodash_hash_undefined__",re="__lodash_placeholder__",oe=1,ie=2,ae=4,se=8,ue=16,ce=32,fe=64,le=128,he=256,de=512,pe=1,ve=2,ye=30,ge="...",me=150,be=16,xe=1,we=2,_e=3,ke=1/0,Fe=9007199254740991,Ae=1.7976931348623157e308,Ce=NaN,Ee=4294967295,Se=Ee-1,Te=Ee>>>1,Oe="[object Arguments]",Ie="[object Array]",je="[object Boolean]",Le="[object Date]",Me="[object Error]",De="[object Function]",Pe="[object GeneratorFunction]",Re="[object Map]",Ne="[object Number]",ze="[object Object]",Be="[object Promise]",Ue="[object RegExp]",qe="[object Set]",He="[object String]",We="[object Symbol]",$e="[object WeakMap]",Ye="[object WeakSet]",Xe="[object ArrayBuffer]",Ve="[object DataView]",Ze="[object Float32Array]",Ke="[object Float64Array]",Ge="[object Int8Array]",Je="[object Int16Array]",Qe="[object Int32Array]",et="[object Uint8Array]",tt="[object Uint8ClampedArray]",nt="[object Uint16Array]",rt="[object Uint32Array]",ot=/\b__p \+= '';/g,it=/\b(__p \+=) '' \+/g,at=/(__e\(.*?\)|\b__t\)) \+\n'';/g,st=/&(?:amp|lt|gt|quot|#39|#96);/g,ut=/[&<>"'`]/g,ct=RegExp(st.source),ft=RegExp(ut.source),lt=/<%-([\s\S]+?)%>/g,ht=/<%([\s\S]+?)%>/g,dt=/<%=([\s\S]+?)%>/g,pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,gt=/[\\^$.*+?()[\]{}|]/g,mt=RegExp(gt.source),bt=/^\s+|\s+$/g,xt=/^\s+/,wt=/\s+$/,_t=/[a-zA-Z0-9]+/g,kt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,Ct=/^0x/i,Et=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,Tt=/^\[object .+?Constructor\]$/,Ot=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,jt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Lt=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,Dt="\\ud800-\\udfff",Pt="\\u0300-\\u036f\\ufe20-\\ufe23",Rt="\\u20d0-\\u20f0",Nt="\\u2700-\\u27bf",zt="a-z\\xdf-\\xf6\\xf8-\\xff",Bt="\\xac\\xb1\\xd7\\xf7",Ut="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qt="\\u2000-\\u206f",Ht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wt="A-Z\\xc0-\\xd6\\xd8-\\xde",$t="\\ufe0e\\ufe0f",Yt=Bt+Ut+qt+Ht,Xt="['’]",Vt="["+Dt+"]",Zt="["+Yt+"]",Kt="["+Pt+Rt+"]",Gt="\\d+",Jt="["+Nt+"]",Qt="["+zt+"]",en="[^"+Dt+Yt+Gt+Nt+zt+Wt+"]",tn="\\ud83c[\\udffb-\\udfff]",nn="(?:"+Kt+"|"+tn+")",rn="[^"+Dt+"]",on="(?:\\ud83c[\\udde6-\\uddff]){2}",an="[\\ud800-\\udbff][\\udc00-\\udfff]",sn="["+Wt+"]",un="\\u200d",cn="(?:"+Qt+"|"+en+")",fn="(?:"+sn+"|"+en+")",ln="(?:"+Xt+"(?:d|ll|m|re|s|t|ve))?",hn="(?:"+Xt+"(?:D|LL|M|RE|S|T|VE))?",dn=nn+"?",pn="["+$t+"]?",vn="(?:"+un+"(?:"+[rn,on,an].join("|")+")"+pn+dn+")*",yn=pn+dn+vn,gn="(?:"+[Jt,on,an].join("|")+")"+yn,mn="(?:"+[rn+Kt+"?",Kt,on,an,Vt].join("|")+")",bn=RegExp(Xt,"g"),xn=RegExp(Kt,"g"),wn=RegExp(tn+"(?="+tn+")|"+mn+yn,"g"),_n=RegExp([sn+"?"+Qt+"+"+ln+"(?="+[Zt,sn,"$"].join("|")+")",fn+"+"+hn+"(?="+[Zt,sn+cn,"$"].join("|")+")",sn+"?"+cn+"+"+ln,sn+"+"+hn,Gt,gn].join("|"),"g"),kn=RegExp("["+un+Dt+Pt+Rt+$t+"]"),Fn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,An=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],Cn=-1,En={};En[Ze]=En[Ke]=En[Ge]=En[Je]=En[Qe]=En[et]=En[tt]=En[nt]=En[rt]=!0,En[Oe]=En[Ie]=En[Xe]=En[je]=En[Ve]=En[Le]=En[Me]=En[De]=En[Re]=En[Ne]=En[ze]=En[Ue]=En[qe]=En[He]=En[$e]=!1;var Sn={};Sn[Oe]=Sn[Ie]=Sn[Xe]=Sn[Ve]=Sn[je]=Sn[Le]=Sn[Ze]=Sn[Ke]=Sn[Ge]=Sn[Je]=Sn[Qe]=Sn[Re]=Sn[Ne]=Sn[ze]=Sn[Ue]=Sn[qe]=Sn[He]=Sn[We]=Sn[et]=Sn[tt]=Sn[nt]=Sn[rt]=!0,Sn[Me]=Sn[De]=Sn[$e]=!1;var Tn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},On={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},In={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"
},jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ln=parseFloat,Mn=parseInt,Dn="object"==typeof t&&t,Pn=Dn&&"object"==typeof e&&e,Rn=Pn&&Pn.exports===Dn,Nn=D("object"==typeof o&&o),zn=D("object"==typeof self&&self),Bn=D("object"==typeof this&&this),Un=Nn||zn||Bn||Function("return this")(),qn=G();(zn||{})._=qn,r=function(){return qn}.call(t,n,t,e),!(r!==J&&(e.exports=r))}).call(this)}).call(t,n(5)(e),function(){return this}())},function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){}var i=Object.prototype.hasOwnProperty,a="function"!=typeof Object.create&&"~";o.prototype._events=void 0,o.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)i.call(t,e)&&n.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(e,t){var n=a?a+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},o.prototype.emit=function(e,t,n,r,o,i){var s=a?a+e:e;if(!this._events||!this._events[s])return!1;var u,c,f=this._events[s],l=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,i),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var h,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];f[c].fn.apply(f[c].context,u)}}return!0},o.prototype.on=function(e,t,n){var o=new r(t,n||this),i=a?a+e:e;return this._events||(this._events=a?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.once=function(e,t,n){var o=new r(t,n||this,(!0)),i=a?a+e:e;return this._events||(this._events=a?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.removeListener=function(e,t,n,r){var o=a?a+e:e;if(!this._events||!this._events[o])return this;var i=this._events[o],s=[];if(t)if(i.fn)(i.fn!==t||r&&!i.once||n&&i.context!==n)&&s.push(i);else for(var u=0,c=i.length;u<c;u++)(i[u].fn!==t||r&&!i[u].once||n&&i[u].context!==n)&&s.push(i[u]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},o.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[a?a+e:e]:this._events=a?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,e.exports=o},function(e,t,n){var r;!function(o,i,a){function s(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function u(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return w[e.which]?w[e.which]:_[e.which]?_[e.which]:String.fromCharCode(e.which).toLowerCase()}function c(e,t){return e.sort().join(",")===t.sort().join(",")}function f(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function h(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(){if(!x){x={};for(var e in w)e>95&&e<112||w.hasOwnProperty(e)&&(x[w[e]]=e)}return x}function v(e,t,n){return n||(n=p()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function y(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function g(e,t){var n,r,o,i=[];for(n=y(e),o=0;o<n.length;++o)r=n[o],F[r]&&(r=F[r]),t&&"keypress"!=t&&k[r]&&(r=k[r],i.push("shift")),d(r)&&i.push(r);return t=v(r,i,t),{key:r,modifiers:i,action:t}}function m(e,t){return null!==e&&e!==i&&(e===t||m(e.parentNode,t))}function b(e){function t(e){e=e||{};var t,n=!1;for(t in x)e[t]?n=!0:x[t]=0;n||(k=!1)}function n(e,t,n,r,o,i){var a,s,u=[],f=n.type;if(!y._callbacks[e])return[];for("keyup"==f&&d(e)&&(t=[e]),a=0;a<y._callbacks[e].length;++a)if(s=y._callbacks[e][a],(r||!s.seq||x[s.seq]==s.level)&&f==s.action&&("keypress"==f&&!n.metaKey&&!n.ctrlKey||c(t,s.modifiers))){var l=!r&&s.combo==o,h=r&&s.seq==r&&s.level==i;(l||h)&&y._callbacks[e].splice(a,1),u.push(s)}return u}function r(e,t,n,r){y.stopCallback(t,t.target||t.srcElement,n,r)||e(t,n)===!1&&(l(t),h(t))}function o(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=u(e);if(t)return"keyup"==e.type&&w===t?void(w=!1):void y.handleKey(t,f(e),e)}function a(){clearTimeout(m),m=setTimeout(t,1e3)}function p(e,n,o,i){function s(t){return function(){k=t,++x[e],a()}}function c(n){r(o,n,e),"keyup"!==i&&(w=u(n)),setTimeout(t,10)}x[e]=0;for(var f=0;f<n.length;++f){var l=f+1===n.length,h=l?c:s(i||g(n[f+1]).action);v(n[f],h,i,e,f)}}function v(e,t,r,o,i){y._directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var a,s=e.split(" ");return s.length>1?void p(e,s,t,r):(a=g(e,r),y._callbacks[a.key]=y._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},o,e,i),void y._callbacks[a.key][o?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}var y=this;if(e=e||i,!(y instanceof b))return new b(e);y.target=e,y._callbacks={},y._directMap={};var m,x={},w=!1,_=!1,k=!1;y._handleKey=function(e,o,i){var a,s=n(e,o,i),u={},c=0,f=!1;for(a=0;a<s.length;++a)s[a].seq&&(c=Math.max(c,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=c)continue;f=!0,u[s[a].seq]=1,r(s[a].callback,i,s[a].combo,s[a].seq)}else f||r(s[a].callback,i,s[a].combo);var l="keypress"==i.type&&_;i.type!=k||d(e)||l||t(u),_=f&&"keydown"==i.type},y._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},s(e,"keypress",o),s(e,"keydown",o),s(e,"keyup",o)}if(o){for(var x,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},_={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},F={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A=1;A<20;++A)w[111+A]="f"+A;for(A=0;A<=9;++A)w[A+96]=A;b.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},b.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!m(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t]);x=null},b.init=function(){var e=b(i);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),o.Mousetrap=b,"undefined"!=typeof e&&e.exports&&(e.exports=b),r=function(){return b}.call(t,n,t,e),!(r!==a&&(e.exports=r))}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.topbarTools=void 0;var o=n(24),i=r(o),a=n(28),s=r(a),u=n(31),c=n(32),f=n(42),l=r(f),h=n(44),d=r(h);n(66);var p=n(33)(window.log.getLogger("tools.js"),{prefixes:["level"],staticPrefixes:["tools.js"],separator:"/"}),v=[{name:"upload",icon:"fa-folder",action:!0,key:"mod + o",load:function(){var e=this;$(window).on("dragenter dragover",function(t){t.preventDefault(),e.mercuryCanvas.element.addClass("over")}),$(window).on("dragexit",function(t){t.preventDefault(),e.mercuryCanvas.element.removeClass("over")}),this.mercuryCanvas.element.on("drop",function(t){t.preventDefault(),e.mercuryCanvas.element.removeClass("over"),e.mercuryCanvas.session.file.readFiles(t.originalEvent.dataTransfer.files)})},select:function(){this.mercuryCanvas.session.file.openUploadDialog()}},{name:"download",icon:"fa-floppy-o",action:!0,key:"mod + s",select:function(){this.mercuryCanvas.session.file.download()}},{name:"undo",action:!0,key:"mod + z",select:function(){this.mercuryCanvas.session.undo()}},{name:"redo",icon:"fa-repeat",action:!0,key:["mod + y","mod + shift + z"],select:function(){this.mercuryCanvas.session.redo()}},{name:"brush",icon:"fa-paint-brush",key:"b",load:function(){var e=this,t=this.mercuryCanvas,n=$("<div>",{"class":"brushCursor"}).hide();n.appendTo(t.layersContainer),this.cursor=n,this.zIndex=0,this.shown=!1,this.started=!1,this.matrix=new u.Matrix,t.on("state.update",function(){e.selected&&(e.mouseMove(t.session.mouse.lastEvent),e.draw())}),t.addShortcut("[",function(){t.session.mouse.down||(t.state.lineWidth--,t.state.lineWidth=Math.max(0,t.state.lineWidth),t.state.save(),t.emit("state.update"))}),t.addShortcut("]",function(){t.session.mouse.down||(t.state.lineWidth++,t.state.save(),t.emit("state.update"))})},select:function(e){var t=this.mercuryCanvas;e!==!0&&t.overlay.clear(),this.mouseMove(t.session.mouse.lastEvent)},deselect:function(){var e=this.mercuryCanvas;this.cursor.hide(),e.layersContainer.css({cursor:"default"}),this.shown=!1},draw:function(){if(this.started){var e=performance.now(),t=this.mercuryCanvas,n=t.session.mouse.points;if(n.length){if(t.overlay.clear(),t.overlay.context.beginPath(),t.overlay.context.moveTo(n[0].x,n[0].y),n.length<3){var r=n[0];return t.overlay.context.beginPath(),t.overlay.context.arc(r.x,r.y,t.overlay.context.lineWidth/2,0,2*Math.PI,!1),t.overlay.context.fill(),t.overlay.context.closePath(),void(t.overlay.state.dirty=!0)}for(var o=0;o<n.length-2;o++){var i=n[o],a=n[o+1],s=(i.x+a.x)/2,u=(i.y+a.y)/2;t.overlay.context.quadraticCurveTo(i.x,i.y,s,u)}t.overlay.context.quadraticCurveTo(n[o].x,n[o].y,n[o+1].x,n[o+1].y),t.overlay.context.stroke(),t.overlay.state.dirty=!0;var c=performance.now();p.debug("I spent "+(c-e)+"ms to draw the overlay")}}},mouseDown:function(e){var t=this.mercuryCanvas;t.session.mouse.points=[],t.overlay.context.lineWidth=t.state.lineWidth,t.overlay.context.strokeStyle=t.state.strokeColor,t.overlay.context.fillStyle=t.state.strokeColor,t.overlay.context.lineCap=t.overlay.context.lineJoin="round",this.started=!0,this.mouseMove(e),requestAnimationFrame(this.draw.bind(this,e))},mouseMove:function(e){if(e){var t=this.mercuryCanvas,n={};this.shown||(this.shown=!0,this.cursor.show(),t.layersContainer.css({cursor:"none"})),this.zIndex-1<t.session.zIndex&&(n.zIndex=t.session.zIndex+1,this.zIndex=t.session.zIndex+1),t.state.lineWidth!=this.size&&(n.width=t.state.lineWidth,n.height=t.state.lineWidth,this.size=t.state.lineWidth);var r=t.session.mouse,o=new c.coords(e).toCanvasSpace(t);if(this.matrix.translate(o.x-this.matrix.e,o.y-this.matrix.f),this.matrix.translate(-t.state.lineWidth/2,-t.state.lineWidth/2),n.transform=this.matrix.toCSS(),this.cursor.css(n),r.down&&this.started){if(t.session.keys.shift&&r.points.length){var a=r.points[0];i["default"].isNumber(r.delta.x)&&i["default"].isNumber(r.delta.y)||(r.delta={x:Math.abs(o.x-a.x),y:Math.abs(o.y-a.y)}),r.delta.x>r.delta.y?o.y=a.y:o.x=a.x}r.points.push(o),r.extremes={x:Math.min(r.extremes.x,o.x),y:Math.min(r.extremes.y,o.y),x2:Math.max(r.extremes.x2,o.x),y2:Math.max(r.extremes.y2,o.y)}}}},mouseUp:function(){this.started=!1;var e=this.mercuryCanvas,t=e.session.mouse;if(t.points.length){var n=new l["default"]({parent:e});t.extremes.x-=e.state.lineWidth/2+1,t.extremes.y-=e.state.lineWidth/2+1,t.extremes.x2+=e.state.lineWidth/2+1,t.extremes.y2+=e.state.lineWidth/2+1,e.overlay.copyTo(n,t.extremes),e.session.addOperation({tool:this,layer:i["default"].clone(n),mouse:i["default"].clone(t)}),e.overlay.clear(),t.reset()}},operationRemove:function(e){e.layer.element.remove()},undo:function(e){e.layer.remove(!0)},redo:function(e){e.layer.restore()}},{name:"eraser",icon:"fa-eraser",key:"e",load:function(){var e=this,t=this.mercuryCanvas;this.cursor=$(".brushCursor",t.layersContainer),this.zIndex=0,this.shown=!1,this.started=!1,this.matrix=new u.Matrix,t.on("state.update",function(){e.selected&&(e.mouseMove(t.session.mouse.lastEvent),e.draw())})},select:function(e){var t=this.mercuryCanvas;e!==!0&&t.overlay.clear()},deselect:function(){var e=this.mercuryCanvas;this.cursor.hide(),e.layersContainer.css({cursor:"default"}),this.shown=!1},draw:function(){if(this.started){var e=performance.now(),t=this.mercuryCanvas,n=t.session.mouse.points;if(n.length){if(t.overlay.clear(),t.overlay.context.beginPath(),t.overlay.context.moveTo(n[0].x,n[0].y),n.length<3){var r=n[0];return t.overlay.context.beginPath(),t.overlay.context.arc(r.x,r.y,t.overlay.context.lineWidth/2,0,2*Math.PI,!1),t.overlay.context.fill(),t.overlay.context.closePath(),void(t.overlay.state.dirty=!0)}for(var o=0;o<n.length-2;o++){var i=n[o],a=n[o+1],s=(i.x+a.x)/2,u=(i.y+a.y)/2;t.overlay.context.quadraticCurveTo(i.x,i.y,s,u)}t.overlay.context.quadraticCurveTo(n[o].x,n[o].y,n[o+1].x,n[o+1].y),t.overlay.context.stroke(),t.overlay.state.dirty=!0;var c=performance.now();p.debug("I spent "+(c-e)+"ms to draw the overlay")}}},mouseDown:function(e){var t=this.mercuryCanvas;t.session.mouse.points=[],t.overlay.context.lineWidth=t.state.lineWidth,t.overlay.context.strokeStyle=t.state.background,t.overlay.context.fillStyle=t.state.background,t.overlay.context.lineCap=t.overlay.context.lineJoin="round",this.started=!0,this.mouseMove(e),requestAnimationFrame(this.draw.bind(this,e))},mouseMove:function(e){if(e&&this.selected){var t=this.mercuryCanvas,n={};this.shown||(this.shown=!0,this.cursor.show(),t.layersContainer.css({cursor:"none"})),this.zIndex-1<t.session.zIndex&&(n.zIndex=t.session.zIndex+1,this.zIndex=t.session.zIndex+1),t.state.lineWidth!=this.size&&(n.width=t.state.lineWidth,n.height=t.state.lineWidth,this.size=t.state.lineWidth);var r=t.session.mouse,o=new c.coords(e).toCanvasSpace(t);if(this.matrix.translate(o.x-this.matrix.e,o.y-this.matrix.f),this.matrix.translate(-t.state.lineWidth/2,-t.state.lineWidth/2),n.transform=this.matrix.toCSS(),this.cursor.css(n),r.down&&this.started){if(t.session.keys.shift&&r.points.length){var a=r.points[0];i["default"].isNumber(r.delta.x)&&i["default"].isNumber(r.delta.y)||(r.delta={x:Math.abs(o.x-a.x),y:Math.abs(o.y-a.y)}),r.delta.x>r.delta.y?o.y=a.y:o.x=a.x}r.points.push(o),r.extremes={x:Math.min(r.extremes.x,o.x),y:Math.min(r.extremes.y,o.y),x2:Math.max(r.extremes.x2,o.x),y2:Math.max(r.extremes.y2,o.y)}}}},mouseUp:function(){var e=this;this.started=!1;var t=this.mercuryCanvas,n=t.session.mouse;if(n.points.length){n.extremes.x-=t.state.lineWidth/2+1,n.extremes.y-=t.state.lineWidth/2+1,n.extremes.x2+=t.state.lineWidth/2+1,n.extremes.y2+=t.state.lineWidth/2+1;var r=[],o=[],a=[];s["default"].each(t.layers.list,function(e,s){(n.extremes.x>e.coords.x||n.extremes.x2>e.coords.x||n.extremes.x2<e.coords.x+e.coords.width||n.extremes.y>e.coords.y||n.extremes.y2>e.coords.y||n.extremes.y2<e.coords.y+e.coords.height)&&(r.push({layer:e,original:i["default"].clone(e.original)}),a.push(e),e.context.save(),e.context.globalCompositeOperation="destination-out",e.context.drawImage(t.overlay.canvas,-1*e.coords.x,-1*e.coords.y),e.context.restore(),e.updateOriginal(function(){o.push({layer:e,original:i["default"].clone(e.original)}),s()}))},function(){t.session.addOperation({tool:e,layers:a,old:r,"new":o}),t.overlay.clear(),n.reset()})}},operationRemove:function(e){i["default"].each(e["new"],function(e){URL.revokeObjectURL(e.original.url)})},undo:function(e){i["default"].each(e.old,function(e){var t=e.layer;t.clear(),t.draw(e.original.image)})},redo:function(e){i["default"].each(e["new"],function(e){var t=e.layer;t.clear(),t.draw(e.original.image)})}},{name:"eyeDropper",icon:"fa-eyedropper",key:"i",load:function(){var e=this,t=this.mercuryCanvas;t.on("state.update",function(){e.selected&&e.draw(t.session.mouse.lastEvent)})},deselect:function(){this.mercuryCanvas.overlay.clear()},draw:function(e){if(e){var t=this.mercuryCanvas,n=new c.coords(e).toCanvasSpace(t),r=t.state.eyedropper.gridSize;r=r%2==0?r+1:r;var o=r*t.state.eyedropper.gridSpace,a=Math.ceil(o/2),s=Math.floor(r/2);n.width=n.height=r,t.overlay.clear();var u=t.overlay.context;u.save(),u.imageSmoothingEnabled=u.mozImageSmoothingEnabled=u.webkitImageSmoothingEnabled=!1,u.beginPath(),u.arc(n.x+a,n.y+a,a,0,2*Math.PI),u.clip(),n.width+=r,n.height+=r;var f=[];i["default"].each(t.layers.list,function(e){e.state.visible&&!e.state.removed&&n.inside(e.coords,!0)&&(f[e.coords.z]=e)}),u.drawImage(t.base.element[0],0,0,r,r,n.x,n.y,o,o),i["default"].each(f,function(e){e&&u.drawImage(e.element[0],n.x-e.coords.x-s,n.y-e.coords.y-s,r,r,n.x,n.y,o,o)}),u.lineWidth=1,u.strokeStyle="rgba(224, 224, 224, 0.8)",u.beginPath();var l=0;for(l=1;l<r;l++)u.moveTo(n.x+l*t.state.eyedropper.gridSpace,n.y),u.lineTo(n.x+l*t.state.eyedropper.gridSpace,n.y+o);for(l=1;l<r;l++)u.moveTo(n.x,n.y+l*t.state.eyedropper.gridSpace),u.lineTo(n.x+o,n.y+l*t.state.eyedropper.gridSpace);u.closePath(),u.stroke(),u.strokeStyle="#000",u.beginPath(),u.arc(n.x+o/2,n.y+o/2,o/2,0,2*Math.PI),u.closePath(),u.stroke(),u.strokeStyle="#000",u.strokeRect(n.x+o/2-t.state.eyedropper.gridSpace/2,n.y+o/2-t.state.eyedropper.gridSpace/2,t.state.eyedropper.gridSpace,t.state.eyedropper.gridSpace),u.strokeStyle="#FFF",u.strokeRect(n.x+o/2-t.state.eyedropper.gridSpace/2+1,n.y+o/2-t.state.eyedropper.gridSpace/2+1,t.state.eyedropper.gridSpace-2,t.state.eyedropper.gridSpace-2),u.restore(),t.overlay.state.dirty=!0}},mouseDown:function(){var e=this.mercuryCanvas,t=new c.coords(e.session.mouse.lastEvent).toCanvasSpace(e),n=e.overlay.context,r=e.state.eyedropper.gridSize;r=r%2==0?r+1:r;var o=Math.floor(e.state.eyedropper.gridSpace*r/2),a=n.getImageData(t.x+o,t.y+o,1,1).data;e.state.strokeColor="rgb("+a[0]+", "+a[1]+", "+a[2]+")";var s;i["default"].each(this.parent.tools,function(t){"brush"==t.name&&(s=t),"colorPicker"==t.name&&t.colorPicker.setColor(e.state.strokeColor)}),s.onClick()}},{name:"move",icon:"fa-arrows",selected:!0,key:"v",load:function(){this.oldCoords=[];var e=this.mercuryCanvas,t=e.session.selectedLayers;e.on("undo.layer.move",function(e){i["default"].each(e.layers,function(t,n){t.coords.update(e.old[n])}),t.makeBox()}),e.on("redo.layer.move",function(e){i["default"].each(e.layers,function(t,n){t.coords.update(e["new"][n])}),t.makeBox()})},mouseDown:function(e){var t=this,n=this.mercuryCanvas,r=n.session.selectedLayers,o=new c.coords(e).toCanvasSpace(n);if(n.state.moveTool.autoSelect){n.session.selectedLayers.deselectAll();var a=o.toLayer(n);if(!a)return;a.select()}r.list.length&&(i["default"].each(r.list,function(e,n){t.oldCoords[n]=i["default"].clone(e.coords)}),n.session.mouse.initial={dist:[],mouse:i["default"].clone(o),selectedLayers:r.list.map(function(e){return i["default"].clone(e.coords)})})},mouseMove:function(e){var t=this.mercuryCanvas;if(t.session.mouse.down&&t.session.mouse.initial){var n=t.session.mouse,r=new c.coords(e).toCanvasSpace(t);n.last=e,this.actioned=!0;var o=t.session.selectedLayers,a=n.initial.dist,s=[],u=[];i["default"].each(o.list,function(e,o){i["default"].isObject(n.initial.dist[o])||(a[o]={x:n.initial.mouse.x-n.initial.selectedLayers[o].x,y:n.initial.mouse.y-n.initial.selectedLayers[o].y}),s[o]=i["default"].clone(e.coords);var c={x:r.x-a[o].x,y:r.y-a[o].y};if(t.session.keys.shift){var f=n.initial.selectedLayers[o],l={x:Math.abs(r.x-n.initial.mouse.x),y:Math.abs(r.y-n.initial.mouse.y)};l.x>t.state.snap.distance||l.y>t.state.snap.distance||!t.state.snap.toStartPosition?l.x>l.y?c.y=f.y:c.x=f.x:t.state.snap.toStartPosition&&(c.x=f.x,c.y=f.y)}u[o]=i["default"].clone(c),e.coords.update(c)}),o.makeBox()}},mouseUp:function(){var e=this.mercuryCanvas,t=e.session.selectedLayers;if(this.actioned){this.actioned=!1;var n=[];i["default"].each(t.list,function(e,t){n[t]=i["default"].clone(e.coords)}),e.session.addOperation({type:"layer.move",layers:i["default"].clone(t.list),old:this.oldCoords,"new":n})}this.oldCoords=[],e.session.mouse.reset()}},{name:"clear",icon:"fa-file",action:!0,end:!0,key:"mod + n",select:function(){var e=this.mercuryCanvas;e.overlay.clear(),i["default"].forIn(i["default"].clone(e.layers.list),function(e){e.remove()}),e.session.operationIndex=0,e.session.clearOrphanOperations(),e.session.updateMenus()}},{name:"colorPicker",icon:"fa-tint",action:!0,end:!0,load:function(){var e=this;this.visible=!1,this.colorPickerWrapper=$("<div>",{"class":"menuCollider",css:{position:"absolute",zIndex:1010,display:"none"}}).appendTo(this.mercuryCanvas.element),this.colorPicker=new d["default"]({color:this.mercuryCanvas.state.strokeColor,background:"#454545",el:this.colorPickerWrapper[0]}),this.colorPicker.onChange(function(t){e.element.css("color",t),e.mercuryCanvas.state.strokeColor=t}),this.colorPickerWrapper.on("mouseup touchend",function(){e.mercuryCanvas.state.save()})},menuUnfix:function(){this.menuMove()},menuMove:function(){var e=0,t=0;this.parent.fixed||(this.parent.orientation.vertical?(e=0,t=40):this.parent.orientation.horizontal&&(e=40,t=0)),"top"==this.parent.fixed?(e=40,t=0):"left"==this.parent.fixed?(e=0,t=40):"right"==this.parent.fixed?(e=0,t=-10-this.colorPickerWrapper.outerWidth()):"bottom"==this.parent.fixed&&(e=-10-this.colorPickerWrapper.outerHeight(),t=0),this.colorPickerWrapper.css({top:this.element.offset().top+e,left:this.element.offset().left+t});var n=this.colorPickerWrapper.visible();n.top=0!=n.top?n.top-5:0,n.bottom=0!=n.bottom?n.bottom+5:0,n.left=0!=n.left?n.left-5:0,n.right=0!=n.right?n.right+5:0,this.colorPickerWrapper.css("top","+="+(n.top-n.bottom)),this.colorPickerWrapper.css("left","+="+(n.left-n.right))},select:function(e){e.target.className.indexOf("colorPicker")==-1&&e.target.className.indexOf("fa")==-1||(this.visible=!this.visible,this.visible?(this.colorPickerWrapper.show(),this.menuMove()):this.colorPickerWrapper.hide())}},{name:"fullscreen",icon:"fa-expand",end:!0,action:!0,load:function(){var e=this;$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange msfullscreenchange",function(){var t=window.fullScreen||document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement;t?e.element.children("i").removeClass("fa-expand").addClass("fa-compress"):e.element.children("i").removeClass("fa-compress").addClass("fa-expand")})},select:function(){var e=window.fullScreen||document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement;if(e)document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}}}];t.topbarTools=v},function(e,t,n){(function(e,n,r){!function(e,n){n(t)}(this,function(t){"use strict";function o(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){var t=i(e)?dt.call(e):"";return t==ft||t==lt}function s(e){return!!e&&"object"==typeof e}function u(e){return"symbol"==typeof e||s(e)&&yt.call(e)==pt}function c(e){if("number"==typeof e)return e;if(u(e))return gt;if(i(e)){var t=a(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(mt,"");var n=xt.test(e);return n||wt.test(e)?_t(e.slice(2),n?2:8):bt.test(e)?gt:+e}function f(e){if(!e)return 0===e?e:0;if(e=c(e),e===kt||e===-kt){var t=e<0?-1:1;return t*Ft}return e===e?e:0}function l(e){var t=f(e),n=t%1;return t===t?n?t-n:t:0}function h(e,t){if("function"!=typeof e)throw new TypeError(At);return t=Ct(void 0===t?e.length-1:l(t),0),function(){for(var n=arguments,r=-1,i=Ct(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,o(e,this,s)}}function d(e){return h(function(t){var n=t.pop();e.call(this,t,n)})}function p(e){return h(function(t,n){var r=d(function(n,r){var o=this;return e(t,function(e,t){e.apply(o,n.concat([t]))},r)});return n.length?r.apply(this,n):r})}function v(e){return function(t){return null==t?void 0:t[e]}}function y(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=St}function g(e){return null!=e&&y(Et(e))&&!a(e)}function m(){}function b(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function x(e){return Tt&&e[Tt]&&e[Tt]()}function w(e){return Ot(Object(e))}function _(e,t){return null!=e&&(jt.call(e,t)||"object"==typeof e&&t in e&&null===w(e))}function k(e){return Lt(Object(e))}function F(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function A(e){return s(e)&&g(e)}function C(e){return A(e)&&Pt.call(e,"callee")&&(!Nt.call(e,"callee")||Rt.call(e)==Mt)}function E(e){return"string"==typeof e||!zt(e)&&s(e)&&qt.call(e)==Bt}function S(e){var t=e?e.length:void 0;return y(t)&&(zt(e)||E(e)||C(e))?F(t,String):null}function T(e,t){return t=null==t?Ht:t,!!t&&("number"==typeof e||Wt.test(e))&&e>-1&&e%1==0&&e<t}function O(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||$t;return e===n}function I(e){var t=O(e);if(!t&&!g(e))return k(e);var n=S(e),r=!!n,o=n||[],i=o.length;for(var a in e)!_(e,a)||r&&("length"==a||T(a,i))||t&&"constructor"==a||o.push(a);return o}function j(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function L(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function M(e){var t=I(e),n=-1,r=t.length;return function(){var o=t[++n];return n<r?{value:e[o],key:o}:null}}function D(e){if(g(e))return j(e);var t=x(e);return t?L(t):M(e)}function P(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function R(e){return function(t,n,r){function o(e){if(u-=1,e)s=!0,r(e);else{if(s&&u<=0)return r(null);i()}}function i(){for(;u<e&&!s;){var t=a();if(null===t)return s=!0,void(u<=0&&r(null));u+=1,n(t.value,t.key,P(o))}}if(r=b(r||m),e<=0||!t)return r(null);var a=D(t),s=!1,u=0;i()}}function N(e,t,n,r){R(t)(e,n,r)}function z(e,t){return function(n,r,o){return e(n,t,r,o)}}function B(e,t){var n;if("function"!=typeof t)throw new TypeError(Yt);return e=l(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}function U(e){return B(2,e)}function q(e,t,n){function r(e){e?n(e):++i===a&&n(null)}n=U(n||m);var o=0,i=0,a=e.length;for(0===a&&n(null);o<a;o++)t(e[o],o,P(r))}function H(e,t,n){var r=g(e)?q:Xt;r(e,t,n)}function W(e){return function(t,n,r){return e(H,t,n,r)}}function $(e,t,n,r){r=b(r||m),t=t||[];var o=[],i=0;e(t,function(e,t,r){var a=i++;n(e,function(e,t){o[a]=t,r(e)})},function(e){r(e,o)})}function Y(e){return function(t,n,r,o){return e(R(n),t,r,o)}}function X(e){return d(function(t,n){var r;try{r=e.apply(this,t)}catch(o){return n(o)}i(r)&&"function"==typeof r.then?r.then(function(e){n(null,e)},function(e){n(e.message?e:new Error(e))}):n(null,r)})}function V(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function Z(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(n(i[u],u,i)===!1)break}return t}}function K(e,t){return e&&en(e,t,I)}function G(e,t,n){for(var r=e.length,o=t+(n?1:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}function J(e,t,n){if(t!==t)return G(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function Q(e,t,n){function r(e,t){g.push(function(){s(e,t)})}function o(){if(0===g.length&&0===p)return n(null,d);for(;g.length&&p<t;){var e=g.shift();e()}}function i(e,t){var n=y[e];n||(n=y[e]=[]),n.push(t)}function a(e){var t=y[e]||[];V(t,function(e){e()}),o()}function s(e,t){if(!v){var r=P(h(function(t,r){if(p--,r.length<=1&&(r=r[0]),t){var o={};K(d,function(e,t){o[t]=e}),o[e]=r,v=!0,y=[],n(t,o)}else d[e]=r,a(e)}));p++;var o=t[t.length-1];t.length>1?o(d,r):o(r)}}function u(){for(var e,t=0;x.length;)e=x.pop(),t++,V(c(e),function(e){0===--w[e]&&x.push(e)});if(t!==l)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function c(t){var n=[];return K(e,function(e,r){zt(e)&&J(e,t,0)>=0&&n.push(r)}),n}"function"==typeof t&&(n=t,t=null),n=b(n||m);var f=I(e),l=f.length;if(!l)return n(null);t||(t=l);var d={},p=0,v=!1,y={},g=[],x=[],w={};K(e,function(t,n){if(!zt(t))return r(n,[t]),void x.push(n);var o=t.slice(0,t.length-1),a=o.length;return 0===a?(r(n,t),void x.push(n)):(w[n]=a,void V(o,function(s){if(!e[s])throw new Error("async.auto task `"+n+"` has a non-existent dependency in "+o.join(", "));i(s,function(){a--,0===a&&r(n,t)})}))}),u(),o()}function ee(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function te(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ne(e){return e&&e.Object===Object?e:null}function re(e){if("string"==typeof e)return e;if(u(e))return cn?cn.call(e):"";var t=e+"";return"0"==t&&1/e==-sn?"-0":t}function oe(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function ie(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:oe(e,t,n)}function ae(e,t){for(var n=e.length;n--&&J(t,e[n],0)>-1;);return n}function se(e,t){for(var n=-1,r=e.length;++n<r&&J(t,e[n],0)>-1;);return n}function ue(e){return e.match(En)}function ce(e){return null==e?"":re(e)}function fe(e,t,n){if(e=ce(e),e&&(n||void 0===t))return e.replace(Sn,"");if(!e||!(t=re(t)))return e;var r=ue(e),o=ue(t),i=se(r,o),a=ae(r,o)+1;return ie(r,i,a).join("")}function le(e){return e=e.toString().replace(jn,""),e=e.match(Tn)[2].replace(" ",""),e=e?e.split(On):[],e=e.map(function(e){return fe(e.replace(In,""))})}function he(e,t){var n={};K(e,function(e,t){function r(t,n){var r=ee(o,function(e){return t[e]});r.push(n),e.apply(null,r)}var o;if(zt(e))o=te(e),e=o.pop(),n[t]=o.concat(o.length>0?r:e);else if(1===e.length)n[t]=e;else{if(o=le(e),0===e.length&&0===o.length)throw new Error("autoInject task functions require explicit parameters.");o.pop(),n[t]=o.concat(r)}}),Q(n,t)}function de(e){setTimeout(e,0)}function pe(e){return h(function(t,n){e(function(){t.apply(null,n)})})}function ve(){this.head=this.tail=null,this.length=0}function ye(e,t){e.length=1,e.head=e.tail=t}function ge(e,t,n){function r(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");return s.started=!0,zt(e)||(e=[e]),0===e.length&&s.idle()?Dn(function(){s.drain()}):(V(e,function(e){var r={data:e,callback:n||m};t?s._tasks.unshift(r):s._tasks.push(r);
}),void Dn(s.process))}function o(e){return h(function(t){i-=1,V(e,function(e){V(a,function(t,n){if(t===e)return a.splice(n,1),!1}),e.callback.apply(e,t),null!=t[0]&&s.error(t[0],e.data)}),i<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()})}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var i=0,a=[],s={_tasks:new ve,concurrency:t,payload:n,saturated:m,unsaturated:m,buffer:t/4,empty:m,drain:m,error:m,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){s.drain=m,s._tasks.empty()},unshift:function(e,t){r(e,!0,t)},process:function(){for(;!s.paused&&i<s.concurrency&&s._tasks.length;){var t=[],n=[],r=s._tasks.length;s.payload&&(r=Math.min(r,s.payload));for(var u=0;u<r;u++){var c=s._tasks.shift();t.push(c),n.push(c.data)}0===s._tasks.length&&s.empty(),i+=1,a.push(t[0]),i===s.concurrency&&s.saturated();var f=P(o(t));e(n,f)}},length:function(){return s._tasks.length},running:function(){return i},workersList:function(){return a},idle:function(){return s._tasks.length+i===0},pause:function(){s.paused=!0},resume:function(){if(s.paused!==!1){s.paused=!1;for(var e=Math.min(s.concurrency,s._tasks.length),t=1;t<=e;t++)Dn(s.process)}}};return s}function me(e,t){return ge(e,1,t)}function be(e,t,n,r){r=b(r||m),Rn(e,function(e,r,o){n(t,e,function(e,n){t=n,o(e)})},function(e){r(e,t)})}function xe(e,t,n,r){var o=[];e(t,function(e,t,r){n(e,function(e,t){o=o.concat(t||[]),r(e)})},function(e){r(e,o)})}function we(e){return function(t,n,r){return e(Rn,t,n,r)}}function _e(e){return e}function ke(e,t,n){return function(r,o,i,a){function s(e){a&&(e?a(e):a(null,n(!1)))}function u(e,r,o){return a?void i(e,function(r,s){a&&(r?(a(r),a=i=!1):t(s)&&(a(null,n(!0,e)),a=i=!1)),o()}):o()}arguments.length>3?(a=a||m,e(r,o,u,s)):(a=i,a=a||m,i=o,e(r,u,s))}}function Fe(e,t){return t}function Ae(e){return h(function(t,n){t.apply(null,n.concat([h(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&V(n,function(t){console[e](t)}))})]))})}function Ce(e,t,n){function r(t,r){return t?n(t):r?void e(o):n(null)}n=P(n||m);var o=h(function(e,o){return e?n(e):(o.push(r),void t.apply(this,o))});r(null,!0)}function Ee(e,t,n){n=P(n||m);var r=h(function(o,i){return o?n(o):t.apply(this,i)?e(r):void n.apply(null,[null].concat(i))});e(r)}function Se(e,t,n){Ee(e,function(){return!t.apply(this,arguments)},n)}function Te(e,t,n){function r(t){return t?n(t):void e(o)}function o(e,o){return e?n(e):o?void t(r):n(null)}n=P(n||m),e(o)}function Oe(e){return function(t,n,r){return e(t,r)}}function Ie(e,t,n){H(e,Oe(t),n)}function je(e,t,n,r){R(t)(e,Oe(n),r)}function Le(e){return d(function(t,n){var r=!0;t.push(function(){var e=arguments;r?Dn(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function Me(e){return!e}function De(e,t,n,r){r=b(r||m);var o=[];e(t,function(e,t,r){n(e,function(n,i){n?r(n):(i&&o.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,ee(o.sort(function(e,t){return e.index-t.index}),v("value")))})}function Pe(e,t){function n(e){return e?r(e):void o(n)}var r=P(t||m),o=Le(e);n()}function Re(e,t,n,r){r=b(r||m);var o={};N(e,t,function(e,t,r){n(e,t,function(e,n){return e?r(e):(o[t]=n,void r())})},function(e){r(e,o)})}function Ne(e,t){return t in e}function ze(e,t){var n=Object.create(null),r=Object.create(null);t=t||_e;var o=d(function(o,i){var a=t.apply(null,o);Ne(n,a)?Dn(function(){i.apply(null,n[a])}):Ne(r,a)?r[a].push(i):(r[a]=[i],e.apply(null,o.concat([h(function(e){n[a]=e;var t=r[a];delete r[a];for(var o=0,i=t.length;o<i;o++)t[o].apply(null,e)})])))});return o.memo=n,o.unmemoized=e,o}function Be(e,t,n){n=n||m;var r=g(t)?[]:{};e(t,function(e,t,n){e(h(function(e,o){o.length<=1&&(o=o[0]),r[t]=o,n(e)}))},function(e){n(e,r)})}function Ue(e,t){Be(H,e,t)}function qe(e,t,n){Be(R(t),e,n)}function He(e,t){return ge(function(t,n){e(t[0],n)},t,1)}function We(e,t){var n=He(e,t);return n.push=function(e,t,r){if(null==r&&(r=m),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,zt(e)||(e=[e]),0===e.length)return Dn(function(){n.drain()});t=t||0;for(var o=n._tasks.head;o&&t>=o.priority;)o=o.next;V(e,function(e){var i={data:e,priority:t,callback:r};o?n._tasks.insertBefore(o,i):n._tasks.push(i)}),Dn(n.process)},delete n.unshift,n}function $e(e,t){return t=b(t||m),zt(e)?e.length?void V(e,function(e){e(t)}):t():t(new TypeError("First argument to race must be an array of functions"))}function Ye(e,t,n,r){var o=or.call(e).reverse();be(o,t,n,r)}function Xe(e){return d(function(t,n){return t.push(h(function(e,t){if(e)n(null,{error:e});else{var r=null;1===t.length?r=t[0]:t.length>1&&(r=t),n(null,{value:r})}})),e.apply(this,t)})}function Ve(e,t,n,r){De(e,t,function(e,t){n(e,function(e,n){e?t(e):t(null,!n)})},r)}function Ze(e){var t;return zt(e)?t=ee(e,Xe):(t={},K(e,function(e,n){t[n]=Xe.call(this,e)})),t}function Ke(e){return function(){return e}}function Ge(e,t,n){function r(e,t){if("object"==typeof t)e.times=+t.times||i,e.intervalFunc="function"==typeof t.interval?t.interval:Ke(+t.interval||a);else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||i}}function o(){t(function(e){e&&u++<s.times?setTimeout(o,s.intervalFunc(u)):n.apply(null,arguments)})}var i=5,a=0,s={times:i,intervalFunc:Ke(a)};if(arguments.length<3&&"function"==typeof e?(n=t||m,t=e):(r(s,e),n=n||m),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var u=1;o()}function Je(e,t){return t||(t=e,e=null),d(function(n,r){function o(e){t.apply(null,n.concat([e]))}e?Ge(e,o,r):Ge(o,r)})}function Qe(e,t){Be(Rn,e,t)}function et(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Vt(e,function(e,n){t(e,function(t,r){return t?n(t):void n(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,ee(t.sort(r),v("value")))})}function tt(e,t,n){function r(){s||(i.apply(null,arguments),clearTimeout(a))}function o(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,i(r)}var i,a,s=!1;return d(function(n,s){i=s,a=setTimeout(o,t),e.apply(null,n.concat(r))})}function nt(e,t,n,r){for(var o=-1,i=hr(lr((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}function rt(e,t,n,r){Kt(nt(0,e,1),t,n,r)}function ot(e,t,n,r){3===arguments.length&&(r=n,n=t,t=zt(e)?[]:{}),r=b(r||m),H(e,function(e,r,o){n(t,e,r,o)},function(e){r(e,t)})}function it(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function at(e,t,n){if(n=P(n||m),!e())return n(null);var r=h(function(o,i){return o?n(o):e()?t(r):void n.apply(null,[null].concat(i))});t(r)}function st(e,t,n){at(function(){return!e.apply(this,arguments)},t,n)}function ut(e,t){function n(o){if(r===e.length)return t.apply(null,[null].concat(o));var i=P(h(function(e,r){return e?t.apply(null,[e].concat(r)):void n(r)}));o.push(i);var a=e[r++];a.apply(null,o)}if(t=b(t||m),!zt(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;n([])}var ct,ft="[object Function]",lt="[object GeneratorFunction]",ht=Object.prototype,dt=ht.toString,pt="[object Symbol]",vt=Object.prototype,yt=vt.toString,gt=NaN,mt=/^\s+|\s+$/g,bt=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,wt=/^0o[0-7]+$/i,_t=parseInt,kt=1/0,Ft=1.7976931348623157e308,At="Expected a function",Ct=Math.max,Et=v("length"),St=9007199254740991,Tt="function"==typeof Symbol&&Symbol.iterator,Ot=Object.getPrototypeOf,It=Object.prototype,jt=It.hasOwnProperty,Lt=Object.keys,Mt="[object Arguments]",Dt=Object.prototype,Pt=Dt.hasOwnProperty,Rt=Dt.toString,Nt=Dt.propertyIsEnumerable,zt=Array.isArray,Bt="[object String]",Ut=Object.prototype,qt=Ut.toString,Ht=9007199254740991,Wt=/^(?:0|[1-9]\d*)$/,$t=Object.prototype,Yt="Expected a function",Xt=z(N,1/0),Vt=W($),Zt=p(Vt),Kt=Y($),Gt=z(Kt,1),Jt=p(Gt),Qt=h(function(e,t){return h(function(n){return e.apply(null,t.concat(n))})}),en=Z(),tn=ne("object"==typeof e&&e),nn=ne("object"==typeof self&&self),rn=ne("object"==typeof this&&this),on=tn||nn||rn||Function("return this")(),an=on.Symbol,sn=1/0,un=an?an.prototype:void 0,cn=un?un.toString:void 0,fn="\\ud800-\\udfff",ln="\\u0300-\\u036f\\ufe20-\\ufe23",hn="\\u20d0-\\u20f0",dn="\\ufe0e\\ufe0f",pn="["+fn+"]",vn="["+ln+hn+"]",yn="\\ud83c[\\udffb-\\udfff]",gn="(?:"+vn+"|"+yn+")",mn="[^"+fn+"]",bn="(?:\\ud83c[\\udde6-\\uddff]){2}",xn="[\\ud800-\\udbff][\\udc00-\\udfff]",wn="\\u200d",_n=gn+"?",kn="["+dn+"]?",Fn="(?:"+wn+"(?:"+[mn,bn,xn].join("|")+")"+kn+_n+")*",An=kn+_n+Fn,Cn="(?:"+[mn+vn+"?",vn,bn,xn,pn].join("|")+")",En=RegExp(yn+"(?="+yn+")|"+Cn+An,"g"),Sn=/^\s+|\s+$/g,Tn=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,On=/,/,In=/(=.+)?(\s*)$/,jn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ln="function"==typeof n&&n,Mn="object"==typeof r&&"function"==typeof r.nextTick;ct=Ln?n:Mn?r.nextTick:de;var Dn=pe(ct);ve.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},ve.prototype.empty=ve,ve.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},ve.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},ve.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):ye(this,e)},ve.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):ye(this,e)},ve.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ve.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};var Pn,Rn=z(N,1),Nn=h(function(e){return h(function(t){var n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=m,be(e,t,function(e,t,r){t.apply(n,e.concat([h(function(e,t){r(e,t)})]))},function(e,t){r.apply(n,[e].concat(t))})})}),zn=h(function(e){return Nn.apply(null,e.reverse())}),Bn=W(xe),Un=we(xe),qn=h(function(e){var t=[null].concat(e);return d(function(e,n){return n.apply(this,t)})}),Hn=ke(H,_e,Fe),Wn=ke(N,_e,Fe),$n=ke(Rn,_e,Fe),Yn=Ae("dir"),Xn=z(je,1),Vn=ke(H,Me,Me),Zn=ke(N,Me,Me),Kn=z(Zn,1),Gn=W(De),Jn=Y(De),Qn=z(Jn,1),er=Ae("log"),tr=z(Re,1/0),nr=z(Re,1);Pn=Mn?r.nextTick:Ln?n:de;var rr=pe(Pn),or=Array.prototype.slice,ir=W(Ve),ar=Y(Ve),sr=z(ar,1),ur=ke(H,Boolean,_e),cr=ke(N,Boolean,_e),fr=z(cr,1),lr=Math.ceil,hr=Math.max,dr=z(rt,1/0),pr=z(rt,1),vr={applyEach:Zt,applyEachSeries:Jt,apply:Qt,asyncify:X,auto:Q,autoInject:he,cargo:me,compose:zn,concat:Bn,concatSeries:Un,constant:qn,detect:Hn,detectLimit:Wn,detectSeries:$n,dir:Yn,doDuring:Ce,doUntil:Se,doWhilst:Ee,during:Te,each:Ie,eachLimit:je,eachOf:H,eachOfLimit:N,eachOfSeries:Rn,eachSeries:Xn,ensureAsync:Le,every:Vn,everyLimit:Zn,everySeries:Kn,filter:Gn,filterLimit:Jn,filterSeries:Qn,forever:Pe,log:er,map:Vt,mapLimit:Kt,mapSeries:Gt,mapValues:tr,mapValuesLimit:Re,mapValuesSeries:nr,memoize:ze,nextTick:rr,parallel:Ue,parallelLimit:qe,priorityQueue:We,queue:He,race:$e,reduce:be,reduceRight:Ye,reflect:Xe,reflectAll:Ze,reject:ir,rejectLimit:ar,rejectSeries:sr,retry:Ge,retryable:Je,seq:Nn,series:Qe,setImmediate:Dn,some:ur,someLimit:cr,someSeries:fr,sortBy:et,timeout:tt,times:dr,timesLimit:rt,timesSeries:pr,transform:ot,unmemoize:it,until:st,waterfall:ut,whilst:at,all:Vn,any:ur,forEach:Ie,forEachSeries:Xn,forEachLimit:je,forEachOf:H,forEachOfSeries:Rn,forEachOfLimit:N,inject:be,foldl:be,foldr:Ye,select:Gn,selectLimit:Jn,selectSeries:Qn,wrapSync:X};t["default"]=vr,t.applyEach=Zt,t.applyEachSeries=Jt,t.apply=Qt,t.asyncify=X,t.auto=Q,t.autoInject=he,t.cargo=me,t.compose=zn,t.concat=Bn,t.concatSeries=Un,t.constant=qn,t.detect=Hn,t.detectLimit=Wn,t.detectSeries=$n,t.dir=Yn,t.doDuring=Ce,t.doUntil=Se,t.doWhilst=Ee,t.during=Te,t.each=Ie,t.eachLimit=je,t.eachOf=H,t.eachOfLimit=N,t.eachOfSeries=Rn,t.eachSeries=Xn,t.ensureAsync=Le,t.every=Vn,t.everyLimit=Zn,t.everySeries=Kn,t.filter=Gn,t.filterLimit=Jn,t.filterSeries=Qn,t.forever=Pe,t.log=er,t.map=Vt,t.mapLimit=Kt,t.mapSeries=Gt,t.mapValues=tr,t.mapValuesLimit=Re,t.mapValuesSeries=nr,t.memoize=ze,t.nextTick=rr,t.parallel=Ue,t.parallelLimit=qe,t.priorityQueue=We,t.queue=He,t.race=$e,t.reduce=be,t.reduceRight=Ye,t.reflect=Xe,t.reflectAll=Ze,t.reject=ir,t.rejectLimit=ar,t.rejectSeries=sr,t.retry=Ge,t.retryable=Je,t.seq=Nn,t.series=Qe,t.setImmediate=Dn,t.some=ur,t.someLimit=cr,t.someSeries=fr,t.sortBy=et,t.timeout=tt,t.times=dr,t.timesLimit=rt,t.timesSeries=pr,t.transform=ot,t.unmemoize=it,t.until=st,t.waterfall=ut,t.whilst=at,t.all=Vn,t.allLimit=Zn,t.allSeries=Kn,t.any=ur,t.anyLimit=cr,t.anySeries=fr,t.find=Hn,t.findLimit=Wn,t.findSeries=$n,t.forEach=Ie,t.forEachSeries=Xn,t.forEachLimit=je,t.forEachOf=H,t.forEachOfSeries=Rn,t.forEachOfLimit=N,t.inject=be,t.foldl=be,t.foldr=Ye,t.select=Gn,t.selectLimit=Jn,t.selectSeries=Qn,t.wrapSync=X})}).call(t,function(){return this}(),n(29).setImmediate,n(30))},function(e,t,n){(function(e,r){function o(e,t){this._id=e,this._clearFn=t}var i=n(30).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(t,n(29).setImmediate,n(29).clearImmediate)},function(e,t){function n(){l&&c&&(l=!1,c.length?f=c.concat(f):h=-1,f.length&&r())}function r(){if(!l){var e=a(n);l=!0;for(var t=f.length;t;){for(c=f,f=[];++h<t;)c&&c[h].run();h=-1,t=f.length}c=null,l=!1,s(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,s,u=e.exports={};!function(){try{a=setTimeout}catch(e){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(e){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,f=[],l=!1,h=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new o(e,t)),1!==f.length||l||a(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){/*!
		2D Transformation Matrix v2.6.5
		(c) Epistemex.com 2014-2016
		License: MIT, header required.
	*/
/**
	 * 2D transformation matrix object initialized with identity matrix.
	 *
	 * The matrix can synchronize a canvas 2D context by supplying the context
	 * as an argument, or later apply current absolute transform to an
	 * existing context.
	 *
	 * To synchronize a DOM element you can use [`toCSS()`]{@link Matrix#toCSS} or [`toCSS3D()`]{@link Matrix#toCSS3D}.
	 *
	 * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix
	 * @prop {number} a - scale x
	 * @prop {number} b - shear y
	 * @prop {number} c - shear x
	 * @prop {number} d - scale y
	 * @prop {number} e - translate x
	 * @prop {number} f - translate y
	 * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context
	 * @constructor
	 * @license MIT license (header required)
	 * @copyright Epistemex.com 2014-2016
	 */
function r(e){var t=this;t._t=t.transform,t.a=t.d=1,t.b=t.c=t.e=t.f=0,e&&(t.context=e).setTransform(1,0,0,1,0,0)}r.fromTriangles=function(e,t,n){var o,i,a,s,u,c,f=new r,l=new r(n);return Array.isArray(e)?"number"==typeof e[0]?(a=e[4],s=e[5],u=t[4],c=t[5],o=[e[0]-a,e[1]-s,e[2]-a,e[3]-s,a,s],i=[t[0]-u,t[1]-c,t[2]-u,t[3]-c,u,c]):(a=e[2].x,s=e[2].y,u=t[2].x,c=t[2].y,o=[e[0].x-a,e[0].y-s,e[1].x-a,e[1].y-s,a,s],i=[t[0].x-u,t[0].y-c,t[1].x-u,e[1].y-c,u,c]):(o=[e.px-e.rx,e.py-e.ry,e.qx-e.rx,e.qy-e.ry,e.rx,e.ry],i=[t.px-t.rx,t.py-t.ry,t.qx-t.rx,t.qy-t.ry,t.rx,t.ry]),f.setTransform.apply(f,o),l.setTransform.apply(l,i),l.multiply(f.inverse())},r.fromSVGMatrix=function(e,t){return console.warn("Obsolete. Use Matrix.from()"),new r(t).multiply(e)},r.fromDOMMatrix=function(e,t){if(console.warn("Obsolete. Use Matrix.from()"),!e.is2D)throw"Cannot use 3D matrix.";return new r(t).multiply(e)},r.fromSVGTransformList=function(e,t){for(var n=new r(t),o=0;o<e.length;)n.multiply(e[o++].matrix);return n},r.from=function(e,t,n,o,i,a,s){var u=new r(s);if("number"==typeof e)u.setTransform(e,t,n,o,i,a);else{if("boolean"==typeof e.is2D&&!e.is2D)throw"Cannot use 3D DOMMatrix.";t&&(u.context=t),u.multiply(e)}return u},r.prototype={concat:function(e){return this.clone().multiply(e)},flipX:function(){return this._t(-1,0,0,1,0,0)},flipY:function(){return this._t(1,0,0,-1,0,0)},reflectVector:function(e,t){var n=this.applyToPoint(0,1),r=2*(n.x*e+n.y*t);return e-=r*n.x,t-=r*n.y,{x:e,y:t}},reset:function(){return this.setTransform(1,0,0,1,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);return this._t(t,n,-n,t,0,0)},rotateFromVector:function(e,t){return this.rotate(Math.atan2(t,e))},rotateDeg:function(e){return this.rotate(e*Math.PI/180)},scaleU:function(e){return this._t(e,0,0,e,0,0)},scale:function(e,t){return this._t(e,0,0,t,0,0)},scaleX:function(e){return this._t(e,0,0,1,0,0)},scaleY:function(e){return this._t(1,0,0,e,0,0)},shear:function(e,t){return this._t(1,t,e,1,0,0)},shearX:function(e){return this._t(1,0,e,1,0,0)},shearY:function(e){return this._t(1,e,0,1,0,0)},skew:function(e,t){return this.shear(Math.tan(e),Math.tan(t))},skewDeg:function(e,t){return this.shear(Math.tan(e/180*Math.PI),Math.tan(t/180*Math.PI))},skewX:function(e){return this.shearX(Math.tan(e))},skewY:function(e){return this.shearY(Math.tan(e))},setTransform:function(e,t,n,r,o,i){var a=this;return a.a=e,a.b=t,a.c=n,a.d=r,a.e=o,a.f=i,a._x()},translate:function(e,t){return this._t(1,0,0,1,e,t)},translateX:function(e){return this._t(1,0,0,1,e,0)},translateY:function(e){return this._t(1,0,0,1,0,e)},transform:function(e,t,n,r,o,i){var a=this,s=a.a,u=a.b,c=a.c,f=a.d,l=a.e,h=a.f;return a.a=s*e+c*t,a.b=u*e+f*t,a.c=s*n+c*r,a.d=u*n+f*r,a.e=s*o+c*i+l,a.f=u*o+f*i+h,a._x()},multiply:function(e){return this._t(e.a,e.b,e.c,e.d,e.e,e.f)},divide:function(e){if(!e.isInvertible())throw"Matrix not invertible";return this.multiply(e.inverse())},divideScalar:function(e){var t=this;return t.a/=e,t.b/=e,t.c/=e,t.d/=e,t.e/=e,t.f/=e,t._x()},inverse:function(e){var t=this,n=new r(e?t.context:null),o=t.determinant();if(t._q(o,0))throw"Matrix not invertible.";return n.a=t.d/o,n.b=-t.b/o,n.c=-t.c/o,n.d=t.a/o,n.e=(t.c*t.f-t.d*t.e)/o,n.f=-(t.a*t.f-t.b*t.e)/o,n},interpolate:function(e,t,n){var o=this,i=n?new r(n):new r;return i.a=o.a+(e.a-o.a)*t,i.b=o.b+(e.b-o.b)*t,i.c=o.c+(e.c-o.c)*t,i.d=o.d+(e.d-o.d)*t,i.e=o.e+(e.e-o.e)*t,i.f=o.f+(e.f-o.f)*t,i._x()},interpolateAnim:function(e,t,n){var o=new r(n?n:null),i=this.decompose(),a=e.decompose(),s=i.translate,u=a.translate,c=i.scale,f=i.rotation+(a.rotation-i.rotation)*t,l=s.x+(u.x-s.x)*t,h=s.y+(u.y-s.y)*t,d=c.x+(a.scale.x-c.x)*t,p=c.y+(a.scale.y-c.y)*t;return o.translate(l,h),o.rotate(f),o.scale(d,p),o._x()},decompose:function(e){var t=this,n=t.a,r=t.b,o=t.c,i=t.d,a=Math.acos,s=Math.atan,u=Math.sqrt,c=Math.PI,f={x:t.e,y:t.f},l=0,h={x:1,y:1},d={x:0,y:0},p=n*i-r*o;if(e)n?(d={x:s(o/n),y:s(r/n)},h={x:n,y:p/n}):r?(l=.5*c,h={x:r,y:p/r},d.x=s(i/r)):(h={x:o,y:i},d.x=.25*c);else if(n||r){var v=u(n*n+r*r);l=r>0?a(n/v):-a(n/v),h={x:v,y:p/v},d.x=s((n*o+r*i)/(v*v))}else if(o||i){var y=u(o*o+i*i);l=.5*c-(i>0?a(-o/y):-a(o/y)),h={x:p/y,y:y},d.y=s((n*o+r*i)/(y*y))}else h={x:0,y:0};return{translate:f,rotation:l,scale:h,skew:d}},determinant:function(){return this.a*this.d-this.b*this.c},applyToPoint:function(e,t){var n=this;return{x:e*n.a+t*n.c+n.e,y:e*n.b+t*n.d+n.f}},applyToArray:function(e){var t,n,r=0,o=[];if("number"==typeof e[0])for(n=e.length;r<n;)t=this.applyToPoint(e[r++],e[r++]),o.push(t.x,t.y);else for(;t=e[r++];)o.push(this.applyToPoint(t.x,t.y));return o},applyToTypedArray:function(e,t){for(var n,r=0,o=e.length,i=t?new Float64Array(o):new Float32Array(o);r<o;)n=this.applyToPoint(e[r],e[r+1]),i[r++]=n.x,i[r++]=n.y;return i},applyToContext:function(e){var t=this;return e.setTransform(t.a,t.b,t.c,t.d,t.e,t.f),t},isIdentity:function(){var e=this;return e._q(e.a,1)&&e._q(e.b,0)&&e._q(e.c,0)&&e._q(e.d,1)&&e._q(e.e,0)&&e._q(e.f,0)},isInvertible:function(){return!this._q(this.determinant(),0)},isValid:function(){return!(this.a*this.d)},isEqual:function(e){var t=this,n=t._q;return n(t.a,e.a)&&n(t.b,e.b)&&n(t.c,e.c)&&n(t.d,e.d)&&n(t.e,e.e)&&n(t.f,e.f)},clone:function(e){return new r(e?null:this.context).multiply(this)},toArray:function(){var e=this;return[e.a,e.b,e.c,e.d,e.e,e.f]},toTypedArray:function(e){var t=e?new Float64Array(6):new Float32Array(6),n=this;return t[0]=n.a,t[1]=n.b,t[2]=n.c,t[3]=n.d,t[4]=n.e,t[5]=n.f,t},toCSS:function(){return"matrix("+this.toArray()+")"},toCSS3D:function(){var e=this;return"matrix3d("+e.a+","+e.b+",0,0,"+e.c+","+e.d+",0,0,0,0,1,0,"+e.e+","+e.f+",0,1)"},toJSON:function(){var e=this;return'{"a":'+e.a+',"b":'+e.b+',"c":'+e.c+',"d":'+e.d+',"e":'+e.e+',"f":'+e.f+"}"},toString:function(e){var t=this;return e=e||4,"a="+t.a.toFixed(e)+" b="+t.b.toFixed(e)+" c="+t.c.toFixed(e)+" d="+t.d.toFixed(e)+" e="+t.e.toFixed(e)+" f="+t.f.toFixed(e)},toCSV:function(){return this.toArray().join()+"\r\n"},toDOMMatrix:function(){var e=null;return"DOMMatrix"in window&&(e=new DOMMatrix,e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.e=this.e,e.f=this.f),e},toSVGMatrix:function(){var e=this.decompose(),t=e.translate,n=e.scale,r=e.skew,o=this._q,i=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();return i?(i=i.translate(t.x,t.y),i=i.rotate(e.rotation/Math.PI*180),i=i.scaleNonUniform(n.x,n.y),o(0,r.x)||(i=i.skewX(r.x)),o(0,r.y)||(i=i.skewY(r.y)),i):null},_q:function(e,t){return Math.abs(e-t)<1e-14},_x:function(){var e=this;return e.context&&e.context.setTransform(e.a,e.b,e.c,e.d,e.e,e.f),e}},t.Matrix=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.rotatePoint=t.coords=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),s=r(a),u=n(25),c=r(u),f=n(33)(window.log.getLogger("helpers.js"),{prefixes:["level"],staticPrefixes:["helpers.js"],separator:"/"}),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),s["default"].merge(this,new c["default"]),(s["default"].isNumber(t.identifier)||s["default"].has(t,"clientX"))&&(t={x:t.clientX,y:t.clientY}),s["default"].merge(this,{x:0,y:0,z:0,width:0,height:0},t)}return i(e,[{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?["x","y","width","height"]:arguments[1];s["default"].isObject(e)&&s["default"].isArray(t)&&(s["default"].has(e,"x")&&t.indexOf("x")!=-1&&(this.x+=e.x),s["default"].has(e,"y")&&t.indexOf("y")!=-1&&(this.y+=e.y),s["default"].has(e,"width")&&t.indexOf("width")!=-1&&(this.width+=e.width),s["default"].has(e,"height")&&t.indexOf("height")!=-1&&(this.height+=e.height),this.emit("update"))}},{key:"divide",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?["x","y"]:arguments[1];s["default"].isNumber(e)&&s["default"].isArray(t)&&(t.indexOf("x")!=-1&&(this.x/=e),t.indexOf("y")!=-1&&(this.y/=e),t.indexOf("width")!=-1&&(this.width/=e),t.indexOf("height")!=-1&&(this.height/=e))}},{key:"update",value:function(e){s["default"].merge(this,e),this.emit("update")}},{key:"inside",value:function(e,t){if(s["default"].isObject(e)){if(t){var n=(this.x>=e.x||this.x+this.width>=e.x)&&this.x<=e.x+e.width,r=(this.y>=e.y||this.y+this.height>=e.y)&&this.y<=e.y+e.height;return n||r}return this.x>=e.x&&this.x<=e.x+e.width&&this.y>=e.y&&this.y<=e.y+e.height}}},{key:"toCanvasSpace",value:function(t){var n=t.layersContainer.coords;return new e({x:this.x-n.x,y:this.y-n.y,width:this.width-n.x,height:this.height-n.y})}},{key:"toLayer",value:function(e){var t,n=this,r=performance.now();s["default"].forIn(e.layers.list,function(e){var r=e.context.getImageData(n.x-e.coords.x,n.y-e.coords.y,1,1);!e.state.removed&&e.state.visible&&n.inside(e.coords)&&(void 0===t||e.coords.z>t.coords.z)&&0!=r.data[3]&&(t=e)});var o=performance.now();return f.debug("I spent "+(o-r)+"ms to search for a layer under the cursor."),t}},{key:"print",value:function(){return s["default"].omit(this,["toLayer","toCanvasSpace","inside","update","divide","add","on","off","once","emit","addListener","eventNames","listeners","removeListener","removeAllListeners","setMaxListeners"])}}]),e}(),h=function(e,t,n){var r,o,i,a,s,u,c;return a=t.x-e.x,s=t.y-e.y,i=Math.sqrt(a*a+s*s),u=Math.atan2(s,a).toDeg(),n=n.toDeg(),c=((u+n)%360).toPi(),r=e.x+i*Math.cos(c)+.5|0,o=e.y+i*Math.sin(c)+.5|0,{x:r,y:o}};t.coords=l,t.rotatePoint=h},function(e,t,n){function r(e,t,n,r,o){"use strict";return function(i,a,s){function u(t,n){return!e.keys(n).some(function(e){return!(t.hasOwnProperty(e)&&("function"!=typeof n[e]||"function"==typeof t[e]))})}function c(){var e=n(),t=r(e),i=e.validate(o,a,{useDefault:!0});if(i)throw new Error("Invalid configuration: "+JSON.stringify(t(o,a,i),void 0,4))}function f(){h.hour12=a.options.timestamp.hour12,a.options.timestamp.hasOwnProperty("timezone")&&(h.timeZone=a.options.timestamp.timezone),a.options.timestamp.hasOwnProperty("locale")&&(l=[a.options.timestamp.locale])}var l,h={};if("object"!=typeof i||!u(i,t.getLogger("foo")))throw new Error("Argument is not a proper loglevel object");return s="function"==typeof s?s:i.methodFactory,a="object"==typeof a?a:{},c(),f(),i.methodFactory=function(e,t,n){var r=s(e,t,n);return function(){var t,n,o=new Date,i=a.prefixes.reduce(function(t,n){switch(t=0===t.length?t:t+a.separator,n){case"timestamp":return void 0===l?t+o.toLocaleDateString(JSON.parse(JSON.stringify(h)))+" "+o.toLocaleTimeString(JSON.parse(JSON.stringify(h))):t+o.toLocaleDateString(l,JSON.parse(JSON.stringify(h)))+" "+o.toLocaleTimeString(l,JSON.parse(JSON.stringify(h)));case"level":return t+e.toUpperCase()}},"");for(a.staticPrefixes.length>0&&(i=a.staticPrefixes.reduce(function(e,t){return e=0===e.length?e:e+a.separator,e+t},i)),i=a.prefixFormat.replace(/%p/,i),t=[i],n=0;n<arguments.length;n++)t.push(arguments[n]);r.apply(this,t)}},i.setLevel(i.getLevel()),i}}var o,i,a;!function(r,s){"use strict";i=[n(34),n(37),n(38),n(40),n(41)],o=s,a="function"==typeof o?o.apply(t,i):o,!(void 0!==a&&(e.exports=a))}(this,r)},function(e,t,n){function r(e){"use strict";return"function"==typeof Object.assign?Object:e()}var o,i,a;!function(r,s){"use strict";i=[n(35)],o=s,a="function"==typeof o?o.apply(t,i):o,!(void 0!==a&&(e.exports=a))}(this,r)},function(e,t,n){function r(e){"use strict";return function(t){var n=function(){};return t="function"==typeof t?t:Object,Object.getOwnPropertyNames(t.prototype).forEach(function(e){n.prototype.hasOwnProperty(e)||"function"!=typeof t.prototype[e]||(n.prototype[e]=t.prototype[e])}),Object.getOwnPropertyNames(t).forEach(function(e){try{n.hasOwnProperty(e)||"function"!=typeof t[e]||(n[e]=t[e])}catch(r){if(r.message.match(/^Cannot access/)<0)throw r}}),n.assign=e.assign,n}}var o,i,a;!function(r,s){"use strict";i=[n(36)],o=s,a="function"==typeof o?o.apply(t,i):o,!(void 0!==a&&(e.exports=a))}(this,r)},function(e,t){"use strict";function n(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var u=i[a],c=Object.getOwnPropertyDescriptor(o,u);void 0!==c&&c.enumerable&&(n[u]=o[u])}}return n}function r(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}e.exports={assign:n,polyfill:r}},function(e,t,n){var r,o;!function(i,a){"use strict";r=a,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}(this,function(){"use strict";function e(e){return typeof console!==s&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a)}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t,n){return function(){typeof console!==s&&(r.call(this,t,n),this[e].apply(this,arguments))}}function r(e,t){for(var n=0;n<u.length;n++){var r=u[n];this[r]=n<e?a:this.methodFactory(r,e,t)}}function o(t,r,o){return e(t)||n.apply(this,arguments)}function i(e,t,n){function i(e){var t=(u[e]||"silent").toUpperCase();try{return void(window.localStorage[l]=t)}catch(n){}try{window.document.cookie=encodeURIComponent(l)+"="+t+";"}catch(n){}}function a(){var e;try{e=window.localStorage[l]}catch(t){}if(typeof e===s)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===f.levels[e]&&(e=void 0),e}var c,f=this,l="loglevel";e&&(l+=":"+e),f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||o,f.getLevel=function(){return c},f.setLevel=function(t,n){if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=f.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(c=t,n!==!1&&i(t),r.call(f,t,e),typeof console===s&&t<f.levels.SILENT)return"No console available for logging"},f.setDefaultLevel=function(e){a()||f.setLevel(e,!1)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)};var h=a();null==h&&(h=null==t?"WARN":t),f.setLevel(h,!1)}var a=function(){},s="undefined",u=["trace","debug","info","warn","error"],c=new i,f={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new i(e,c.getLevel(),c.methodFactory)),t};var l=typeof window!==s?window.log:void 0;return c.noConflict=function(){return typeof window!==s&&window.log===c&&(window.log=l),c},c})},function(e,t,n){e.exports=n(39)},function(e,t,n){var r;(function(){function o(){return this instanceof o?(this.coerceType={},this.fieldType=i(c),this.fieldValidate=i(l),this.fieldFormat=i(f),this.defaultOptions=i(y),void(this.schema={})):new o}var i=function(e){if(null===e||"object"!=typeof e)return e;var t;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof RegExp)return t=new RegExp(e);if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=i(e[n]);return t}if(e instanceof Object){t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=i(e[o]));return t}throw new Error("Unable to clone object!")},a=function(e){for(var t=[i(e[0])],n=t[0].key,r=t[0].object,o=1,a=e.length;o<a;o++)r=r[n],n=e[o].key,t.push({object:r,key:n});return t},s=function(e,t){var n=e.length-1,r=e[n].key;t[n].object[r]=e[n].object[r]},u={type:!0,not:!0,anyOf:!0,allOf:!0,oneOf:!0,$ref:!0,$schema:!0,id:!0,exclusiveMaximum:!0,exclusiveMininum:!0,properties:!0,patternProperties:!0,additionalProperties:!0,items:!0,additionalItems:!0,required:!0,"default":!0,title:!0,description:!0,definitions:!0,dependencies:!0},c={"null":function(e){return null===e},string:function(e){return"string"==typeof e},"boolean":function(e){return"boolean"==typeof e},number:function(e){return"number"==typeof e&&e===e},integer:function(e){return"number"==typeof e&&e%1===0},object:function(e){return e&&"object"==typeof e&&!Array.isArray(e)},array:function(e){return Array.isArray(e)},date:function(e){return e instanceof Date}},f={alpha:function(e){return/^[a-zA-Z]+$/.test(e)},alphanumeric:function(e){return/^[a-zA-Z0-9]+$/.test(e)},identifier:function(e){return/^[-_a-zA-Z0-9]+$/.test(e)},hexadecimal:function(e){return/^[a-fA-F0-9]+$/.test(e)},numeric:function(e){return/^[0-9]+$/.test(e)},"date-time":function(e){return!isNaN(Date.parse(e))&&e.indexOf("/")===-1},uppercase:function(e){return e===e.toUpperCase()},lowercase:function(e){return e===e.toLowerCase()},hostname:function(e){return e.length<256&&/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/.test(e)},uri:function(e){return/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/.test(e)},email:function(e){return/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/.test(e)},ipv4:function(e){if(/^(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)$/.test(e)){var t=e.split(".").sort();if(t[3]<=255)return!0}return!1},ipv6:function(e){return/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/.test(e)}},l={readOnly:function(e,t){return!1},minimum:function(e,t,n){return!(e<t||n.exclusiveMinimum&&e<=t)},maximum:function(e,t,n){return!(e>t||n.exclusiveMaximum&&e>=t)},multipleOf:function(e,t){return e/t%1===0||"number"!=typeof e},pattern:function(e,t){if("string"!=typeof e)return!0;var n,r;"string"==typeof t?n=t:(n=t[0],r=t[1]);var o=new RegExp(n,r);return o.test(e)},minLength:function(e,t){return e.length>=t||"string"!=typeof e},maxLength:function(e,t){return e.length<=t||"string"!=typeof e},minItems:function(e,t){return e.length>=t||!Array.isArray(e)},maxItems:function(e,t){return e.length<=t||!Array.isArray(e)},uniqueItems:function(e,t){for(var n,r={},o=0,i=e.length;o<i;o++){if(n=JSON.stringify(e[o]),r.hasOwnProperty(n))return!1;r[n]=!0}return!0},minProperties:function(e,t){if("object"!=typeof e)return!0;var n=0;for(var r in e)e.hasOwnProperty(r)&&(n+=1);return n>=t},maxProperties:function(e,t){if("object"!=typeof e)return!0;var n=0;for(var r in e)e.hasOwnProperty(r)&&(n+=1);return n<=t},constant:function(e,t){return JSON.stringify(e)==JSON.stringify(t)},"enum":function(e,t){var n,r,o;if("object"==typeof e){for(o=JSON.stringify(e),n=0,r=t.length;n<r;n++)if(o===JSON.stringify(t[n]))return!0}else for(n=0,r=t.length;n<r;n++)if(e===t[n])return!0;return!1}},h=function(e){return e.indexOf("://")===-1?e:e.split("#")[0]},d=function(e,t,n){var r,o,i,a;if(i=n.indexOf("#"),i===-1)return e.schema.hasOwnProperty(n)?[e.schema[n]]:null;if(i>0)if(a=n.substr(0,i),n=n.substr(i+1),e.schema.hasOwnProperty(a))t=[e.schema[a]];else{if(!t||t[0].id!==a)return null;t=[t[0]]}else{if(!t)return null;n=n.substr(1)}if(""===n)return[t[0]];if("/"===n.charAt(0)){for(n=n.substr(1),r=t[0],o=n.split("/");o.length>0;){if(!r.hasOwnProperty(o[0]))return null;r=r[o[0]],t.push(r),o.shift()}return t}return null},p=function(e,t){var n,r,o,i,a=e.length-1,s=/^(\d+)/.exec(t);if(s){if(t=t.substr(s[0].length),o=parseInt(s[1],10),o<0||o>a)return;if(i=e[a-o],"#"===t)return i.key}else i=e[0];if(r=i.object[i.key],""===t)return r;if("/"===t.charAt(0)){for(t=t.substr(1),n=t.split("/");n.length>0;){if(n[0]=n[0].replace(/~1/g,"/").replace(/~0/g,"~"),!r.hasOwnProperty(n[0]))return;r=r[n[0]],n.shift()}return r}},v=function(e,t,n,r){var o,i,c,f,l,h,y,g,m,b,x,w,_,k=!1,F={},A=t.length-1,C=t[A],E=n.length-1,S=n[E].object,T=n[E].key,O=S[T];if(C.hasOwnProperty("$ref"))return t=d(e,t,C.$ref),t?v(e,t,n,r):{$ref:C.$ref};if(C.hasOwnProperty("type"))if("string"==typeof C.type){if(r.useCoerce&&e.coerceType.hasOwnProperty(C.type)&&(O=S[T]=e.coerceType[C.type](O)),!e.fieldType[C.type](O))return{type:C.type}}else{for(k=!0,o=0,i=C.type.length;o<i&&k;o++)e.fieldType[C.type[o]](O)&&(k=!1);if(k)return{type:C.type}}if(C.hasOwnProperty("allOf"))for(o=0,i=C.allOf.length;o<i;o++)if(g=v(e,t.concat(C.allOf[o]),n,r))return g;if(r.useCoerce||r.useDefault||r.removeAdditional){if(C.hasOwnProperty("oneOf")){for(_=1/0,o=0,i=C.oneOf.length,c=0;o<i;o++)if(x=a(n),g=v(e,t.concat(C.oneOf[o]),x,r))w=g.schema?Object.keys(g.schema).length:1,w<_&&(_=w,F=g);else{if(c+=1,c>1)break;s(x,n)}if(c>1)return{oneOf:!0};if(c<1)return F;F={}}if(C.hasOwnProperty("anyOf")){for(F=null,_=1/0,o=0,i=C.anyOf.length;o<i;o++){if(x=a(n),g=v(e,t.concat(C.anyOf[o]),x,r),!g){s(x,n),F=null;break}w=g.schema?Object.keys(g.schema).length:1,w<_&&(_=w,F=g)}if(F)return F}if(C.hasOwnProperty("not")&&(x=a(n),g=v(e,t.concat(C.not),x,r),!g))return{not:!0}}else{if(C.hasOwnProperty("oneOf")){for(_=1/0,o=0,i=C.oneOf.length,c=0;o<i;o++)if(g=v(e,t.concat(C.oneOf[o]),n,r))w=g.schema?Object.keys(g.schema).length:1,w<_&&(_=w,F=g);else if(c+=1,c>1)break;if(c>1)return{oneOf:!0};if(c<1)return F;F={}}if(C.hasOwnProperty("anyOf")){for(F=null,_=1/0,o=0,i=C.anyOf.length;o<i;o++){if(g=v(e,t.concat(C.anyOf[o]),n,r),!g){F=null;break}w=g.schema?Object.keys(g.schema).length:1,w<_&&(_=w,F=g)}if(F)return F}if(C.hasOwnProperty("not")&&(g=v(e,t.concat(C.not),n,r),!g))return{not:!0}}if(C.hasOwnProperty("dependencies"))for(h in C.dependencies)if(C.dependencies.hasOwnProperty(h)&&O.hasOwnProperty(h))if(Array.isArray(C.dependencies[h])){for(o=0,i=C.dependencies[h].length;o<i;o++)if(!O.hasOwnProperty(C.dependencies[h][o]))return{dependencies:!0}}else if(g=v(e,t.concat(C.dependencies[h]),n,r))return g;if(Array.isArray(O)){if(C.hasOwnProperty("items"))if(Array.isArray(C.items)){for(o=0,i=C.items.length;o<i;o++)g=v(e,t.concat(C.items[o]),n.concat({object:O,key:o}),r),null!==g&&(F[o]=g,k=!0);if(O.length>i&&C.hasOwnProperty("additionalItems"))if("boolean"==typeof C.additionalItems){if(!C.additionalItems)return{additionalItems:!0}}else for(o=i,i=O.length;o<i;o++)g=v(e,t.concat(C.additionalItems),n.concat({object:O,key:o}),r),null!==g&&(F[o]=g,k=!0)}else for(o=0,i=O.length;o<i;o++)g=v(e,t.concat(C.items),n.concat({object:O,key:o}),r),null!==g&&(F[o]=g,k=!0);else if(C.hasOwnProperty("additionalItems")&&"boolean"!=typeof C.additionalItems)for(o=0,i=O.length;o<i;o++)g=v(e,t.concat(C.additionalItems),n.concat({object:O,key:o}),r),null!==g&&(F[o]=g,k=!0);if(k)return{schema:F}}else{m=[],F={};for(h in O)O.hasOwnProperty(h)&&m.push(h);if(r.checkRequired&&C.required)for(o=0,i=C.required.length;o<i;o++)O.hasOwnProperty(C.required[o])||(F[C.required[o]]={required:!0},k=!0);if(f=C.hasOwnProperty("properties"),l=C.hasOwnProperty("patternProperties"),f||l)for(o=m.length;o--;){if(b=!1,f&&C.properties.hasOwnProperty(m[o])&&(b=!0,g=v(e,t.concat(C.properties[m[o]]),n.concat({object:O,key:m[o]}),r),null!==g&&(F[m[o]]=g,k=!0)),l)for(h in C.patternProperties)C.patternProperties.hasOwnProperty(h)&&m[o].match(h)&&(b=!0,g=v(e,t.concat(C.patternProperties[h]),n.concat({object:O,key:m[o]}),r),null!==g&&(F[m[o]]=g,k=!0));b&&m.splice(o,1)}if(r.useDefault&&f&&!k)for(h in C.properties)C.properties.hasOwnProperty(h)&&!O.hasOwnProperty(h)&&C.properties[h].hasOwnProperty("default")&&(O[h]=C.properties[h]["default"]);if(r.removeAdditional&&f&&C.additionalProperties!==!0&&"object"!=typeof C.additionalProperties)for(o=0,i=m.length;o<i;o++)delete O[m[o]];else if(C.hasOwnProperty("additionalProperties"))if("boolean"==typeof C.additionalProperties){if(!C.additionalProperties)for(o=0,i=m.length;o<i;o++)F[m[o]]={additional:!0},k=!0}else for(o=0,i=m.length;o<i;o++)g=v(e,t.concat(C.additionalProperties),n.concat({object:O,key:m[o]}),r),null!==g&&(F[m[o]]=g,k=!0);if(k)return{schema:F}}for(y in C)C.hasOwnProperty(y)&&!u.hasOwnProperty(y)&&("format"===y?e.fieldFormat.hasOwnProperty(C[y])&&!e.fieldFormat[C[y]](O,C,n,r)&&(F[y]=!0,k=!0):e.fieldValidate.hasOwnProperty(y)&&!e.fieldValidate[y](O,C[y].hasOwnProperty("$data")?p(n,C[y].$data):C[y],C,n,r)&&(F[y]=!0,k=!0));return k?F:null},y={useDefault:!1,useCoerce:!1,checkRequired:!0,removeAdditional:!1};o.prototype={validate:function(e,t,n){var r=[e],o=null,i=[{object:{__root__:t},key:"__root__"}];if("string"==typeof e&&(r=d(this,null,e),!r))throw new Error("jjv: could not find schema '"+e+"'.");if(n)for(var a in this.defaultOptions)this.defaultOptions.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=this.defaultOptions[a]);else n=this.defaultOptions;return o=v(this,r,i,n),o?{validation:o.hasOwnProperty("schema")?o.schema:o}:null},resolveRef:function(e,t){return d(this,e,t)},addType:function(e,t){this.fieldType[e]=t},addTypeCoercion:function(e,t){this.coerceType[e]=t},addCheck:function(e,t){this.fieldValidate[e]=t},addFormat:function(e,t){this.fieldFormat[e]=t},addSchema:function(e,t){if(!t&&e&&(t=e,e=void 0),t.hasOwnProperty("id")&&"string"==typeof t.id&&t.id!==e){if("/"===t.id.charAt(0))throw new Error("jjv: schema id's starting with / are invalid.");this.schema[h(t.id)]=t}else if(!e)throw new Error("jjv: schema needs either a name or id attribute.");e&&(this.schema[h(e)]=t)}},"undefined"!=typeof e&&"undefined"!=typeof e.exports?e.exports=o:(r=function(){return o}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)},function(e,t,n){var r;(function(){"use strict";function o(e){var t=[],n=Object.keys(e.validation),r=n.every(function(t){return"object"!=typeof e.validation[t]||a(e.validation[t])});return r?n.forEach(function(n){var r,o;try{switch(n){case"type":var i=typeof e.data;"number"===i&&(""+e.data).match(/^\d+$/)?i="integer":"object"===i&&Array.isArray(e.data)&&(i="array"),r={code:"INVALID_TYPE",message:"Invalid type: "+i+" should be "+(a(e.validation[n])?"one of ":"")+e.validation[n]};break;case"required":o=e.ns,r={code:"OBJECT_REQUIRED",message:"Missing required property: "+o[o.length-1]};break;case"minimum":r={code:"MINIMUM",message:"Value "+e.data+" is less than minimum "+e.schema.minimum};break;case"maximum":r={code:"MAXIMUM",message:"Value "+e.data+" is greater than maximum "+e.schema.maximum};break;case"multipleOf":r={code:"MULTIPLE_OF",message:"Value "+e.data+" is not a multiple of "+e.schema.multipleOf};break;case"pattern":r={code:"PATTERN",message:"String does not match pattern: "+e.schema.pattern};break;case"minLength":r={code:"MIN_LENGTH",message:"String is too short ("+e.data.length+" chars), minimum "+e.schema.minLength};break;case"maxLength":r={code:"MAX_LENGTH",message:"String is too long ("+e.data.length+" chars), maximum "+e.schema.maxLength};break;case"minItems":r={code:"ARRAY_LENGTH_SHORT",message:"Array is too short ("+e.data.length+"), minimum "+e.schema.minItems};break;case"maxItems":r={code:"ARRAY_LENGTH_LONG",message:"Array is too long ("+e.data.length+"), maximum "+e.schema.maxItems};break;case"uniqueItems":r={code:"ARRAY_UNIQUE",message:"Array items are not unique"};break;case"minProperties":r={code:"OBJECT_PROPERTIES_MINIMUM",message:"Too few properties defined ("+Object.keys(e.data).length+"), minimum "+e.schema.minProperties};break;case"maxProperties":r={code:"OBJECT_PROPERTIES_MAXIMUM",message:"Too many properties defined ("+Object.keys(e.data).length+"), maximum "+e.schema.maxProperties};break;case"enum":r={code:"ENUM_MISMATCH",message:"No enum match ("+e.data+"), expects: "+e.schema["enum"].join(", ")};break;case"not":r={code:"NOT_PASSED",message:'Data matches schema from "not"'};break;case"additional":o=e.ns,r={code:"ADDITIONAL_PROPERTIES",message:"Additional properties not allowed: "+o[o.length-1]};break;case"format":r={code:"FORMAT",message:"Value does not satisfy format: "+e.schema.format}}}catch(s){}if(!r){r={code:"FAILED",message:"Validation error: "+n};try{"boolean"!=typeof e.validation[n]&&(r.message=" ("+e.validation[n]+")")}catch(s){}}r.code="VALIDATION_"+r.code,void 0!==e.data&&(r.data=e.data),r.path=e.ns,t.push(r)}):n.forEach(function(n){var r;e.schema.$ref&&(e.schema.$ref.match(/#\/definitions\//)?e.schema=e.definitions[e.schema.$ref.slice(14)]:e.schema=e.schema.$ref,"string"==typeof e.schema&&(e.schema=e.env.resolveRef(null,e.schema),e.schema&&(e.schema=e.schema[0])),e.schema.type||(e.schema.type="object")),e.schema&&e.schema.type&&(i(e.schema,"object")&&(e.schema.properties&&e.schema.properties[n]&&(r=e.schema.properties[n]),!r&&e.schema.patternProperties&&Object.keys(e.schema.patternProperties).some(function(t){if(n.match(new RegExp(t)))return r=e.schema.patternProperties[t],!0}),!r&&e.schema.hasOwnProperty("additionalProperties")&&(r="boolean"==typeof e.schema.additionalProperties?{}:e.schema.additionalProperties)),i(e.schema,"array")&&(r=e.schema.items));var a={env:e.env,schema:r||{},ns:e.ns.concat(n)};try{a.data=e.data[n]}catch(s){}try{a.validation=e.validation[n].schema?e.validation[n].schema:e.validation[n]}catch(s){a.validation={}}try{a.definitions=r.definitions||e.definitions}catch(s){a.definitions=e.definitions}t=t.concat(o(a))}),t}function i(e,t){return"string"==typeof e.type?e.type===t:!!a(e.type)&&e.type.indexOf(t)!==-1}function a(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function s(e){var t=e.hasOwnProperty("root")?e.root:"$",n=e.hasOwnProperty("sep")?e.sep:".";return function(e){var r=t;return e.path.forEach(function(e){r+=e.match(/^\d+$/)?"["+e+"]":e.match(/^[A-Z_$][0-9A-Z_$]*$/i)?n+e:"["+JSON.stringify(e)+"]"}),e.path=r,e}}function u(e){return function(t,n,r,i){if(!r||!r.validation)return[];i=i||{},"string"==typeof t&&(t=e.schema[t]);var a=o({env:e,schema:t,data:n,validation:r.validation,ns:[],definitions:t.definitions||{}});return a.length&&i.formatPath!==!1?a.map(s(i)):a}}"undefined"!=typeof e&&"undefined"!=typeof e.exports?e.exports=u:(r=function(){return u}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)},function(e,t){e.exports={type:"object",properties:{prefixes:{type:"array",items:{type:"string","enum":["timestamp","level"]},"default":["timestamp","level"]},staticPrefixes:{type:"array",items:{type:"string"},"default":[]},separator:{type:"string","default":" "},prefixFormat:{type:"string","default":"[%p]: "},options:{type:"object",properties:{timestamp:{locale:{type:"string"},timezone:{type:"string"},hour12:{type:"boolean"}}},"default":{timestamp:{hour12:!1}}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),s=r(a),u=n(43),c=r(u),f=n(32),l=n(31),h=n(33)(window.log.getLogger("layer.js"),{prefixes:["level"],staticPrefixes:["layer.js"],separator:"/"}),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];o(this,e);var r={x:0,y:0,z:n.mercuryCanvas.session.zIndex,width:0,height:0,angle:0,savedAngle:0};s["default"].merge(this,r,s["default"].pick(t,Object.keys(r))),this.matrix=new l.Matrix,this.matrix.translate(this.x,this.y),this.layer=n}return i(e,[{key:"update",value:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];if(s["default"].isObject(e)){s["default"].has(e,"x")&&(e.x=parseInt(e.x)),s["default"].has(e,"y")&&(e.y=parseInt(e.y));var n=this.z;s["default"].has(e,"angle")&&(this.matrix.reset(),s["default"].has(e,"pivot")&&this.matrix.translate(e.pivot.x,e.pivot.y),
e.angle=e.angle.toDeg()%360,this.matrix.rotateDeg(e.angle),this.angle=e.angle.toPi(),s["default"].has(e,"pivot")&&this.matrix.translate(-e.pivot.x,-e.pivot.y),this.matrix.translate(this.x,this.y)),e.scale?(this.matrix.reset(),s["default"].has(e,"width")&&(this.matrix.a=1,this.matrix.scaleX(e.scaleX),this.width=e.width),s["default"].has(e,"height")&&(this.matrix.d=1,this.matrix.scaleY(e.scaleY),this.height=e.height),s["default"].has(e,"x")&&(0!=this.matrix.a&&0!=this.matrix.d&&this.matrix.translateX(e.x/e.scaleX),this.x=e.x),s["default"].has(e,"y")&&(0!=this.matrix.a&&0!=this.matrix.d&&this.matrix.translateY(e.y/e.scaleY),this.y=e.y)):(s["default"].has(e,"width")&&(this.width=e.width),s["default"].has(e,"height")&&(this.height=e.height),s["default"].has(e,"x")&&(0!=this.matrix.a&&0!=this.matrix.d&&this.matrix.translateX((e.x-this.x)/this.matrix.a),this.x=e.x),s["default"].has(e,"y")&&(0!=this.matrix.a&&0!=this.matrix.d&&this.matrix.translateY((e.y-this.y)/this.matrix.d),this.y=e.y)),s["default"].has(e,"z")&&(this.z=e.z)}t&&this.updateCSS(),e.z&&e.z!=n&&this.layer.mercuryCanvas.emit("layer.z.update",{z:e.z,layer:this.layer,session:e.session})}},{key:"add",value:function(e){s["default"].isObject(e)&&(s["default"].has(e,"x")&&(this.matrix.translateX(e.x),this.x+=e.x),s["default"].has(e,"y")&&(this.matrix.translateY(e.y),this.y+=e.y),s["default"].has(e,"width")&&(this.width+=e.width),s["default"].has(e,"height")&&(this.height+=e.height)),this.updateCSS()}},{key:"updateMatrix",value:function(){}},{key:"updateAttr",value:function(){this.layer.element.attr("width",Math.round(this.width)),this.layer.element.attr("height",Math.round(this.height))}},{key:"updateCSS",value:function(){this.layer.element.css({transform:this.matrix.toCSS(),zIndex:this.z})}}]),e}(),p=function(){function e(t){return o(this,e),s["default"].merge(this,{options:{background:"rgba(0, 0, 0, 0)"},state:{removable:!0,visible:!0},name:"Layer "+t.parent.session.zIndex},t),this.mercuryCanvas=this.parent,this.parent=this.parent.layersContainer,this.element=$("<canvas>",{"class":(0,c["default"])("layer",this.name),css:{zIndex:"base"==this.name?0:this.mercuryCanvas.session.zIndex}}).appendTo(this.parent),this.coords=new d(t,this),this.canvas=this.element[0],this.context=this.canvas.getContext("2d"),"base"==this.name||"overlay"==this.name?void("base"==this.name&&(this.coords.z=0)):(this.image&&(this.draw(this.image,{resize:!0}),delete this.image),this.toggleVisibility=this.toggleVisibility.bind(this),void this.mercuryCanvas.emit("layer.new",this))}return i(e,[{key:"toggleVisibility",value:function(e){s["default"].isUndefined(e)?this.state.visible?this.hide():this.show():e?this.show():this.hide()}},{key:"hide",value:function(e){this.state.visible=!1,this.element.hide(),e||this.mercuryCanvas.emit("layer.update",this)}},{key:"show",value:function(e){this.state.visible=!0,this.element.show(),e||this.mercuryCanvas.emit("layer.update",this)}},{key:"move",value:function(e){this.coords.update({x:e.x,y:e.y})}},{key:"applyRotation",value:function(e){var t=this.coords.angle;this.clear();var n,r,o,i;n=(0,f.rotatePoint)(e,{x:this.coords.x,y:this.coords.y},t),r=(0,f.rotatePoint)(e,{x:this.coords.x+this.coords.width,y:this.coords.y},t),o=(0,f.rotatePoint)(e,{x:this.coords.x+this.coords.width,y:this.coords.y+this.coords.height},t),i=(0,f.rotatePoint)(e,{x:this.coords.x,y:this.coords.y+this.coords.height},t);var a={x:Math.min(n.x,r.x,o.x,i.x),y:Math.min(n.y,r.y,o.y,i.y),x2:Math.max(n.x,r.x,o.x,i.x),y2:Math.max(n.y,r.y,o.y,i.y)},s={x:this.coords.x-a.x,y:this.coords.y-a.y},u={x:this.original.image.width/2+s.x,y:this.original.image.height/2+s.y};this.resize({width:a.x2-a.x,height:a.y2-a.y,update:!1}),this.coords.update({x:a.x,y:a.y},!1),this.context.save(),this.context.translate(u.x,u.y),this.context.rotate(t),this.context.drawImage(this.original.image,s.x-u.x,s.y-u.y),this.context.restore(),this.coords.pivot=e,this.coords.savedAngle=this.coords.angle,this.coords.update({angle:0}),this.trim()}},{key:"applyScale",value:function(){this.coords.matrix.a=this.coords.matrix.d=1,this.coords.updateCSS(),this.coords.updateAttr(),this.context.drawImage(this.original.image,0,0,this.coords.width,this.coords.height),this.mercuryCanvas.emit("layer.update",this)}},{key:"select",value:function(e){this.selected=!0,this.mercuryCanvas.session.selectedLayers.select(this,e),this.mercuryCanvas.emit("layer.select",this)}},{key:"deselect",value:function(){this.selected=!1,this.mercuryCanvas.emit("layer.deselect",this)}},{key:"updateOriginal",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0];this.canvas.toBlob(function(n){var r=URL.createObjectURL(n),o=new Image;o.onload=function(){e.original={width:o.width,height:o.height,image:o,url:r},t(),e.mercuryCanvas.emit("layer.update",e)},o.src=r})}},{key:"resize",value:function(e){if(s["default"].isObject(e)&&s["default"].isNumber(e.width)&&s["default"].isNumber(e.height)){var t=this.context;t.save(),this.element.attr({width:e.width,height:e.height}),this.coords.update({width:e.width,height:e.height},e.update),s["default"].has(this.options,"background")&&(t.fillStyle=this.options.background,t.rect(0,0,e.width,e.height),t.fill()),t.restore()}}},{key:"trim",value:function(e){var t=this;s["default"].isObject(e)&&["x","y","x2","y2"].every(function(t){return t in e})?this.trimToCoords(e):this.mercuryCanvas.workerMaster.addAction({type:"trim",data:this.context.getImageData(0,0,this.coords.width,this.coords.height),finish:function(n){n.updateOriginal=!e||e.updateOriginal!==!1,n.callback=e&&e.callback?e.callback:function(){},t.trimToCoords(n)}})}},{key:"trimToCoords",value:function(e){var t=performance.now();if(this.coords.update({x:this.coords.x+e.x,y:this.coords.y+e.y,width:e.x2-e.x,height:e.y2-e.y}),e.x==1/0||e.y==1/0)return this.state.dirty=!0,void this.clear();var n=this.context.getImageData(e.x,e.y,this.coords.width,this.coords.height);this.element.attr({width:this.coords.width,height:this.coords.height}),this.context.putImageData(n,0,0),this.mercuryCanvas.emit("layer.update",this),this.mercuryCanvas.emit("layer.trim",this);var r=performance.now();h.debug("I spent "+(r-t)+"ms to trim the layer"),e.updateOriginal&&this.updateOriginal(e.callback)}},{key:"draw",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t.resize&&(s["default"].isUndefined(t.update)&&(t.update=!0),this.resize({width:e.width,height:e.height},t.update)),this.context.drawImage(e,0,0),this.state.dirty=!0,t.update&&(this.updateOriginal(),this.mercuryCanvas.emit("layer.update",this))}},{key:"clear",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.state.dirty&&(this.state.dirty=!1,this.context.clearRect(0,0,this.element.attr("width"),this.element.attr("height")),e&&this.mercuryCanvas.emit("layer.update",this))}},{key:"copyTo",value:function(e,t){e.resize(this.coords),e.context.drawImage(this.element[0],0,0),e.state.dirty=!0,"overlay"==this.name&&e.trim(t),e.updateOriginal(),this.mercuryCanvas.emit("layer.update",e)}},{key:"delete",value:function(){this.element.remove(),this.mercuryCanvas.emit("layer.delete",this)}},{key:"remove",value:function(e){this.state.removable!==!1&&(e||this.mercuryCanvas.session.addOperation({type:"layer.remove",layer:this}),s["default"].remove(this.mercuryCanvas.session.selectedLayers.list,this),this.state.removed=!0,this.hide(!0),this.mercuryCanvas.emit("layer.remove",this))}},{key:"restore",value:function(){this.state.removed&&(this.state.removed=!1,this.show(!0),this.mercuryCanvas.emit("layer.restore",this))}}]),e}();t["default"]=p},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){"use strict";function r(e){return e=e||{},this.color=null,this.width=0,this.height=0,this.hue=0,this.choosing=!1,this.position={x:0,y:0},this.huePosition=0,this.saturationWidth=0,this.maxHue=0,this.inputIsNumber=!1,o(this,"_onSaturationMouseMove","_onSaturationMouseDown","_onSaturationMouseUp","_onHueMouseDown","_onHueMouseUp","_onHueMouseMove"),this.$el=document.createElement("div"),this.$el.className="Scp",this.$el.innerHTML=['<div class="Scp-saturation">','<div class="Scp-brightness"></div>','<div class="Scp-sbSelector"></div>',"</div>",'<div class="Scp-hue">','<div class="Scp-hSelector"></div>',"</div>"].join("\n"),this.$saturation=this.$el.querySelector(".Scp-saturation"),this.$hue=this.$el.querySelector(".Scp-hue"),this.$sbSelector=this.$el.querySelector(".Scp-sbSelector"),this.$hSelector=this.$el.querySelector(".Scp-hSelector"),this.$saturation.addEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.addEventListener("touchstart",this._onSaturationMouseDown),this.$hue.addEventListener("mousedown",this._onHueMouseDown),this.$hue.addEventListener("touchstart",this._onHueMouseDown),e.el&&this.appendTo(e.el),e.background&&this.setBackgroundColor(e.background),this.setSize(e.width||175,e.height||150),this.setColor(e.color),this}var o=n(45),i=n(50),a=n(51),s=n(58),u=n(59),c=n(65);i(r.prototype),r.prototype.appendTo=function(e){return e.appendChild(this.$el),this},r.prototype.remove=function(){this.$saturation.removeEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.removeEventListener("touchstart",this._onSaturationMouseDown),this.$hue.removeEventListener("mousedown",this._onHueMouseDown),this.$hue.removeEventListener("touchstart",this._onHueMouseDown),this._onSaturationMouseUp(),this._onHueMouseUp(),this.off(),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},r.prototype.setColor=function(e){a(e)?(this.inputIsNumber=!0,e="#"+("00000"+(0|e).toString(16)).substr(-6)):this.inputIsNumber=!1,this.color=s(e);var t=this.color.toHsv();return isNaN(t.h)||(this.hue=t.h),this._moveSelectorTo(this.saturationWidth*t.s,(1-t.v)*this.height),this._moveHueTo((1-this.hue/360)*this.height),this._updateHue(),this},r.prototype.setSize=function(e,t){return this.width=e,this.height=t,this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px",this.saturationWidth=this.width-25,this.maxHue=this.height-2,this},r.prototype.setBackgroundColor=function(e){a(e)&&(e="#"+("00000"+(0|e).toString(16)).substr(-6)),this.$el.style.padding="5px",this.$el.style.background=s(e).toHexString()},r.prototype.setNoBackground=function(){this.$el.style.padding="0px",this.$el.style.background="none"},r.prototype.onChange=function(e){return this.on("update",e),this.emit("update",this.getHexString()),this},r.prototype.getColor=function(){return this.inputIsNumber?this.getHexNumber():this.color.toString()},r.prototype.getHexString=function(){return this.color.toHexString().toUpperCase()},r.prototype.getHexNumber=function(){return parseInt(this.color.toHex(),16)},r.prototype.getRGB=function(){return this.color.toRgb()},r.prototype.getHSV=function(){return this.color.toHsv()},r.prototype.isDark=function(){return this.color.isDark()},r.prototype.isLight=function(){return this.color.isLight()},r.prototype._moveSelectorTo=function(e,t){this.position.x=c(e,0,this.saturationWidth),this.position.y=c(t,0,this.height),u(this.$sbSelector,{x:this.position.x,y:this.position.y})},r.prototype._updateColorFromPosition=function(){this.color=s({h:this.hue,s:this.position.x/this.saturationWidth,v:1-this.position.y/this.height}),this._updateColor()},r.prototype._moveHueTo=function(e){this.huePosition=c(e,0,this.maxHue),u(this.$hSelector,{y:this.huePosition})},r.prototype._updateHueFromPosition=function(){var e=this.color.toHsv();this.hue=360*(1-this.huePosition/this.maxHue),this.color=s({h:this.hue,s:e.s,v:e.v}),this._updateHue()},r.prototype._updateHue=function(){var e=s({h:this.hue,s:1,v:1});this.$saturation.style.background="linear-gradient(to right, #fff, "+e.toHexString()+")",this._updateColor()},r.prototype._updateColor=function(){this.$sbSelector.style.background=this.color.toHexString(),this.$sbSelector.style.borderColor=this.color.isDark()?"#fff":"#000",this.emit("update",this.color.toHexString())},r.prototype._onSaturationMouseDown=function(e){this.choosing=!0;var t=this.$saturation.getBoundingClientRect(),n=0===e.type.indexOf("touch")?e.touches[0].clientX:e.clientX,r=0===e.type.indexOf("touch")?e.touches[0].clientY:e.clientY;this._moveSelectorTo(n-t.left,r-t.top),this._updateColorFromPosition(),window.addEventListener("mouseup",this._onSaturationMouseUp),window.addEventListener("touchend",this._onSaturationMouseUp),window.addEventListener("mousemove",this._onSaturationMouseMove),window.addEventListener("touchmove",this._onSaturationMouseMove),e.preventDefault()},r.prototype._onSaturationMouseMove=function(e){var t=this.$saturation.getBoundingClientRect(),n=0===e.type.indexOf("touch")?e.touches[0].clientX:e.clientX,r=0===e.type.indexOf("touch")?e.touches[0].clientY:e.clientY;this._moveSelectorTo(n-t.left,r-t.top),this._updateColorFromPosition()},r.prototype._onSaturationMouseUp=function(){this.choosing=!1,window.removeEventListener("mouseup",this._onSaturationMouseUp),window.removeEventListener("touchend",this._onSaturationMouseUp),window.removeEventListener("mousemove",this._onSaturationMouseMove),window.removeEventListener("touchmove",this._onSaturationMouseMove)},r.prototype._onHueMouseDown=function(e){this.choosing=!0;var t=this.$hue.getBoundingClientRect(),n=0===e.type.indexOf("touch")?e.touches[0].clientY:e.clientY;this._moveHueTo(n-t.top),this._updateHueFromPosition(),window.addEventListener("mouseup",this._onHueMouseUp),window.addEventListener("touchend",this._onHueMouseUp),window.addEventListener("mousemove",this._onHueMouseMove),window.addEventListener("touchmove",this._onHueMouseMove),e.preventDefault()},r.prototype._onHueMouseMove=function(e){var t=this.$hue.getBoundingClientRect(),n=0===e.type.indexOf("touch")?e.touches[0].clientY:e.clientY;this._moveHueTo(n-t.top),this._updateHueFromPosition()},r.prototype._onHueMouseUp=function(){this.choosing=!1,window.removeEventListener("mouseup",this._onHueMouseUp),window.removeEventListener("touchend",this._onHueMouseUp),window.removeEventListener("mousemove",this._onHueMouseMove),window.removeEventListener("touchmove",this._onHueMouseMove)},e.exports=r},function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function o(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-f?"-0":t}function i(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||i(e)&&d.call(e)==l}var s=n(46),u=n(47),c=n(49),f=1/0,l="[object Symbol]",h=Object.prototype,d=h.toString,p=c(function(e,t){return r(s(t,1),function(t){t=o(t),e[t]=u(e[t],e)}),e});e.exports=p},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function r(e,t,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var f=e[u];t>0&&o(f)?t>1?r(f,t-1,o,a,s):n(s,f):a||(s[s.length]=f)}return s}function o(e){return function(t){return null==t?void 0:t[e]}}function i(e){return _(e)||a(e)}function a(e){return u(e)&&m.call(e,"callee")&&(!x.call(e,"callee")||b.call(e)==p)}function s(e){return null!=e&&f(w(e))&&!c(e)}function u(e){return h(e)&&s(e)}function c(e){var t=l(e)?b.call(e):"";return t==v||t==y}function f(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){return!!e&&"object"==typeof e}var d=9007199254740991,p="[object Arguments]",v="[object Function]",y="[object GeneratorFunction]",g=Object.prototype,m=g.hasOwnProperty,b=g.toString,x=g.propertyIsEnumerable,w=o("length"),_=Array.isArray;e.exports=r},function(e,t,n){function r(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function o(e){var t=e;return t.placeholder}var i=n(48),a=n(49),s="__lodash_placeholder__",u=1,c=32,f=a(function(e,t,n){var a=u;if(n.length){var s=r(n,o(f));a|=c}return i(e,a,t,n,s)});f.placeholder={},e.exports=f},function(e,t,n){(function(e,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e){return e&&e.Object===Object?e:null}function i(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function a(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==T||(e[n]=T,i[o++]=n)}return i}function s(e){return _(e)?ue(e):{}}function u(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,u=t.length,c=ce(i-a,0),f=Array(u+c),l=!r;++s<u;)f[s]=t[s];for(;++o<a;)(l||o<i)&&(f[n[o]]=e[o]);for(;c--;)f[s++]=e[o++];return f}function c(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,u=-1,c=t.length,f=ce(i-s,0),l=Array(f+c),h=!r;++o<f;)l[o]=e[o];for(var d=o;++u<c;)l[d+u]=t[u];for(;++a<s;)(h||o<i)&&(l[d+n[a]]=e[o++]);return l}function f(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function l(e,t,n){function r(){var t=this&&this!==ie&&this instanceof r?i:e;return t.apply(o?n:this,arguments)}var o=t&O,i=h(e);return r}function h(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=s(e.prototype),r=e.apply(n,t);return _(r)?r:n}}function d(e,t,n){function o(){for(var s=arguments.length,u=Array(s),c=s,f=m(o);c--;)u[c]=arguments[c];var l=s<3&&u[0]!==f&&u[s-1]!==f?[]:a(u,f);if(s-=l.length,s<n)return y(e,t,p,o.placeholder,void 0,u,l,void 0,void 0,n-s);var h=this&&this!==ie&&this instanceof o?i:e;return r(h,this,u)}var i=h(e);return o}function p(e,t,n,r,o,s,f,l,d,v){function g(){for(var C=arguments.length,E=Array(C),S=C;S--;)E[S]=arguments[S];if(k)var T=m(g),O=i(E,T);if(r&&(E=u(E,r,o,k)),s&&(E=c(E,s,f,k)),C-=O,k&&C<v){var I=a(E,T);return y(e,t,p,g.placeholder,n,E,I,l,d,v-C)}var j=w?n:this,L=_?j[e]:e;return C=E.length,l?E=x(E,l):F&&C>1&&E.reverse(),b&&d<C&&(E.length=d),this&&this!==ie&&this instanceof g&&(L=A||h(L)),L.apply(j,E)}var b=t&R,w=t&O,_=t&I,k=t&(L|M),F=t&N,A=_?void 0:h(e);return g}function v(e,t,n,o){function i(){for(var t=-1,u=arguments.length,c=-1,f=o.length,l=Array(f+u),h=this&&this!==ie&&this instanceof i?s:e;++c<f;)l[c]=o[c];for(;u--;)l[c++]=arguments[++t];return r(h,a?n:this,l)}var a=t&O,s=h(e);return i}function y(e,t,n,r,o,i,a,s,u,c){var f=t&L,l=f?a:void 0,h=f?void 0:a,d=f?i:void 0,p=f?void 0:i;t|=f?D:P,t&=~(f?P:D),t&j||(t&=~(O|I));var v=n(e,t,o,d,l,p,h,s,u,c);return v.placeholder=r,v}function g(e,t,n,r,o,i,a,s){var u=t&I;if(!u&&"function"!=typeof e)throw new TypeError(S);var c=r?r.length:0;if(c||(t&=~(D|P),r=o=void 0),a=void 0===a?a:ce(C(a),0),s=void 0===s?s:C(s),c-=o?o.length:0,t&P){var f=r,h=o;r=o=void 0}var y=[e,t,n,r,o,f,h,i,a,s];if(e=y[0],t=y[1],n=y[2],r=y[3],o=y[4],s=y[9]=null==y[9]?u?0:e.length:ce(y[9]-c,0),!s&&t&(L|M)&&(t&=~(L|M)),t&&t!=O)g=t==L||t==M?d(e,t,s):t!=D&&t!=(O|D)||o.length?p.apply(void 0,y):v(e,t,n,r);else var g=l(e,t,n);return g}function m(e){var t=e;return t.placeholder}function b(e,t){return t=null==t?B:t,!!t&&("number"==typeof e||K.test(e))&&e>-1&&e%1==0&&e<t}function x(e,t){for(var n=e.length,r=fe(t.length,n),o=f(e);r--;){var i=t[r];e[r]=b(i,n)?o[i]:void 0}return e}function w(e){var t=_(e)?se.call(e):"";return t==H||t==W}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){return!!e&&"object"==typeof e}function F(e){return"symbol"==typeof e||k(e)&&se.call(e)==$}function A(e){if(!e)return 0===e?e:0;if(e=E(e),e===z||e===-z){var t=e<0?-1:1;return t*U}return e===e?e:0}function C(e){var t=A(e),n=t%1;return t===t?n?t-n:t:0}function E(e){if("number"==typeof e)return e;if(F(e))return q;if(_(e)){var t=w(e.valueOf)?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Y,"");var n=V.test(e);return n||Z.test(e)?J(e.slice(2),n?2:8):X.test(e)?q:+e}var S="Expected a function",T="__lodash_placeholder__",O=1,I=2,j=4,L=8,M=16,D=32,P=64,R=128,N=512,z=1/0,B=9007199254740991,U=1.7976931348623157e308,q=NaN,H="[object Function]",W="[object GeneratorFunction]",$="[object Symbol]",Y=/^\s+|\s+$/g,X=/^[-+]0x[0-9a-f]+$/i,V=/^0b[01]+$/i,Z=/^0o[0-7]+$/i,K=/^(?:0|[1-9]\d*)$/,G={"function":!0,object:!0},J=parseInt,Q=G[typeof t]&&t&&!t.nodeType?t:void 0,ee=G[typeof e]&&e&&!e.nodeType?e:void 0,te=o(Q&&ee&&"object"==typeof n&&n),ne=o(G[typeof self]&&self),re=o(G[typeof window]&&window),oe=o(G[typeof this]&&this),ie=te||re!==(oe&&oe.window)&&re||ne||oe||Function("return this")(),ae=Object.prototype,se=ae.toString,ue=Object.create,ce=Math.max,fe=Math.min;e.exports=g}).call(t,n(5)(e),function(){return this}())},function(e,t){function n(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){if("function"!=typeof e)throw new TypeError(l);return t=A(void 0===t?e.length-1:c(t),0),function(){for(var r=arguments,o=-1,i=A(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);for(o=-1;++o<t;)s[o]=r[o];return s[t]=a,n(e,this,s)}}function o(e){var t=i(e)?F.call(e):"";return t==v||t==y}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||a(e)&&F.call(e)==g}function u(e){if(!e)return 0===e?e:0;if(e=f(e),e===h||e===-h){var t=e<0?-1:1;return t*d}return e===e?e:0}function c(e){var t=u(e),n=t%1;return t===t?n?t-n:t:0}function f(e){if("number"==typeof e)return e;if(s(e))return p;if(i(e)){var t=o(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var n=x.test(e);return n||w.test(e)?_(e.slice(2),n?2:8):b.test(e)?p:+e}var l="Expected a function",h=1/0,d=1.7976931348623157e308,p=NaN,v="[object Function]",y="[object GeneratorFunction]",g="[object Symbol]",m=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,w=/^0o[0-7]+$/i,_=parseInt,k=Object.prototype,F=k.toString,A=Math.max;e.exports=r},function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){/*!
	 * is-number <https://github.com/jonschlinkert/is-number>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";var r=n(52);e.exports=function(e){var t=r(e);if("number"!==t&&"string"!==t)return!1;var n=+e;return n-n+1>=0&&""!==e}},function(e,t,n){(function(t){var r=n(57),o=Object.prototype.toString;e.exports=function(e){if("undefined"==typeof e)return"undefined";if(null===e)return"null";if(e===!0||e===!1||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if("undefined"!=typeof Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var n=o.call(e);return"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"undefined"!=typeof t&&r(e)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object"}}).call(t,n(53).Buffer)},function(e,t,n){(function(e,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,n){if(t=v(t,n<0?0:0|y(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;r++)t[r]=0;return t}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|m(t,n);return e=v(e,r),e.write(t,n),e}function u(t,n){if(e.isBuffer(n))return c(t,n);if(K(n))return f(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return l(t,n);if(n instanceof ArrayBuffer)return h(t,n)}return n.length?d(t,n):p(t,n)}function c(e,t){var n=0|y(t.length);return e=v(e,n),t.copy(e,0,0,n),e}function f(e,t){var n=0|y(t.length);e=v(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e,t){var n=0|y(t.length);e=v(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=l(t,new Uint8Array(n)),t}function d(e,t){var n=0|y(t.length);e=v(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t){var n,r=0;"Buffer"===t.type&&K(t.data)&&(n=t.data,r=0|y(n.length)),e=v(e,r);for(var o=0;o<r;o+=1)e[o]=255&n[o];return e}function v(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var r=0!==n&&n<=e.poolSize>>>1;return r&&(t.parent=G),t}function y(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(t,n){if(!(this instanceof g))return new g(t,n);var r=new e(t,n);return delete r.parent,r}function m(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"binary":return O(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function w(e,t,n,r){return X(H(t,e.length-n),e,n,r)}function _(e,t,n,r){return X(W(t),e,n,r)}function k(e,t,n,r){return _(e,t,n,r)}function F(e,t,n,r){return X(Y(t),e,n,r)}function A(e,t,n,r){return X($(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?V.fromByteArray(e):V.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var u,c,f,l;switch(s){case 1:i<128&&(a=i);break;case 2:u=e[o+1],128===(192&u)&&(l=(31&i)<<6|63&u,l>127&&(a=l));break;case 3:u=e[o+1],c=e[o+2],128===(192&u)&&128===(192&c)&&(l=(15&i)<<12|(63&u)<<6|63&c,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:u=e[o+1],c=e[o+2],f=e[o+3],128===(192&u)&&128===(192&c)&&128===(192&f)&&(l=(15&i)<<18|(63&u)<<12|(63&c)<<6|63&f,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return S(r)}function S(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(127&e[o]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;i++)o+=q(e[i]);return o}function j(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,n,r,o,i,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>i||n<a)throw new RangeError("value is out of bounds");if(r+o>t.length)throw new RangeError("index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function R(e,t,n,r,o,i){if(t>o||t<i)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function N(e,t,n,r,o){return o||R(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,o){return o||R(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,r,52,8),n+8}function B(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;a++){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function Y(e){return V.toByteArray(B(e))}function X(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}var V=n(54),Z=n(55),K=n(56);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var G={};e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:o(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,o=n.length,i=0,a=Math.min(r,o);i<a&&t[i]===n[i];)++i;return i!==a&&(r=t[i],o=n[i]),r<o?-1:o<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!K(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;r++)n+=t[r].length;var o=new e(n),i=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(o,i),i+=a.length}return o},e.byteLength=m,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):b.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function r(e,t,n){for(var r=-1,o=0;n+o<e.length;o++)if(e[n+o]===t[r===-1?0:o-r]){if(r===-1&&(r=o),o-r+1===t.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(n<0&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return r(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=t,t=0|n,n=o}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"binary":return k(this,e,t,n);case"base64":return F(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=e._augment(this.subarray(t,n));else{var i=n-t;o=new e(i,(void 0));for(var a=0;a<i;a++)o[a]=this[a+t]}return o.length&&(o.parent=this.parent||this),o},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},e.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),Z.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),Z.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),Z.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),Z.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||M(this,e,t,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||M(this,e,t,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):D(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):D(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):P(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):P(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,a=1,s=e<0?1:0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=e<0?1:0;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):D(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):D(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):P(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||M(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):P(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=t.length&&(n=t.length),n||(n=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-n<o-r&&(o=t.length-n+r);var i,a=o-r;if(this===t&&r<n&&n<o)for(i=a-1;i>=0;i--)t[i+n]=this[i+r];else if(a<1e3||!e.TYPED_ARRAY_SUPPORT)for(i=0;i<a;i++)t[i+n]=this[i+r];else t._set(this.subarray(r,r+a),n);return a},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;r<n;r++)this[r]=e;else{var o=H(e.toString()),i=o.length;for(r=t;r<n;r++)this[r]=o[r%i]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,r=t.length;n<r;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=Q.get,t.set=Q.set,t.write=Q.write,t.toString=Q.toString,t.toLocaleString=Q.toString,t.toJSON=Q.toJSON,t.equals=Q.equals,t.compare=Q.compare,t.indexOf=Q.indexOf,t.copy=Q.copy,t.slice=Q.slice,t.readUIntLE=Q.readUIntLE,t.readUIntBE=Q.readUIntBE,t.readUInt8=Q.readUInt8,t.readUInt16LE=Q.readUInt16LE,t.readUInt16BE=Q.readUInt16BE,t.readUInt32LE=Q.readUInt32LE,t.readUInt32BE=Q.readUInt32BE,t.readIntLE=Q.readIntLE,t.readIntBE=Q.readIntBE,t.readInt8=Q.readInt8,t.readInt16LE=Q.readInt16LE,t.readInt16BE=Q.readInt16BE,t.readInt32LE=Q.readInt32LE,t.readInt32BE=Q.readInt32BE,t.readFloatLE=Q.readFloatLE,t.readFloatBE=Q.readFloatBE,t.readDoubleLE=Q.readDoubleLE,t.readDoubleBE=Q.readDoubleBE,t.writeUInt8=Q.writeUInt8,t.writeUIntLE=Q.writeUIntLE,t.writeUIntBE=Q.writeUIntBE,t.writeUInt16LE=Q.writeUInt16LE,t.writeUInt16BE=Q.writeUInt16BE,t.writeUInt32LE=Q.writeUInt32LE,t.writeUInt32BE=Q.writeUInt32BE,t.writeIntLE=Q.writeIntLE,t.writeIntBE=Q.writeIntBE,t.writeInt8=Q.writeInt8,t.writeInt16LE=Q.writeInt16LE,t.writeInt16BE=Q.writeInt16BE,t.writeInt32LE=Q.writeInt32LE,t.writeInt32BE=Q.writeInt32BE,t.writeFloatLE=Q.writeFloatLE,t.writeFloatBE=Q.writeFloatBE,t.writeDoubleLE=Q.writeDoubleLE,t.writeDoubleBE=Q.writeDoubleBE,t.fill=Q.fill,t.inspect=Q.inspect,t.toArrayBuffer=Q.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(53).Buffer,function(){return this}())},function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===l?62:t===s||t===h?63:t<u?-1:t<u+10?t-u+26+26:t<f+26?t-f:t<c+26?t-c+26:void 0}function n(e){function n(e){c[l++]=e}var r,o,a,s,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=e.length;u="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0,c=new i(3*e.length/4-u),a=u>0?e.length-4:e.length;var l=0;for(r=0,o=0;r<a;r+=4,o+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function o(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,a,s=e.length%3,u="";for(o=0,a=e.length-s;o<a;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],u+=n(i);switch(s){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0),l="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=o}(t)},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?o-1:0,h=n?-1:1,d=e[t+l];for(l+=h,i=d&(1<<-f)-1,d>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=h,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,r),i-=c}return(d?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+l>=1?h/u:h*Math.pow(2,1-l),t*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},function(e,t,n){var r;!function(o){function i(e,t){if(e=e?e:"",t=t||{},e instanceof i)return e;if(!(this instanceof i))return new i(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=$(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=$(this._r)),this._g<1&&(this._g=$(this._g)),this._b<1&&(this._b=$(this._b)),this._ok=n.ok,this._tc_id=W++}function a(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,u=!1;return"string"==typeof e&&(e=B(e)),"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(t=s(e.r,e.g,e.b),a=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(r=P(e.s),o=P(e.v),t=l(e.h,r,o),a=!0,u="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(r=P(e.s),i=P(e.l),t=c(e.h,r,i),a=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=T(n),{ok:a,format:e.format||u,r:Y(255,X(t.r,0)),g:Y(255,X(t.g,0)),b:Y(255,X(t.b,0)),a:n}}function s(e,t,n){return{r:255*O(e,255),g:255*O(t,255),b:255*O(n,255)}}function u(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var r,o,i=X(e,t,n),a=Y(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var u=i-a;switch(o=s>.5?u/(2-i-a):u/(i+a),i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,l:s}}function c(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var o,i,a;if(e=O(e,360),t=O(t,100),n=O(n,100),0===t)o=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;o=r(u,s,e+1/3),i=r(u,s,e),a=r(u,s,e-1/3)}return{r:255*o,g:255*i,b:255*a}}function f(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var r,o,i=X(e,t,n),a=Y(e,t,n),s=i,u=i-a;if(o=0===i?0:u/i,i==a)r=0;else{switch(i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,v:s}}function l(e,t,n){e=6*O(e,360),t=O(t,100),n=O(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),u=n*(1-(1-i)*t),c=r%6,f=[n,s,a,a,u,n][c],l=[u,n,n,s,a,a][c],h=[a,a,u,n,n,s][c];return{r:255*f,g:255*l,b:255*h}}function h(e,t,n,r){var o=[D($(e).toString(16)),D($(t).toString(16)),D($(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function d(e,t,n,r,o){var i=[D($(e).toString(16)),D($(t).toString(16)),D($(n).toString(16)),D(R(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function p(e,t,n,r){var o=[D(R(r)),D($(e).toString(16)),D($(t).toString(16)),D($(n).toString(16))];return o.join("")}function v(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s-=t/100,n.s=I(n.s),i(n)}function y(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s+=t/100,n.s=I(n.s),i(n)}function g(e){return i(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l+=t/100,n.l=I(n.l),i(n)}function b(e,t){t=0===t?0:t||10;var n=i(e).toRgb();return n.r=X(0,Y(255,n.r-$(255*-(t/100)))),n.g=X(0,Y(255,n.g-$(255*-(t/100)))),n.b=X(0,Y(255,n.b-$(255*-(t/100)))),i(n)}function x(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l-=t/100,n.l=I(n.l),i(n)}function w(e,t){var n=i(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,i(n)}function _(e){var t=i(e).toHsl();return t.h=(t.h+180)%360,i(t)}function k(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+120)%360,s:t.s,l:t.l}),i({h:(n+240)%360,s:t.s,l:t.l})]}function F(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+90)%360,s:t.s,l:t.l}),i({h:(n+180)%360,s:t.s,l:t.l}),i({h:(n+270)%360,s:t.s,l:t.l})]}function A(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+72)%360,s:t.s,l:t.l}),i({h:(n+216)%360,s:t.s,l:t.l})]}function C(e,t,n){t=t||6,n=n||30;var r=i(e).toHsl(),o=360/n,a=[i(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,a.push(i(r));return a}function E(e,t){t=t||6;for(var n=i(e).toHsv(),r=n.h,o=n.s,a=n.v,s=[],u=1/t;t--;)s.push(i({h:r,s:o,v:a})),a=(a+u)%1;return s}function S(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function O(e,t){L(e)&&(e="100%");var n=M(e);return e=Y(t,X(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function I(e){return Y(1,X(0,e))}function j(e){return parseInt(e,16)}function L(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function M(e){return"string"==typeof e&&e.indexOf("%")!=-1}function D(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function R(e){return o.round(255*parseFloat(e)).toString(16)}function N(e){return j(e)/255}function z(e){return!!G.CSS_UNIT.exec(e)}function B(e){e=e.replace(q,"").replace(H,"").toLowerCase();var t=!1;if(Z[e])e=Z[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=G.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=G.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=G.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=G.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=G.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=G.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=G.hex8.exec(e))?{r:j(n[1]),g:j(n[2]),b:j(n[3]),a:N(n[4]),format:t?"name":"hex8"}:(n=G.hex6.exec(e))?{r:j(n[1]),g:j(n[2]),b:j(n[3]),format:t?"name":"hex"}:(n=G.hex4.exec(e))?{r:j(n[1]+""+n[1]),g:j(n[2]+""+n[2]),b:j(n[3]+""+n[3]),a:N(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=G.hex3.exec(e))&&{r:j(n[1]+""+n[1]),g:j(n[2]+""+n[2]),b:j(n[3]+""+n[3]),format:t?"name":"hex"}}function U(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var q=/^\s+/,H=/\s+$/,W=0,$=o.round,Y=o.min,X=o.max,V=o.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,i,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4),i=t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4),.2126*r+.7152*i+.0722*a},setAlpha:function(e){return this._a=T(e),this._roundA=$(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=$(360*e.h),n=$(100*e.s),r=$(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u(this._r,this._g,this._b),t=$(360*e.h),n=$(100*e.s),r=$(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return h(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:$(this._r),g:$(this._g),b:$(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+$(this._r)+", "+$(this._g)+", "+$(this._b)+")":"rgba("+$(this._r)+", "+$(this._g)+", "+$(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:$(100*O(this._r,255))+"%",g:$(100*O(this._g,255))+"%",b:$(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+$(100*O(this._r,255))+"%, "+$(100*O(this._g,255))+"%, "+$(100*O(this._b,255))+"%)":"rgba("+$(100*O(this._r,255))+"%, "+$(100*O(this._g,255))+"%, "+$(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=i(e);n="#"+p(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,o=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return o?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(F,arguments)}},i.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&("a"===r?n[r]=e[r]:n[r]=P(e[r]));e=n}return i(e,t)},i.equals=function(e,t){return!(!e||!t)&&i(e).toRgbString()==i(t).toRgbString()},i.random=function(){return i.fromRatio({r:V(),g:V(),b:V()})},i.mix=function(e,t,n){n=0===n?0:n||50;var r=i(e).toRgb(),o=i(t).toRgb(),a=n/100,s={r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a};return i(s)},i.readability=function(e,t){var n=i(e),r=i(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},i.isReadable=function(e,t,n){var r,o,a=i.readability(e,t);switch(o=!1,r=U(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},i.mostReadable=function(e,t,n){var r,o,a,s,u=null,c=0;n=n||{},o=n.includeFallbackColors,a=n.level,s=n.size;for(var f=0;f<t.length;f++)r=i.readability(e,t[f]),
r>c&&(c=r,u=i(t[f]));return i.isReadable(e,u,{level:a,size:s})||!o?u:(n.includeFallbackColors=!1,i.mostReadable(e,["#fff","#000"],n))};var Z=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=i.hexNames=S(Z),G=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof e&&e.exports?e.exports=i:(r=function(){return i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}(Math)},function(e,t,n){"use strict";function r(e,t){var n,r,o,i=[];s(t);for(n in t)d.call(t,n)&&(r=t[n],d.call(l.transform,n)?(o=l.transform[n],f(r)&&(r=r.join(o.separator)),i.push(n+"("+h(r,o.defaultUnit,o.separator)+")")):d.call(l,n)?(o=l[n],f(r)&&(r=r.join(o.separator)),e.style[c(n)]=h(r,o.defaultUnit,o.separator)):console.warn("dom-transform: this property (`"+n+"`) is not supported."));e.style[p]=i.join(" ")}function o(e,t){var n=e.style;if("string"==typeof t)return d.call(l.transform,t)?n[p]:n[c(t)];t||(t=u());var r={};return t.forEach(function(e){r[e]=n[c(e)]}),r}function i(e,t){var n=e.style;return"string"==typeof t?void(n[c(t)]=null):(t||(t=u()),void t.forEach(function(e){n[c(e)]=null}))}function a(){return p.length>0}function s(e){var t;for(t in e)d.call(v,t)&&(e[v[t]]=e[t],delete e[t])}function u(){return Object.keys(l).map(function(e){return e})}var c=n(60),f=n(61),l=n(62),h=n(63),d=Object.prototype.hasOwnProperty,p=c("transform"),v={x:"translateX",y:"translateY",z:"translateZ",origin:"transformOrigin"};t=e.exports=r,t.get=o,t.reset=i,t.isSupported=a},function(e,t){function n(e){if(e=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),void 0!==i[e])return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=a.length;n--;){var r=a[n]+t;if(void 0!==i[r])return r}return e}function r(e){return e in u?u[e]:u[e]=n(e)}function o(e){return e=n(e),s.test(e)&&(e="-"+e.replace(s,"-$1"),s.lastIndex=0),e.toLowerCase()}var i="undefined"!=typeof document?document.createElement("p").style:{},a=["O","ms","Moz","Webkit"],s=/([A-Z])/g,u={};e.exports=r,e.exports.dash=o},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},function(e,t){"use strict";e.exports={transform:{translate:{defaultUnit:"px"},translate3d:{defaultUnit:"px"},translateX:{defaultUnit:"px"},translateY:{defaultUnit:"px"},translateZ:{defaultUnit:"px"},scale:{defaultUnit:""},scale3d:{defaultUnit:""},scaleX:{defaultUnit:""},scaleY:{defaultUnit:""},scaleZ:{defaultUnit:""},rotate:{defaultUnit:"deg"},rotate3d:{defaultUnit:""},rotateX:{defaultUnit:"deg"},rotateY:{defaultUnit:"deg"},rotateZ:{defaultUnit:"deg"},skew:{defaultUnit:"deg"},skewX:{defaultUnit:"deg"},skewY:{defaultUnit:"deg"},perspective:{defaultUnit:"px"},matrix:{defaultUnit:""},matrix3d:{defaultUnit:""}},transformOrigin:{defaultUnit:"px",separator:" "}}},function(e,t,n){"use strict";var r=n(64),o=/^-?\d+(\.\d+)?$/;e.exports=function(e,t,n){if(n=n||",","number"==typeof e)return""+e+t;var i=new RegExp(n,"g"),a=e.split(i.test(e)?n:" ");return a.map(function(e){return e=r(e),o.test(e)&&(e+=t),e}).join(n)}},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t){"use strict";e.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){var r=n(67);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(11)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(67,function(){var t=n(67);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){t=e.exports=n(10)(),t.push([e.id,".Scp{width:175px;height:150px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.Scp-saturation{position:relative;width:calc(100% - 25px);height:100%;background:-webkit-linear-gradient(left,#fff,red);background:linear-gradient(90deg,#fff,red);float:left;margin-right:5px}.Scp-brightness{width:100%;height:100%;background:-webkit-linear-gradient(hsla(0,0%,100%,0),#000);background:linear-gradient(hsla(0,0%,100%,0),#000)}.Scp-sbSelector{border:2px solid;border-color:#fff;position:absolute;width:14px;height:14px;background:#fff;border-radius:10px;top:-7px;left:-7px;box-sizing:border-box;z-index:10}.Scp-hue{width:20px;height:100%;position:relative;float:left;background:-webkit-linear-gradient(red,#f0f 17%,#00f 34%,#0ff 50%,#0f0 67%,#ff0 84%,red);background:linear-gradient(red,#f0f 17%,#00f 34%,#0ff 50%,#0f0 67%,#ff0 84%,red)}.Scp-hSelector{position:absolute;background:#fff;border-bottom:1px solid #000;right:-3px;width:10px;height:2px}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.LayersPanel=t.Toolbar=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(24),f=r(c),l=n(43),h=r(l),d=n(69),p=r(d),v=n(31),y=n(32),g=n(70),m=r(g),b=(n(33)(window.log.getLogger("toolbar.js"),{prefixes:["level"],staticPrefixes:["toolbar.js"],separator:"/"}),function(){function e(t,n){var r=this;a(this,e),f["default"].merge(this,{end:!1,disabled:!1,action:!1,selected:!1,select:function(){},deselect:function(){},mouseDown:function(){},mouseMove:function(){},mouseUp:function(){},mouseLeave:function(){},load:function(){},name:"",icon:""},t),this.parent=n,this.icon=this.icon.length>0?this.icon:t.icon?t.icon:"fa-"+t.name,this.mercuryCanvas=this.parent.mercuryCanvas,this.element=$("<div>",{"class":(0,h["default"])("tool",this.name,{end:this.end,disabled:this.disabled,first:this.first}),html:$("<i>",{"class":(0,h["default"])("fa","fa-fw",this.icon)})}).appendTo(this.parent.element),(f["default"].isString(this.key)||f["default"].isArray(this.key))&&this.mercuryCanvas.addShortcut(this.key,function(e){e.preventDefault(),r.onClick(!0)}),this.element.on("click",this.onClick.bind(this)),setTimeout(function(){r.load(),r.selected&&r.onClick(!0)})}return u(e,[{key:"onClick",value:function(e){this.disabled||((f["default"].isObject(e)||e===!0)&&this.select.bind(this,e)(),this.action||(this.parent.lastTool&&(this.mercuryCanvas.session.mouse.down&&this.parent.lastTool.mouseUp(this.mercuryCanvas.session.mouse.lastEvent),this.parent.lastTool.deselect()),this.parent.element.children("div").removeClass("selected"),this.element.addClass("selected"),this.parent.selectTool(this)))}},{key:"remove",value:function(){this.element.remove()}},{key:"toggle",value:function(e){e?this.element.removeClass("disabled"):this.element.addClass("disabled"),this.disabled=!e}}]),e}()),x=function(){function e(t){var n=this;a(this,e),f["default"].merge(this,{classes:"",fixable:!0,fixed:!1,mouse:{},orientation:{horizontal:!1,vertical:!1}},t),this.determineOrientation();var r=$("<div>",{"class":(0,h["default"])("menu",{horizontal:this.orientation.horizontal,vertical:this.orientation.vertical,fixed:this.fixed!==!1},this.classes,this.fixed)}).appendTo(this.parent.element);this.mercuryCanvas=this.parent,this.element=r;var o=this.mercuryCanvas;this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.mouseMove=this.mouseMove.bind(this),this.element.on("mousedown touchstart",function(e){n.unfixable||(n.time=setTimeout(function(){n.willUnfix=!0,n.mouseDown({pageX:10,pageY:20}),n.mouseMove(e)},1e3))}),this.matrix=new v.Matrix,this.coords=new y.coords,this.handle=$("<div>",{"class":"handle",html:$("<i>",{"class":"fa fa-fw fa-bars"})}).prependTo(r),this.fixed&&this.handle.hide(),this.handle.on("mousedown touchstart",this.mouseDown),o.on("mouseup",this.mouseUp),o.on("touchend",this.mouseUp),o.on("mousemove",this.mouseMove),o.on("touchmove",function(e){return n.mouseMove(e.originalEvent.touches[0])}),this.coords.on("update",function(){n.matrix.reset(),n.matrix.translate(n.coords.x,n.coords.y),n.element.css({transform:n.matrix.toCSS()}),f["default"].each(n.tools,function(e){f["default"].isFunction(e.menuMove)&&e.menuMove()})}),this.fixed===!1&&setTimeout(function(){n.coords.update({width:n.element.width(),height:n.element.height()})})}return u(e,[{key:"determineOrientation",value:function(e){this.fixed.length>0&&(e||!this.orientation.horizontal&&!this.orientation.vertical)&&(this.orientation.horizontal="top"==this.fixed||"bottom"==this.fixed,this.orientation.vertical="left"==this.fixed||"right"==this.fixed),this.orientation.horizontal||this.orientation.vertical||(this.orientation.vertical=!0)}},{key:"removeClone",value:function(){this.clone&&(this.clone.remove(),this.clone=void 0)}},{key:"calculateSnap",value:function(e,t){var n=this.mercuryCanvas;return(!f["default"].isNumber(t)||f["default"].isNaN(t)||t<=0)&&(t=n.state.snap.menuDistance),e.x<t?"left":e.y<t?"top":e.x>n.session.width-t?"right":e.y>n.session.height-t&&"bottom"}},{key:"resize",value:function(e){var t=this;if(this.fixed.length>0)if(this.orientation.horizontal)this.element.css({width:e.width});else{this.coords.update({x:0,y:e.topHeight,width:this.element.outerWidth(),height:e.height-e.menuHeight}),this.element.css({height:e.height-e.menuHeight});var n=0,r=0;f["default"].each(this.mercuryCanvas.state.menus,function(e){return e!=t&&("left"==e.fixed&&(n+=e.coords.width),void("right"==e.fixed&&(r-=e.coords.width)))}),"left"==this.fixed&&this.coords.update({x:n}),"right"==this.fixed&&this.coords.update({x:r})}}},{key:"mouseDown",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.element.css("z-index",1002),this.mouse.down=!0,f["default"].isNumber(e.pageX)&&f["default"].isNumber(e.pageY)&&(!this.dist||t)&&(this.dist={x:this.coords.x-e.pageX,y:this.coords.y-e.pageY}),this.willUnfix&&(this.willUnfix=!1,this.unfix())}},{key:"mouseMove",value:function(e){if(this.mouse.down&&(this.dist||(this.dist={x:this.coords.x-e.pageX,y:this.coords.y-e.pageY}),this.coords.update({x:this.dist.x+e.pageX,y:this.dist.y+e.pageY}),this.fixable)){var t=this.mercuryCanvas,n=this.calculateSnap({x:e.pageX,y:e.pageY});if(n){if(this.clone&&this.snap==n)return;this.snap!=n&&this.removeClone(),this.clone=this.element.clone().removeAttr("style").addClass("fixed"),"left"==n&&this.clone.addClass("left vertical").removeClass("horizontal"),"right"==n&&this.clone.addClass("right vertical").removeClass("horizontal"),"top"==n&&this.clone.addClass("top horizontal").removeClass("vertical"),"bottom"==n&&this.clone.addClass("bottom horizontal").removeClass("vertical"),this.clone.css({zIndex:1001,opacity:.8}),this.clone.appendTo(t.element)}else this.clone&&this.removeClone();this.snap=n}}},{key:"mouseUp",value:function(){if(clearTimeout(this.time),this.mouse.down=!1,this.dist=void 0,this.handle.removeClass("active"),this.element.css("z-index",""),this.fixable&&this.clone){if(this.removeClone(),!this.snap)return;this.fix()}}},{key:"fix",value:function(){this.fixed=this.snap,this.determineOrientation(!0),this.element.removeClass("horizontal vertical left right top bottom").addClass(this.fixed).addClass("fixed").removeAttr("style"),this.element.addClass(this.orientation.horizontal?"horizontal":"vertical"),this.handle.hide(),this.coords.update({x:0,y:0}),this.mercuryCanvas.resize(!0)}},{key:"unfix",value:function(){f["default"].each(this.tools,function(e){f["default"].isFunction(e.menuUnfix)&&e.menuUnfix()}),this.fixed=!1,this.determineOrientation(!0),this.element.removeClass("fixed left right top bottom").removeAttr("style"),this.handle.show(),this.mercuryCanvas.resize(!0),this.coords.update({width:this.element.width(),height:this.element.height()}),this.handle.addClass("active");var e=this.mercuryCanvas.state.menus;e.unshift(e.splice(e.indexOf(this),1)[0]),this.dist={x:-this.handle.outerWidth()/2,y:-this.handle.outerHeight()/2}}}]),e}(),w=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.classes+=" settings",n.element.addClass("settings"),n.parseSettings(n.mercuryCanvas.state),n}return i(t,e),u(t,[{key:"parseSettings",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=["activeTools","local","menus","strokeColor","background","handlerSize","color","toLayer","toWindowMargin"];f["default"].forIn(e,function(e,o){if(r.indexOf(o)==-1)return f["default"].isObject(e)?void t.parseSettings(e,o):void t.addVariable({parent:n,value:e,key:o})})}},{key:"addVariable",value:function(e){var t=this,n=e.key;e.parent&&(n=e.parent+"-"+n),n="settings-"+n;var r,o={id:n,name:e.key,value:e.value};if("number"==typeof e.value?(o.required=!0,o.type="number",o.message="Please input a valid number"):"boolean"==typeof e.value&&(o.type="boolean"),r=new m["default"](o),r.on("changeVerified",function(e,n,r){var o=r.split("-"),i=o[o.length-1],a=o[o.length-2];"settings"==a?t.mercuryCanvas.state[i]=n:t.mercuryCanvas.state[a][i]=n,t.mercuryCanvas.state.save(),t.mercuryCanvas.emit("state.update")}),r)if(e.parent){var i=$("#settings-"+e.parent);i.length||(i=$("<div>",{"class":"settingsParent",id:"settings-"+e.parent}),$("<h6>"+e.parent+"</h6>").appendTo(i),i.appendTo(this.element)),r.appendTo(i)}else r.appendTo(this.element)}}]),t}(x),_=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.element.addClass("toolbar"),n.tools=[],e.tools&&e.tools.length>0&&n.addTools(e.tools),n}return i(t,e),u(t,[{key:"addTools",value:function(e){var t=this;"object"==("undefined"==typeof e?"undefined":s(e))&&void 0!==e.length||(e=[e]);var n=!1;f["default"].forIn(e,function(e){e.end&&!n&&(e.first=!0,n=!0),t.tools.push(new b(e,t))})}},{key:"removeTools",value:function(e){var t=this;"boolean"==typeof e?e=this.tools:"object"==("undefined"==typeof e?"undefined":s(e))&&void 0!==e.length||(e=[e]),f["default"].forIn(e,function(e){var n=f["default"].remove(t.tools,{name:"object"==("undefined"==typeof e?"undefined":s(e))?e.name:e});f["default"].forIn(n,function(e){e.remove()})})}},{key:"selectTool",value:function(e){var t=this.mercuryCanvas;t.session.selectedLayers.state.transform&&t.session.selectedLayers.exitTransform();var n=this.parent.state.activeTools;this.lastTool&&(this.lastTool.selected=!1,n.splice(n.indexOf(this.lastTool),1)),e.selected=!0,this.lastTool=e,n.push(e)}},{key:"toggleTool",value:function(e){f["default"].isObject(e)&&f["default"].has(e,"name")&&f["default"].forIn(this.tools,function(t){t.name==e.name&&t.toggle(e.state)})}}]),t}(x),k=function(){function e(t){var n=this;a(this,e),this.layer=t.layer,this.id=t.id,this.wrapper=$("<div>",{"class":"layerThumbnail","data-id":this.id}),this.visibleIcon=$("<i>"),this.visibleIconWrapper=$("<div>",{"class":"visible",html:this.visibleIcon}).appendTo(this.wrapper),$("<div>",{"class":"divider"}).appendTo(this.wrapper),this.thumbnail=$("<div>",{"class":"thumbnail"}).append($("<div>",{"class":"transparent"})).append($("<div>",{"class":"image"})).appendTo(this.wrapper),this.thumbnail=this.thumbnail.children(".image"),this.name=$("<div>",{"class":"name"}).appendTo(this.wrapper),this.update(),this.visibleIconWrapper.on("click touchend",function(e){e.stopPropagation();var t=n.layer.state.visible;n.layer.toggleVisibility(),n.layer.mercuryCanvas.session.addOperation({type:"layer.visibility",layer:n.layer,old:t,"new":n.layer.state.visible})}),this.wrapper.on("click",function(){n.layer.mercuryCanvas.session.keys.ctrl?n.layer.select("append"):n.layer.mercuryCanvas.session.keys.shift?n.layer.select("append"):n.layer.select("only")}),this.wrapper.prependTo(t.parent)}return u(e,[{key:"update",value:function(){this.visibleIcon.attr("class",(0,h["default"])("fa","fa-fw",{"fa-eye":this.layer.state.visible,"fa-square":!this.layer.state.visible})),this.wrapper.css({zIndex:this.layer.coords.z}).attr("class",(0,h["default"])({layerThumbnail:!0,selected:this.layer.selected}));var e=this.layer.noThumbnail?"./img/imageTooBig.png":this.layer.canvas.toDataURL();this.thumbnail.css("background-image",'url("'+e+'")'),this.name.html(this.layer.name)}},{key:"delete",value:function(){this.wrapper.remove()}},{key:"remove",value:function(){this.wrapper.hide()}},{key:"restore",value:function(){this.wrapper.show()}}]),e}(),F=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e)),r=n,i=n.mercuryCanvas;return n.element.addClass("layersPanel"),n.layersList=$("<div>",{"class":"layersList"}).appendTo(n.element),n.buttons={},n.buttons.wrapper=$("<div>",{"class":"buttons"}).appendTo(n.element),n.buttons.trash=$("<div>",{"class":"tool trash",html:$("<i>",{"class":"fa fa-fw fa-trash"})}).appendTo(n.buttons.wrapper),i.addShortcut("del",function(){n.buttons.trash.click()}),n.buttons.trash.on("click",function(){var e=[];f["default"].each(i.session.selectedLayers.list,function(t){e.push(t)}),f["default"].each(e,function(e){e.remove()})}),n.last={},n.sortable=new p["default"](n.layersList[0],{group:{name:"layerThumbnails",put:!1,pull:"clone"},dataIdAttr:"data-id",animation:150,filter:".visible",draggable:".layerThumbnail",onEnd:n.onEnd.bind(n),onStart:function(e){n.last.oldIndex=e.oldIndex}}),n.trashSortable=new p["default"](n.buttons.trash[0],{group:{name:"layerThumbnails",put:!0,pull:!1},onAdd:function(e){n.moveThumbnail({newIndex:n.last.oldIndex,element:e.item});var t=r.elementToThumbnail({element:e.item});t.layer.remove(),e.item.remove()}}),n.thumbnails=[],n.lastID=0,i.on("layer.new",function(e){n.lastID++,r.thumbnails.unshift(new k({layer:e,parent:r.layersList,id:n.lastID}))}),i.on("layer.update",function(e){var t=n.elementToThumbnail({layer:e});t&&t.update()}),i.on("layer.remove",function(e){var t=r.elementToThumbnail({layer:e});t&&(n.layersList[0].contains(t.wrapper[0])||(t.wrapper=$(".sortable-chosen",n.layersList).removeClass("sortable-chosen")),t.remove())}),i.on("layer.restore",function(e){var t=r.elementToThumbnail({layer:e});t&&t.restore()}),i.on("layer.detele",function(e){f["default"].remove(r.thumbnails,function(t){return t.layer==e&&(t["delete"](),!0)})}),i.on("layer.z.update",function(e){var t=n.elementToThumbnail({layer:e.layer}),o=r.thumbnails.length,i=r.thumbnails.indexOf(t);i!=o-e.z&&(n.moveThumbnail({oldIndex:i,newIndex:o-e.z}),n.onEnd({oldIndex:i,newIndex:o-e.z,simulated:!0,session:e.session}))}),i.on("layer.select",function(e){var t=r.elementToThumbnail({layer:e});t&&t.update()}),i.on("layer.deselect",function(e){var t=r.elementToThumbnail({layer:e});t&&t.update()}),i.on("undo.layer.zIndex",function(e){e.layer.coords.update({z:e.old.z,session:!0})}),i.on("redo.layer.zIndex",function(e){e.layer.coords.update({z:e["new"].z,session:!0})}),i.on("undo.layer.remove",function(e){e.layer.restore()}),i.on("redo.layer.remove",function(e){e.layer.remove(!0)}),i.on("undo.layer.visibility",function(e){return e.layer.toggleVisibility(e.old)}),i.on("redo.layer.visibility",function(e){return e.layer.toggleVisibility(e["new"])}),n}return i(t,e),u(t,[{key:"elementToThumbnail",value:function(e){if(!f["default"].isObject(e)||!f["default"].has(e,"layer")&&!f["default"].has(e,"element"))return!1;var t;return e.layer&&(f["default"].isFunction(e.layer.get)&&(e.layer=e.layer.get(0)),f["default"].has(e.layer,"name")&&(e.layer=e.layer.element[0])),e.element&&f["default"].isFunction(e.element.get)&&(e.element=[e.element.get(0)]),f["default"].each(this.thumbnails,function(n){if(n)return n.layer.element[0]==e.layer?(t=n,!1):n.wrapper[0]==e.element?(t=n,!1):void 0}),t}},{key:"updateZIndexes",value:function(e){var t,n=this.thumbnails.length;return f["default"].each(this.thumbnails,function(r,o){if(r){var i=n-o;r.layer==e&&(t=i),r.layer.coords.update({z:i})}}),t}},{key:"onEnd",value:function(e){if(f["default"].isNumber(e.oldIndex)&&f["default"].isNumber(e.newIndex)&&!f["default"].isNaN(e.oldIndex)&&!f["default"].isNaN(e.newIndex)&&e.oldIndex!=e.newIndex){var t=this.thumbnails.splice(e.oldIndex,1)[0];this.thumbnails.splice(e.newIndex,0,t),e.simulated||(e.oldIndex=this.thumbnails.length-e.oldIndex-1,e.newIndex=this.thumbnails.length-e.newIndex-1),this.updateZIndexes(),e.session||t.layer.state.removed||this.mercuryCanvas.session.addOperation({type:"layer.zIndex",layer:t.layer,old:{z:e.oldIndex+1},"new":{z:e.newIndex+1}})}}},{key:"moveThumbnail",value:function(e){!e.oldIndex&&e.element&&(e.oldIndex=this.thumbnails.indexOf(e.element.attributes["data-id"].value));var t=this.sortable.toArray(),n=t.splice(e.oldIndex,1)[0];t.splice(e.newIndex,0,n),this.sortable.sort(t)}}]),t}(x);t.Toolbar=_,t.LayersPanel=F,t.Settings=w},function(e,t,n){var r,o;/**!
	 * Sortable
	 * @author	RubaXa   <trash@rubaxa.org>
	 * @license MIT
	 */
!function(i){"use strict";r=i,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=g({},t),e[R]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var r in n)!(r in t)&&(t[r]=n[r]);X(t);for(var i in this)"_"===i.charAt(0)&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&U,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),$.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){w&&w.state!==e&&(s(w,"display",e?"none":""),!e&&w.state&&_.insertBefore(w,m),w.state=e)}function n(e,t,n){if(e){n=n||z,t=t.split(".");var r=t.shift().toUpperCase(),o=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do if(">*"===r&&e.parentNode===n||(""===r||e.nodeName.toUpperCase()==r)&&(!t.length||((" "+e.className+" ").match(o)||[]).length==t.length))return e;while(e!==n&&(e=e.parentNode))}return null}function r(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}function a(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(P," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(P," ")}}function s(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return z.defaultView&&z.defaultView.getComputedStyle?n=z.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function u(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function c(e,t,n,r,o,i,a){var s=z.createEvent("Event"),u=(e||t[R]).options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=t,s.from=o||t,s.item=r||t,s.clone=w,s.oldIndex=i,s.newIndex=a,t.dispatchEvent(s),u[c]&&u[c].call(e,s)}function f(e,t,n,r,o,i){var a,s,u=e[R],c=u.options.onMove;return a=z.createEvent("Event"),a.initEvent("move",!0,!0),a.to=t,a.from=e,a.dragged=n,a.draggedRect=r,a.related=o||t,a.relatedRect=i||t.getBoundingClientRect(),e.dispatchEvent(a),c&&(s=c.call(u,a)),s}function l(e){e.draggable=!1}function h(){H=!1}function d(e,t){var n=e.lastElementChild,r=n.getBoundingClientRect();return(t.clientY-(r.top+r.height)>5||t.clientX-(r.right+r.width)>5)&&n}function p(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function v(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function y(e,t){var n,r;return function(){void 0===n&&(n=arguments,r=this,setTimeout(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),n=void 0},t))}}function g(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var m,b,x,w,_,k,F,A,C,E,S,T,O,I,j,L,M,D={},P=/\s+/g,R="Sortable"+(new Date).getTime(),N=window,z=N.document,B=N.parseInt,U=!!("draggable"in z.createElement("div")),q=function(e){return e=z.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),H=!1,W=Math.abs,$=([].slice,[]),Y=y(function(e,t,n){if(n&&t.scroll){var r,o,i,a,s=t.scrollSensitivity,u=t.scrollSpeed,c=e.clientX,f=e.clientY,l=window.innerWidth,h=window.innerHeight;if(A!==n&&(F=t.scroll,A=n,F===!0)){F=n;do if(F.offsetWidth<F.scrollWidth||F.offsetHeight<F.scrollHeight)break;while(F=F.parentNode)}F&&(r=F,o=F.getBoundingClientRect(),i=(W(o.right-c)<=s)-(W(o.left-c)<=s),a=(W(o.bottom-f)<=s)-(W(o.top-f)<=s)),i||a||(i=(l-c<=s)-(c<=s),a=(h-f<=s)-(f<=s),(i||a)&&(r=N)),D.vx===i&&D.vy===a&&D.el===r||(D.el=r,D.vx=i,D.vy=a,clearInterval(D.pid),r&&(D.pid=setInterval(function(){r===N?N.scrollTo(N.pageXOffset+i*u,N.pageYOffset+a*u):(a&&(r.scrollTop+=a*u),i&&(r.scrollLeft+=i*u))},24)))}},30),X=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return e.prototype={constructor:e,_onTapStart:function(e){var t=this,r=this.el,o=this.options,i=e.type,a=e.touches&&e.touches[0],s=(a||e).target,u=s,f=o.filter;if(!("mousedown"===i&&0!==e.button||o.disabled)&&(s=n(s,o.draggable,r))){if(T=v(s),"function"==typeof f){if(f.call(this,e,s,this))return c(t,u,"filter",s,r,T),void e.preventDefault()}else if(f&&(f=f.split(",").some(function(e){if(e=n(u,e.trim(),r))return c(t,e,"filter",s,r,T),!0})))return void e.preventDefault();o.handle&&!n(u,o.handle,r)||this._prepareDragStart(e,a,s)}},_prepareDragStart:function(e,t,n){var r,i=this,s=i.el,c=i.options,f=s.ownerDocument;n&&!m&&n.parentNode===s&&(j=e,_=s,m=n,b=m.parentNode,k=m.nextSibling,I=c.group,r=function(){i._disableDelayedDrag(),m.draggable=!0,a(m,i.options.chosenClass,!0),i._triggerDragStart(t)},c.ignore.split(",").forEach(function(e){u(m,e.trim(),l)}),o(f,"mouseup",i._onDrop),o(f,"touchend",i._onDrop),o(f,"touchcancel",i._onDrop),c.delay?(o(f,"mouseup",i._disableDelayedDrag),o(f,"touchend",i._disableDelayedDrag),o(f,"touchcancel",i._disableDelayedDrag),o(f,"mousemove",i._disableDelayedDrag),o(f,"touchmove",i._disableDelayedDrag),i._dragStartTimer=setTimeout(r,c.delay)):r())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),i(e,"mouseup",this._disableDelayedDrag),i(e,"touchend",this._disableDelayedDrag),i(e,"touchcancel",this._disableDelayedDrag),i(e,"mousemove",this._disableDelayedDrag),i(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(j={target:m,clientX:e.clientX,clientY:e.clientY},this._onDragStart(j,"touch")):this.nativeDraggable?(o(m,"dragend",this),o(_,"dragstart",this._onDragStart)):this._onDragStart(j,!0);try{z.selection?z.selection.empty():window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){_&&m&&(a(m,this.options.ghostClass,!0),e.active=this,c(this,_,"start",m,_,T))},_emulateDragOver:function(){if(L){if(this._lastX===L.clientX&&this._lastY===L.clientY)return;this._lastX=L.clientX,this._lastY=L.clientY,q||s(x,"display","none");var e=z.elementFromPoint(L.clientX,L.clientY),t=e,n=" "+this.options.group.name,r=$.length;if(t)do{if(t[R]&&t[R].options.groups.indexOf(n)>-1){for(;r--;)$[r]({clientX:L.clientX,clientY:L.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);q||s(x,"display","")}},_onTouchMove:function(t){if(j){e.active||this._dragStarted(),this._appendGhost();var n=t.touches?t.touches[0]:t,r=n.clientX-j.clientX,o=n.clientY-j.clientY,i=t.touches?"translate3d("+r+"px,"+o+"px,0)":"translate("+r+"px,"+o+"px)";M=!0,L=n,s(x,"webkitTransform",i),s(x,"mozTransform",i),s(x,"msTransform",i),s(x,"transform",i),t.preventDefault()}},_appendGhost:function(){if(!x){var e,t=m.getBoundingClientRect(),n=s(m),r=this.options;x=m.cloneNode(!0),a(x,r.ghostClass,!1),a(x,r.fallbackClass,!0),s(x,"top",t.top-B(n.marginTop,10)),s(x,"left",t.left-B(n.marginLeft,10)),s(x,"width",t.width),s(x,"height",t.height),s(x,"opacity","0.8"),s(x,"position","fixed"),s(x,"zIndex","100000"),s(x,"pointerEvents","none"),r.fallbackOnBody&&z.body.appendChild(x)||_.appendChild(x),e=x.getBoundingClientRect(),s(x,"width",2*t.width-e.width),s(x,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,r=this.options;this._offUpEvents(),"clone"==I.pull&&(w=m.cloneNode(!0),s(w,"display","none"),_.insertBefore(w,m)),t?("touch"===t?(o(z,"touchmove",this._onTouchMove),o(z,"touchend",this._onDrop),o(z,"touchcancel",this._onDrop)):(o(z,"mousemove",this._onTouchMove),o(z,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",r.setData&&r.setData.call(this,n,m)),o(z,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var r,o,i,a=this.el,u=this.options,c=u.group,l=c.put,p=I===c,v=u.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!u.dragoverBubble&&e.stopPropagation()),M=!0,I&&!u.disabled&&(p?v||(i=!_.contains(m)):I.pull&&l&&(I.name===c.name||l.indexOf&&~l.indexOf(I.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if(Y(e,u,this.el),H)return;if(r=n(e.target,u.draggable,a),o=m.getBoundingClientRect(),i)return t(!0),void(w||k?_.insertBefore(m,w||k):v||_.appendChild(m));if(0===a.children.length||a.children[0]===x||a===e.target&&(r=d(a,e))){if(r){if(r.animated)return;g=r.getBoundingClientRect()}t(p),f(_,a,m,o,r,g)!==!1&&(m.contains(a)||(a.appendChild(m),b=a),this._animate(o,m),r&&this._animate(g,r))}else if(r&&!r.animated&&r!==m&&void 0!==r.parentNode[R]){C!==r&&(C=r,E=s(r),S=s(r.parentNode));var y,g=r.getBoundingClientRect(),F=g.right-g.left,A=g.bottom-g.top,T=/left|right|inline/.test(E.cssFloat+E.display)||"flex"==S.display&&0===S["flex-direction"].indexOf("row"),O=r.offsetWidth>m.offsetWidth,j=r.offsetHeight>m.offsetHeight,L=(T?(e.clientX-g.left)/F:(e.clientY-g.top)/A)>.5,D=r.nextElementSibling,P=f(_,a,m,o,r,g);if(P!==!1){if(H=!0,setTimeout(h,30),t(p),1===P||P===-1)y=1===P;else if(T){var N=m.offsetTop,z=r.offsetTop;y=N===z?r.previousElementSibling===m&&!O||L&&O:z>N}else y=D!==m&&!j||L&&j;m.contains(a)||(y&&!D?a.appendChild(m):r.parentNode.insertBefore(m,y?D:r)),b=m.parentNode,this._animate(o,m),this._animate(g,r)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var r=t.getBoundingClientRect();s(t,"transition","none"),s(t,"transform","translate3d("+(e.left-r.left)+"px,"+(e.top-r.top)+"px,0)"),t.offsetWidth,s(t,"transition","all "+n+"ms"),s(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){s(t,"transition",""),s(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;i(z,"touchmove",this._onTouchMove),i(e,"mouseup",this._onDrop),i(e,"touchend",this._onDrop),i(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,r=this.options;clearInterval(this._loopId),clearInterval(D.pid),clearTimeout(this._dragStartTimer),i(z,"mousemove",this._onTouchMove),this.nativeDraggable&&(i(z,"drop",this),i(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(M&&(t.preventDefault(),!r.dropBubble&&t.stopPropagation()),x&&x.parentNode.removeChild(x),m&&(this.nativeDraggable&&i(m,"dragend",this),l(m),a(m,this.options.ghostClass,!1),a(m,this.options.chosenClass,!1),_!==b?(O=v(m),O>=0&&(c(null,b,"sort",m,_,T,O),c(this,_,"sort",m,_,T,O),c(null,b,"add",m,_,T,O),c(this,_,"remove",m,_,T,O))):(w&&w.parentNode.removeChild(w),m.nextSibling!==k&&(O=v(m),O>=0&&(c(this,_,"update",m,_,T,O),c(this,_,"sort",m,_,T,O)))),e.active&&(null!==O&&O!==-1||(O=T),c(this,_,"end",m,_,T,O),this.save())),_=m=b=x=k=w=F=A=j=L=M=O=C=E=I=e.active=null)},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?m&&(this._onDragOver(e),r(e)):"drop"!==t&&"dragend"!==t||this._onDrop(e)},toArray:function(){for(var e,t=[],r=this.el.children,o=0,i=r.length,a=this.options;o<i;o++)e=r[o],n(e,a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||p(e));return t},sort:function(e){var t={},r=this.el;this.toArray().forEach(function(e,o){var i=r.children[o];n(i,this.options.draggable,r)&&(t[e]=i)},this),e.forEach(function(e){t[e]&&(r.removeChild(t[e]),r.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&X(n)))},destroy:function(){var e=this.el;e[R]=null,i(e,"mousedown",this._onTapStart),i(e,"touchstart",this._onTapStart),this.nativeDraggable&&(i(e,"dragover",this),i(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),$.splice($.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:o,off:i,css:s,find:u,is:function(e,t){return!!n(e,t,e)},extend:g,throttle:y,closest:n,toggleClass:a,index:v},e.create=function(t,n){return new e(t,n)},e.version="1.4.2",e})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),s=r(a),u=n(43),c=r(u);n(71);var f=function(){function e(t){var n=this;o(this,e),s["default"].merge(this,{id:null,name:null,required:!1,type:"input",value:null,message:"",min:1},t),this.label||(this.label=this.name);var r,i=$("<div>",{id:this.id,"class":(0,c["default"])({materialInput:!0,checkbox:"boolean"==this.type})});return"boolean"==this.type?($("<label>",{"for":this.name,html:this.label+":"}).appendTo(i),r=$("<input>",{type:"checkbox",name:this.name,checked:this.value}).appendTo(i)):(r=$("<input>",{type:"text",name:this.name,value:this.value,required:this.required,min:this.min}).appendTo(i),$("<span>",{"class":"highlight"}).appendTo(i),$("<span>",{"class":"bar"}).appendTo(i),$("<label>",{"for":this.name,html:this.label}).appendTo(i),$("<div>",{"class":"message",html:this.message}).appendTo(i)),r.on("change input verify",function(){var e;e="boolean"==n.type?r.is(":checked"):r.val().trim(),"boolean"==n.type?i.trigger("changeVerified",[e,n.id]):n.verify(e)?(i.removeClass("error empty"),"number"==n.type&&(e=parseFloat(e)),n.value!=e&&(n.value=e,i.trigger("changeVerified",[e,n.id]))):(e.length||i.addClass("empty"),r.attr("required")&&i.addClass("error"))}),i}return i(e,[{key:"verify",value:function(e){if("number"==this.type)return e&&e.length&&!isNaN(e)}}]),e}();t["default"]=f},function(e,t,n){var r=n(72);"string"==typeof r&&(r=[[e.id,r,""]]);var o=n(11)(r,{});r.locals&&(e.exports=r.locals),r.locals||e.hot.accept(72,function(){var t=n(72);"string"==typeof t&&(t=[[e.id,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,n){t=e.exports=n(10)(),t.push([e.id,".materialInput:not(.empty) input~label,.materialInput input:focus~label,.materialInput input:required:valid~label{top:-20px;font-size:14px;color:#303f9f;outline:0;opacity:1}.materialInput{position:relative;margin:20px 0 35px;font-size:14px;-webkit-transition:margin .3s;transition:margin .3s}.materialInput,.materialInput *{box-sizing:border-box}.materialInput.checkbox input{display:inline-block;width:auto}.materialInput.checkbox label{position:static;padding-right:5px;color:#3f51b5;pointer-events:all;opacity:1}.materialInput input{display:block;width:100%;padding:10px 10px 10px 5px;font-size:18px;border:0;border-bottom:1px solid #757575;outline:0;box-shadow:none}.materialInput input:focus~.bar:after,.materialInput input:focus~.bar:before{width:50%}.materialInput input:focus~.highlight{-webkit-animation:inputHighlighter .3s ease;animation:inputHighlighter .3s ease}.materialInput label{position:absolute;top:10px;left:5px;display:inline-block;max-width:100%;margin-bottom:5px;font-size:18px;font-weight:400;color:#000;text-transform:capitalize;pointer-events:none;opacity:.38;-webkit-transition:opacity .2s,top .2s,color .2s,font-size .2s;transition:opacity .2s,top .2s,color .2s,font-size .2s}.materialInput .bar{position:relative;display:block;width:100%}.materialInput .bar:after,.materialInput .bar:before{position:absolute;bottom:1px;width:0;height:2px;background:#303f9f;content:'';-webkit-transition:width .5s,color .2s;transition:width .5s,color .2s}.materialInput .bar:before{left:50%}.materialInput .bar:after{right:50%}.materialInput .highlight{position:absolute;top:25%;left:0;width:50px;height:60%;pointer-events:none;opacity:.5}.materialInput .message{margin-top:5px;font-size:14px;line-height:14px;text-align:left;opacity:0;-webkit-transition:opacity .2s,color .2s;transition:opacity .2s,color .2s}.materialInput.error{margin-bottom:45px}.materialInput.error .bar:after,.materialInput.error .bar:before{width:50%;background:#f44336}.materialInput.error .message{color:#f44336;opacity:1}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),s=r(a),u=n(33)(window.log.getLogger("workerMaster.js"),{prefixes:["level"],staticPrefixes:["workerMaster.js"],separator:"/"}),c=window.MWorker=n(74),f=function(){function e(){o(this,e),this.worker=new c,this.worker.onmessage=this.receive.bind(this),this.worker.onerror=function(e){return u.error("Worker Error:",e)},this.queue={},this.addAction({id:"init",type:"active"}),this.done=!0,this.id=s["default"].uniqueId("worker_"),this.receive=this.receive.bind(this),this.processQueue()}return i(e,[{key:"send",value:function(e,t){t?this.worker.postMessage({type:e.type,data:e.data,id:e.id},[t]):this.worker.postMessage({type:e.type,data:e.data,id:e.id}),this.done=!1}},{key:"receive",value:function(e){if(!e||!e.data||!s["default"].isObject(e.data))return!1;var t=e.data;s["default"].isString(t.event)&&s["default"].isString(t.id)&&("progress"==t.event&&(this.done=!0,"init"==t.id?u.info("Worker ready"):this.queue[t.id].progress(t),delete this.queue[t.id],this.processQueue()),"log"==t.event&&u.info(this.id+":",t.data))}},{key:"addAction",value:function(e){e.type=s["default"].isString(e.type)?e.type:"",e.priority=s["default"].isNumber(e.priority)?e.priority:0,e.progress=s["default"].isFunction(e.progress)?e.progress:function(){},e.id=s["default"].isString(e.id)?e.id:s["default"].uniqueId("actionPart_"),this.queue[e.id]=e,this.processQueue()}},{key:"processQueue",value:function(){if(this.done){var e,t=0;s["default"].forIn(this.queue,function(n){t=Math.max(n.priority,t),t==n.priority&&(e=n)}),e&&this.send(e)}}}]),e}(),l=function(){function e(t){if(o(this,e),this.mercuryCanvas=t,this.workers=[],this.queue={},this.results={},"function"==typeof window.Worker)for(var n=navigator.hardwareConcurrency>0?navigator.hardwareConcurrency:t.state.workers,r=0;r<n;r++){var i=new f;this.workers.push(i)}}return i(e,[{key:"progress",value:function(e,t){var n=this.results[e.id];if(t.data.id=parseInt(t.id.slice(-2).replace("_","")),n.push(t.data),s["default"].isFunction(e.originalProgress)&&e.originalProgress(t),n.length==this.queue[e.id].parts.length){var r={};if("trim"==e.type){var o={x:0,y:0},i={x:1/0,y:1/0};n=s["default"].sortBy(n,["id"]),s["default"].each(n,function(e){i.x=Math.min(i.x,e.bound.x),i.y=Math.min(i.y,e.bound.y),o.x=Math.max(o.x,e.bound.x2),o.y=Math.max(o.y,e.bound.y2)}),r={x:i.x,y:i.y,x2:o.x,y2:o.y}}s["default"].isFunction(e.finish)&&e.finish(r)}}},{key:"addAction",value:function(e){e.type=s["default"].isString(e.type)?e.type:"",e.originalProgress=s["default"].isFunction(e.progress)?e.progress:function(){},e.finish=s["default"].isFunction(e.finish)?e.finish:function(){},e.progress=this.progress.bind(this,e),e.id=s["default"].uniqueId("action_"),this.queue[e.id]=e,this.results[e.id]=[],this.splitToWorkers(e)}},{key:"splitToWorkers",value:function(e){var t=this;if("trim"==e.type){e.parts=[];for(var n=e.data.data,r=0,o=Math.round(n.length/this.workers.length/this.mercuryCanvas.state.workerMultiplier),i=0;i<this.workers.length*this.mercuryCanvas.state.workerMultiplier;i++){var a=n.slice(o*i,o*(i+1)).buffer,u={width:e.data.width,pixels:a,startIndex:r};r+=a.byteLength,e.parts.push(u)}}s["default"].each(e.parts,function(n,r){t.workers[r%t.workers.length].addAction({type:"trim",taskID:e.id,data:e.parts[r],progress:e.progress,finish:e.finish})})}}]),e}();t["default"]=l},function(e,t,n){e.exports=function(){return new Worker(n.p+"5c96820d2160c35c607a.worker.js")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),s=r(a),u=n(33)(window.log.getLogger("state.js"),{prefixes:["level"],staticPrefixes:["state.js"],separator:"/"}),c=function(){function e(){o(this,e),this.local=localStorage.getItem("mercuryCanvas");try{this.local=JSON.parse(this.local)}catch(t){u.warn("Local settings are corrupted"),this.local={}}var n;this.local||(this.local={},n=!0),s["default"].merge(this,{debugRotate:!1,bigImageSizeMb:1,downloadName:"Picture.png",background:"#fff",strokeColor:"#000",workers:1,workerMultiplier:1,lineWidth:20,handlerSize:18,menus:[],activeTools:[],moveTool:{autoSelect:!0},eyedropper:{gridSize:9,gridSpace:30},snap:{menuDistance:40,distance:20,toStartPosition:!0,toWindowMargin:!0,toLayer:!1}},this.local),this.workers=1,this.workerMultiplier=1,n&&this.save()}return i(e,[{key:"save",value:function(){var e=this,t=s["default"].clone(this);delete t.activeTools,delete t.menus,delete t.local;var n=s["default"].reduce(t,function(t,n,r){return s["default"].isEqual(n,e.local[r])?t:t.concat(r)},[]);0!=n.length&&localStorage.setItem("mercuryCanvas",JSON.stringify(t))}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),s=r(a),u=n(31),c=n(32),f=n(42),l=r(f),h=n(33)(window.log.getLogger("session.js"),{prefixes:["level"],staticPrefixes:["session.js"],separator:"/"}),d=function(){function e(t){var n=this;o(this,e),this.mercuryCanvas=t,this.list=[],this.rect=new c.coords,this.state={transform:!1},this.oldCoords=[],this.cursor={shown:!1,matrix:new u.Matrix};var r=$("<div>",{"class":"selectCursor",css:{zIndex:1002}}).hide();r.appendTo(t.layersContainer),this.cursor.element=r,t.on("layer.remove",function(){n.makeBox(),requestAnimationFrame(n.draw.bind(n))}),t.on("undo.transform",function(e){console.log(e),s["default"].each(e.layers,function(t,n){t.draw(t.original.image,{update:!1}),t.coords.update(e.coords.old[n]),t.applyScale(),t.applyRotation(e.coords.old[n].pivot)}),n.makeBox(),n.mouseMove(t.session.mouse.last)}),t.on("redo.transform",function(e){console.log(e),s["default"].each(e.layers,function(t,n){t.draw(t.original.image,{update:!1}),t.coords.update(e.coords["new"][n]),t.applyScale(),t.applyRotation(e.coords["new"][n].pivot)}),n.makeBox(),n.mouseMove(t.session.mouse.last)}),t.on("layer.trim",function(){requestAnimationFrame(n.draw.bind(n))}),t.on("key.up",function(){return n.mouseMove(t.session.mouse.last)}),t.on("key.down",function(){return n.mouseMove(t.session.mouse.last)}),t.on("mousedown",this.mouseDown.bind(this)),t.on("mouseup",this.mouseUp.bind(this)),t.on("mousemove",function(e){n.state.transform&&n.mouseMove(e)}),t.on("touchstart",function(e){return n.mouseDown(e.originalEvent.touches[0])}),t.on("touchmove",function(e){n.state.transform&&n.mouseMove(e.originalEvent.touches[0])}),t.on("touchend",function(e){return n.mouseUp(e.originalEvent.touches[0])}),t.addShortcut("mod + alt + t",function(){n.enterTransform()}),t.addShortcut("mod + enter",function(){n.exitTransform()})}return i(e,[{key:"makeBox",value:function(){var e=new c.coords({x:1/0,y:1/0});e.x2=0,e.y2=0,s["default"].each(this.list,function(t){var n={x:t.coords.x+t.coords.width,y:t.coords.y+t.coords.height};e.x=Math.min(e.x,t.coords.x),e.y=Math.min(e.y,t.coords.y),e.x2=Math.max(e.x2,n.x),e.y2=Math.max(e.y2,n.y)}),e.width=e.x2-e.x,e.height=e.y2-e.y,this.rect.update(e)}},{key:"select",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"only":arguments[1];"append"==t?this.list.push(e):"only"==t&&(s["default"].each(this.list,function(t){t!=e&&t.deselect()}),this.list=[e]),this.makeBox()}},{key:"deselectAll",value:function(){s["default"].each(this.list,function(e){e.deselect()}),this.list=[]}},{key:"enterTransform",value:function(){if(!this.state.transform){this.state.transform=!0;var e=this.mercuryCanvas;this.lastActiveTools=e.state.activeTools,s["default"].forIn(e.state.activeTools,function(e){e.deselect()}),e.state.activeTools=[],this.mouseMove(e.session.mouse.lastEvent)}}},{key:"exitTransform",value:function(){if(this.state.transform){this.state.transform=!1;var e=this.mercuryCanvas;this.cursor.element.hide(),e.layersContainer.css({cursor:"default"}),s["default"].forIn(this.lastActiveTools,function(e){e.select()}),e.state.activeTools=this.lastActiveTools,e.overlay.clear()}}},{key:"chooseCursor",value:function(e){var t=this.mercuryCanvas,n=t.session.selectedLayers.rect;if(!n)return"default";var r,o=new c.coords(e).toCanvasSpace(t),i=s["default"].clone(n),a=t.state.handlerSize,u=a/2;if(o.x>i.x&&o.x<i.x+i.width&&o.y>i.y&&o.y<i.y+i.height&&(r="move"),o.x>i.x-u&&o.x<i.x+u&&o.y>i.y-u&&o.y<i.y+u&&(r="nw-resize"),o.x>i.x+i.width-u&&o.x<i.x+i.width+u&&o.y>i.y-u&&o.y<i.y+u&&(r="ne-resize"),o.x>i.x+i.width-u&&o.x<i.x+i.width+u&&o.y>i.y+i.height-u&&o.y<i.y+i.height+u&&(r="se-resize"),o.x>i.x-u&&o.x<i.x+u&&o.y>i.y+i.height-u&&o.y<i.y+i.height+u&&(r="sw-resize"),o.x>=i.x+u&&o.x<=i.x+i.width-u&&o.y>i.y-a/3&&o.y<i.y+a/3&&(r="n-resize"),o.x>i.x+i.width-a/3&&o.x<i.x+i.width+a/3&&o.y>=i.y+u&&o.y<=i.y+i.height-u&&(r="e-resize"),o.x>=i.x+u&&o.x<=i.x+i.width-u&&o.y>i.y+i.height-a/3&&o.y<i.y+i.height+a/3&&(r="s-resize"),o.x>i.x-a/3&&o.x<i.x+a/3&&o.y>=i.y+u&&o.y<=i.y+i.height-u&&(r="w-resize"),!t.state.debugRotate||(!t.session.mouse.down||!s["default"].isObject(t.session.mouse.action)||"rotate"!=t.session.mouse.action.cursor)&&o.x>i.x-u&&o.y>i.y-u&&o.x<i.x+i.width+u&&o.y<i.y+i.height+u)return r;var f;return f=o.x<i.x+i.width/4?o.y<i.y+i.height/4?0:o.y>i.y+3*i.height/4?-90:-45:o.x<i.x+3*i.width/4?o.y<i.y+i.height/4?45:o.y>i.y+3*i.height/4?-135:o.x<i.x+i.width/2?-45:135:o.y<i.y+i.height/4?90:o.y>i.y+3*i.height/4?-180:135,s["default"].isNumber(f)?{cursor:"rotate",angle:f}:r}},{key:"draw",value:function(){if(this.state.transform){var e=this.mercuryCanvas;this.makeBox(),e.overlay.clear();var t=e.overlay.context;t.lineWidth=1,t.strokeStyle="#000",t.lineCap=e.overlay.context.lineJoin="square",t.fillStyle="rgba(255, 255, 255, 0.1)";var n=s["default"].clone(this.rect),r=e.state.handlerSize;n.x=Math.floor(n.x)-.5,n.y=Math.floor(n.y)-.5,n.width=Math.ceil(n.width)+1,n.height=Math.ceil(n.height)+1,n.topLeft=new c.coords({x:n.x,y:n.y}),n.topRight=new c.coords({x:n.x+n.width,y:n.y}),n.bottomRight=new c.coords({x:n.x+n.width,y:n.y+n.height}),n.bottomLeft=new c.coords({x:n.x,y:n.y+n.height}),n.sh=r/2,t.fillRect(n.topLeft.x-n.sh,n.topLeft.y-n.sh,r,r),t.fillRect(n.topRight.x-n.sh,n.topRight.y-n.sh,r,r),t.fillRect(n.bottomRight.x-n.sh,n.bottomRight.y-n.sh,r,r),t.fillRect(n.bottomLeft.x-n.sh,n.bottomLeft.y-n.sh,r,r),t.strokeRect(n.topLeft.x-n.sh,n.topLeft.y-n.sh,r,r),t.strokeRect(n.topRight.x-n.sh,n.topRight.y-n.sh,r,r),t.strokeRect(n.bottomRight.x-n.sh,n.bottomRight.y-n.sh,r,r),t.strokeRect(n.bottomLeft.x-n.sh,n.bottomLeft.y-n.sh,r,r),(n.width>r+1||n.height>r+1)&&(t.beginPath(),n.width++,n.height++,n.x--,n.y--,n.width>r+1&&(t.moveTo(n.topLeft.x+n.sh,n.topLeft.y),t.lineTo(n.topRight.x-n.sh,n.topRight.y),t.moveTo(n.bottomLeft.x+n.sh,n.bottomLeft.y),t.lineTo(n.bottomRight.x-n.sh,n.bottomRight.y)),n.height>r+1&&(t.moveTo(n.topRight.x,n.topRight.y+n.sh),t.lineTo(n.bottomRight.x,n.bottomRight.y-n.sh),t.moveTo(n.topLeft.x,n.topLeft.y+n.sh),t.lineTo(n.bottomLeft.x,n.bottomLeft.y-n.sh)),t.stroke(),t.closePath()),e.overlay.state.dirty=!0}}},{key:"mouseDown",value:function(e){var t=this;if(this.state.transform){var n=this.mercuryCanvas,r=n.session.mouse,o=new c.coords(e).toCanvasSpace(n);if(!s["default"].isUndefined(r.action)){r.initial={dist:[],mouse:s["default"].clone(o),selectedLayers:this.list.map(function(e){return s["default"].clone(e.coords)})};var i=n.session.mouse.initial.dist;s["default"].each(this.list,function(e,n){if(t.oldCoords[n]=s["default"].clone(e.coords),i[n]={x:r.initial.mouse.x-e.coords.x,y:r.initial.mouse.y-e.coords.y},e.original){var o=e.original.image;i[n].image={width:o.width,height:o.height};var a=s["default"].clone(e.coords);e.draw(o,{resize:!0,update:!1}),a.scale=!0,a.scaleX=a.width/o.width,a.scaleY=a.height/o.height,e.coords.update(a)}}),s["default"].isObject(r.action)&&"rotate"==r.action.cursor&&(this.rect.pivot={x:this.rect.x+this.rect.width/2,y:this.rect.y+this.rect.height/2}),this.mouseMove(e),requestAnimationFrame(this.draw.bind(this))}}}},{key:"mouseMove",value:function(e){var t=this;if(this.state.transform){var n=this.mercuryCanvas,r=n.session.mouse,o=new c.coords(e).toCanvasSpace(n);if(r.last=e,r.down){if(r.action){this.actioned=!0;var i=[];if("move"==r.action)s["default"].each(this.list,function(e,a){var u=r.initial.dist[a],c={x:o.x-u.x,y:o.y-u.y};if(n.session.keys.shift){var f=t.oldCoords[a],l={x:Math.abs(o.x-r.initial.mouse.x),y:Math.abs(o.y-r.initial.mouse.y)};l.x>n.state.snap.distance||l.y>n.state.snap.distance||!n.state.snap.toStartPosition?l.x>l.y?c.y=f.y:c.x=f.x:n.state.snap.toStartPosition&&(c.x=f.x,c.y=f.y)}i[a]=s["default"].clone(c),e.coords.update(c)});else if(s["default"].isObject(r.action)&&"rotate"==r.action.cursor){var a=Math.atan2(o.y-this.rect.pivot.y,o.x-this.rect.pivot.x),f=Math.atan2(r.initial.mouse.y-this.rect.pivot.y,r.initial.mouse.x-this.rect.pivot.x);a-=f,n.session.keys.shift&&(a=(15*Math.round(a.toDeg()/15)).toPi()),s["default"].each(this.list,function(e,n){e.coords.update({angle:a+t.oldCoords[n].angle,pivot:t.rect.pivot})});var l=new u.Matrix;l.rotateDeg(a.toDeg()),n.overlay.element.css({transform:l.toCSS(),transformOrigin:this.rect.pivot.x+"px "+this.rect.pivot.y+"px"}),this.updateCursor(this.chooseCursor(e),e)}else s["default"].each(this.list,function(e,a){var u=t.oldCoords[a],c=r.initial.dist[a],f={x:o.x-c.x,y:o.y-c.y},l={x:o.x-r.initial.mouse.x,y:o.y-r.initial.mouse.y};switch(r.action){case"nw-resize":f.width=u.width+l.x*-1,f.height=u.height+l.y*-1,n.session.keys.shift&&(t.symmetricScale(f,u),f.x=Math.min(u.x+u.width-f.width,u.x+u.width),f.y=Math.min(u.y+u.height-f.height,u.y+u.height)),n.session.keys.alt&&t.mirrorScale(f,u),f.x=Math.min(f.x,u.x+u.width),f.y=Math.min(f.y,u.y+u.height);break;case"ne-resize":f.width=o.x-u.x,f.height=u.height-o.y+u.y,f.x=u.x,f.y=Math.min(o.y,u.y+u.height),n.session.keys.shift&&(t.symmetricScale(f,u),f.y=Math.min(u.y+u.height-f.height,u.y+u.height)),n.session.keys.alt&&t.mirrorScale(f,u);break;case"se-resize":f.x=u.x,f.y=u.y,f.width=o.x-u.x,f.height=o.y-u.y,n.session.keys.shift&&t.symmetricScale(f,u),n.session.keys.alt&&t.mirrorScale(f,u);break;case"sw-resize":f.width=u.width+(u.x-o.x),f.height=u.height+(o.y-u.y-u.height),f.x=Math.min(o.x,u.x+u.width),f.y=u.y,n.session.keys.shift&&(t.symmetricScale(f,u),f.x=Math.min(u.x+u.width-f.width,u.x+u.width)),n.session.keys.alt&&t.mirrorScale(f,u);break;case"n-resize":f.width=u.width,f.height=u.height+(u.y-o.y),f.x=u.x,f.y=Math.min(o.y,u.y+u.height),n.session.keys.alt&&t.mirrorScale(f,u);
break;case"e-resize":f.width=u.width+(o.x-(u.x+u.width)),f.height=u.height,f.x=u.x,f.y=u.y,n.session.keys.alt&&t.mirrorScale(f,u);break;case"s-resize":f.width=u.width,f.height=u.height+(o.y-u.y-u.height),f.x=u.x,f.y=u.y,n.session.keys.alt&&t.mirrorScale(f,u);break;case"w-resize":f.width=u.width+(u.x-o.x),f.height=u.height,f.x=Math.min(o.x,u.x+u.width),f.y=u.y,n.session.keys.alt&&t.mirrorScale(f,u)}f.width=Math.max(0,f.width),f.height=Math.max(0,f.height),i[a]=s["default"].clone(f),f.scale=!0;var h=c.image?c.image.width:u.width,d=c.image?c.image.height:u.height;f.scaleX=f.width/h,f.scaleY=f.height/d,e.coords.update(f,!0)})}}else r.action=this.chooseCursor(e),this.updateCursor(r.action,e);requestAnimationFrame(this.draw.bind(this))}}},{key:"mirrorScale",value:function(e,t){var n={};n.width=e.width-t.width,n.height=e.height-t.height,e.width+=n.width,e.height+=n.height,e.x=Math.min(t.x-n.width,t.x+t.width/2),e.y=Math.min(t.y-n.height,t.y+t.height/2)}},{key:"symmetricScale",value:function(e,t){var n=e.width/t.width,r=e.height/t.height;e.height=t.height*(n+r)/2,e.width=t.width*(n+r)/2}},{key:"mouseUp",value:function(){var e=this;if(this.state.transform){var t=this.mercuryCanvas,n=t.session.mouse,r=[];s["default"].isObject(n.action)&&"rotate"==n.action.cursor&&t.overlay.element.css({transform:(new u.Matrix).toCSS(),transformOrigin:"0 0"});var o=[];s["default"].each(this.list,function(t,i){r[i]=s["default"].clone(t.coords),o.push({element:t.element,original:s["default"].clone(t.original)}),s["default"].isObject(n.action)&&"rotate"==n.action.cursor?t.applyRotation(e.rect.pivot):t.applyScale(e.rect.pivot)}),t.session.addOperation({type:"transform",layers:s["default"].clone(this.list),coords:{old:this.oldCoords,"new":r},originals:o}),n.action=void 0,this.oldCoords=[],t.session.mouse.reset(),requestAnimationFrame(this.draw.bind(this))}}},{key:"updateCursor",value:function(e,t){var n=this.mercuryCanvas,r=new c.coords(t).toCanvasSpace(n),o=n.session.mouse;o.down?s["default"].isObject(o.action)&&"rotate"==o.action.cursor&&(this.cursor.matrix.reset(),this.cursor.matrix.translate(r.x,r.y),this.cursor.matrix.rotateDeg(e.angle),this.cursor.element.css({transform:this.cursor.matrix.toCSS()})):s["default"].isObject(e)&&"rotate"==e.cursor?(this.cursor.matrix.reset(),this.cursor.matrix.translate(r.x,r.y),this.cursor.matrix.rotateDeg(e.angle),this.cursor.shown||(this.cursor.shown=!0,this.cursor.element.show()),this.cursor.element.css({transform:this.cursor.matrix.toCSS()}),n.layersContainer.css({cursor:"none"})):(this.cursor.shown&&(this.cursor.shown=!1,this.cursor.element.hide()),n.layersContainer.css({cursor:e?e:"default"}))}}]),e}(),p=function(){function e(t){var n=this;o(this,e),this.mercuryCanvas=t,this.input=$("<input>",{type:"file",name:"picture",accept:"image/*",multiple:!0}).hide().appendTo(t.element),this.a=$("<a>",{style:"display: none",download:t.state.downloadName}).appendTo(t.element),this.useBlob=window.URL,this.input.on("change",function(){n.readFiles(n.input[0].files)})}return i(e,[{key:"readFiles",value:function(e){var t=this;s["default"].each(e,function(e){if(e){var n=new FileReader;n.onload=function(){var r=new Image;r.addEventListener("load",function(){t.useBlob&&window.URL.revokeObjectURL(e),t.load(r,{name:e.name,width:r.width,height:r.height,type:e.type,size:{mb:e.size/1024/1024,kb:e.size/1024,b:e.size}})}),r.src=t.useBlob?window.URL.createObjectURL(e):n.result},n.readAsDataURL(e)}})}},{key:"load",value:function(e,t){t.size.mb>this.mercuryCanvas.state.bigImageSizeMb&&h.warn("The image could slow the app down.");var n=new l["default"]({image:e,parent:this.mercuryCanvas,name:t.name,noThumbnail:t.size.mb>this.mercuryCanvas.state.bigImageSizeMb});this.mercuryCanvas.session.addOperation({type:"layer.add",layer:n})}},{key:"openUploadDialog",value:function(){this.input.click()}},{key:"download",value:function(){var e=this,t=this.mercuryCanvas,n=[];s["default"].each(t.layers.list,function(e){n[e.coords.z]=e}),t.overlay.context.drawImage(t.base.canvas,0,0),s["default"].each(n,function(e){e&&e.state.visible&&!e.state.removed&&t.overlay.context.drawImage(e.canvas,e.coords.x,e.coords.y)}),t.overlay.state.dirty=!0,t.overlay.canvas.toBlob(function(n){var r=window.URL.createObjectURL(n);e.a[0].href=r,e.a[0].click(),setTimeout(function(){window.URL.revokeObjectURL(r)}),t.overlay.clear()})}}]),e}(),v=function(){function e(){o(this,e),this.reset()}return i(e,[{key:"reset",value:function(){this.points=[],this.delta={},this.extremes={x:1/0,y:1/0,x2:0,y2:0}}}]),e}(),y=function(){function e(t){o(this,e),s["default"].extend(this,{width:0,height:0,mouse:new v,selectedLayers:null,mercuryCanvas:null,file:null,keys:{},operations:[],operationIndex:0,zIndex:1},t),this.file=new p(this.mercuryCanvas),this.selectedLayers=new d(this.mercuryCanvas)}return i(e,[{key:"undo",value:function(){if(this.operationIndex--,!this.updateMenus())return!1;var e=this.operations[this.operationIndex];s["default"].isObject(e.tool)&&s["default"].isFunction(e.tool.undo)&&e.tool.undo(e),s["default"].isString(e.type)&&this.mercuryCanvas.emit("undo."+e.type,e)}},{key:"redo",value:function(){if(this.operationIndex++,!this.updateMenus())return!1;var e=this.operations[this.operationIndex-1];s["default"].isObject(e.tool)&&s["default"].isFunction(e.tool.redo)&&e.tool.redo(e),s["default"].isString(e.type)&&this.mercuryCanvas.emit("redo."+e.type,e)}},{key:"updateMenus",value:function(){if(this.operationIndex==this.operations.length)this.toggleButton({name:"redo",state:!1});else{if(this.operationIndex>this.operations.length)return this.operationIndex=this.operations.length,h.warn("Operation index is bigger than the list of operations.");this.toggleButton({name:"redo",state:!0})}if(0==this.operationIndex)this.toggleButton({name:"undo",state:!1});else{if(this.operationIndex<0)return this.operationIndex=0,h.warn("Operation index is smaller than 0.");this.toggleButton({name:"undo",state:!0})}return!0}},{key:"addOperation",value:function(e){this.clearOrphanOperations(),this.operations.push(e),this.operationIndex++,this.updateMenus()}},{key:"clearOrphanOperations",value:function(){var e=this,t=this.operations.splice(this.operationIndex);s["default"].forIn(t,function(t){s["default"].isObject(t.tool)&&s["default"].isFunction(t.tool.operationRemove)&&t.tool.operationRemove(t),s["default"].isString(t.type)&&e.mercuryCanvas.emit("operationRemove."+t.type,t)})}},{key:"toggleButton",value:function(e){var t=this.mercuryCanvas;s["default"].forIn(t.state.menus,function(t){s["default"].isFunction(t.toggleTool)&&t.toggleTool(e)})}}]),e}();t["default"]=y}]));